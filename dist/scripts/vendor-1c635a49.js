/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){var n=[],r=n.slice,i=n.concat,o=n.push,a=n.indexOf,s={},u=s.toString,c=s.hasOwnProperty,l={},d=e.document,p=function(e,t){return new p.fn.init(e,t)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=/^-ms-/,v=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};function g(e){var t="length"in e&&e.length,n=p.type(e);return"function"!==n&&!p.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}p.fn=p.prototype={jquery:"2.1.4",constructor:p,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return p.each(this,e,t)},map:function(e){return this.pushStack(p.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:o,sort:n.sort,splice:n.splice},p.extend=p.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||p.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(p.isPlainObject(r)||(i=p.isArray(r)))?(i?(i=!1,o=n&&p.isArray(n)?n:[]):o=n&&p.isPlainObject(n)?n:{},a[t]=p.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},p.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!p.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===p.type(e)&&!e.nodeType&&!p.isWindow(e)&&!(e.constructor&&!c.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?s[u.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=p.trim(e))&&(1===e.indexOf("use strict")?((t=d.createElement("script")).text=e,d.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(h,"ms-").replace(v,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=g(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(f,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(g(Object(e))?p.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,o=0,a=e.length,s=[];if(g(e))for(;o<a;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return i.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),p.isFunction(e))return i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||p.guid++,o},now:Date.now,support:l}),p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){s["[object "+t+"]"]=t.toLowerCase()}));var b=
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){var t,n,r,i,o,a,s,u,c,l,d,p,f,h,v,m,g,b,y,w="sizzle"+1*new Date,$=e.document,_=0,C=0,x=oe(),k=oe(),S=oe(),E=function(e,t){return e===t&&(d=!0),0},T={}.hasOwnProperty,D=[],A=D.pop,O=D.push,P=D.push,M=D.slice,R=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",L=I.replace("w","w#"),U="\\["+j+"*("+I+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+j+"*\\]",q=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",F=new RegExp(j+"+","g"),J=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),V=new RegExp("^"+j+"*,"+j+"*"),z=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),H=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),W=new RegExp(q),B=new RegExp("^"+L+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){p()};try{P.apply(D=M.call($.childNodes),$.childNodes),D[$.childNodes.length].nodeType}catch(e){P={apply:D.length?function(e,t){O.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,i){var o,s,c,l,d,h,g,b,_,C;if((t?t.ownerDocument||t:$)!==f&&p(t),r=r||[],l=(t=t||f).nodeType,"string"!=typeof e||!e||1!==l&&9!==l&&11!==l)return r;if(!i&&v){if(11!==l&&(o=Z.exec(e)))if(c=o[1]){if(9===l){if(!(s=t.getElementById(c))||!s.parentNode)return r;if(s.id===c)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(c))&&y(t,s)&&s.id===c)return r.push(s),r}else{if(o[2])return P.apply(r,t.getElementsByTagName(e)),r;if((c=o[3])&&n.getElementsByClassName)return P.apply(r,t.getElementsByClassName(c)),r}if(n.qsa&&(!m||!m.test(e))){if(b=g=w,_=t,C=1!==l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(h=a(e),(g=t.getAttribute("id"))?b=g.replace(ee,"\\$&"):t.setAttribute("id",b),b="[id='"+b+"'] ",d=h.length;d--;)h[d]=b+ve(h[d]);_=Q.test(e)&&fe(t.parentNode)||t,C=h.join(",")}if(C)try{return P.apply(r,_.querySelectorAll(C)),r}catch(e){}finally{g||t.removeAttribute("id")}}}return u(e.replace(J,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ae(e){return e[w]=!0,e}function se(e){var t=f.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return ae((function(t){return t=+t,ae((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=ie.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:$;return a!==f&&9===a.nodeType&&a.documentElement?(f=a,h=a.documentElement,(i=a.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),v=!o(a),n.attributes=se((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=se((function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=K.test(a.getElementsByClassName),n.getById=se((function(e){return h.appendChild(e).id=w,!a.getElementsByName||!a.getElementsByName(w).length})),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(v)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=K.test(a.querySelectorAll))&&(se((function(e){h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")})),se((function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=K.test(b=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&se((function(e){n.disconnectedMatch=b.call(e,"div"),b.call(e,"[s!='']:x"),g.push("!=",q)})),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=K.test(h.compareDocumentPosition),y=t||K.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===a||e.ownerDocument===$&&y($,e)?-1:t===a||t.ownerDocument===$&&y($,t)?1:l?R(l,e)-R(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===a?-1:t===a?1:i?-1:o?1:l?R(l,e)-R(l,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?ce(s[r],u[r]):s[r]===$?-1:u[r]===$?1:0},a):f},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(H,"='$1']"),n.matchesSelector&&v&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,f,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),y(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==f&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&T.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==o?o:n.attributes||!v?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(E),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=ie.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=ie.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,p,f,h,v=o!==a?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),b=!u&&!s;if(m){if(o){for(;v;){for(d=t;d=d[v];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&b){for(f=(c=(l=m[w]||(m[w]={}))[e]||[])[0]===_&&c[1],p=c[0]===_&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[v]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){l[e]=[_,f,p];break}}else if(b&&(c=(t[w]||(t[w]={}))[e])&&c[0]===_)p=c[1];else for(;(d=++f&&d&&d[v]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++p||(b&&((d[w]||(d[w]={}))[e]=[_,p]),d!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=R(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ae((function(e){var t=[],n=[],r=s(e.replace(J,"$1"));return r[w]?ae((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ae((function(e){return function(t){return ie(e,t).length>0}})),contains:ae((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:ae((function(e){return B.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,n){return[n<0?n+t:n]})),even:pe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:pe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:pe((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:pe((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=le(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function he(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=C++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c=[_,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(u=t[w]||(t[w]={}))[r])&&s[0]===_&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function ge(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function ye(e,t,n,r,i,o){return r&&!r[w]&&(r=ye(r)),i&&!i[w]&&(i=ye(i,o)),ae((function(o,a,s,u){var c,l,d,p=[],f=[],h=a.length,v=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?v:be(v,p,e,s,u),g=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,g,s,u),r)for(c=be(g,f),r(c,[],s,u),l=c.length;l--;)(d=c[l])&&(g[f[l]]=!(m[f[l]]=d));if(o){if(i||e){if(i){for(c=[],l=g.length;l--;)(d=g[l])&&c.push(m[l]=d);i(null,g=[],c,u)}for(l=g.length;l--;)(d=g[l])&&(c=i?R(o,d):p[l])>-1&&(o[c]=!(a[c]=d))}}else g=be(g===a?g.splice(h,g.length):g),i?i(null,a,g,u):P.apply(a,g)}))}function we(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=me((function(e){return e===t}),s,!0),d=me((function(e){return R(t,e)>-1}),s,!0),p=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):d(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(ge(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[w]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return ye(u>1&&ge(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(J,"$1"),n,u<i&&we(e.slice(u,i)),i<o&&we(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return ge(p)}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,a=ie.tokenize=function(e,t){var n,i,o,a,s,u,c,l=k[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=z.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(J," ")}),s=s.slice(n.length)),r.filter)!(i=G[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ie.error(e):k(e,u).slice(0)},s=ie.compile=function(e,t){var n,i=[],o=[],s=S[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=we(t[n]))[w]?i.push(s):o.push(s);(s=S(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var d,p,h,v=0,m="0",g=o&&[],b=[],y=c,w=o||i&&r.find.TAG("*",l),$=_+=null==y?1:Math.random()||.1,C=w.length;for(l&&(c=a!==f&&a);m!==C&&null!=(d=w[m]);m++){if(i&&d){for(p=0;h=e[p++];)if(h(d,a,s)){u.push(d);break}l&&(_=$)}n&&((d=!h&&d)&&v--,o&&g.push(d))}if(v+=m,n&&m!==v){for(p=0;h=t[p++];)h(g,b,a,s);if(o){if(v>0)for(;m--;)g[m]||b[m]||(b[m]=A.call(u));b=be(b)}P.apply(u,b),l&&!o&&b.length>0&&v+t.length>1&&ie.uniqueSort(u)}return l&&(_=$,c=y),g};return n?ae(o):o}(o,i))).selector=e}return s},u=ie.select=function(e,t,i,o){var u,c,l,d,p,f="function"==typeof e&&e,h=!o&&a(e=f.selector||e);if(i=i||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return i;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(u=G.needsContext.test(e)?0:c.length;u--&&(l=c[u],!r.relative[d=l.type]);)if((p=r.find[d])&&(o=p(l.matches[0].replace(te,ne),Q.test(c[0].type)&&fe(t.parentNode)||t))){if(c.splice(u,1),!(e=o.length&&ve(c)))return P.apply(i,o),i;break}}return(f||s(e,h))(o,t,!v,i,Q.test(e)&&fe(t.parentNode)||t),i},n.sortStable=w.split("").sort(E).join("")===w,n.detectDuplicates=!!d,p(),n.sortDetached=se((function(e){return 1&e.compareDocumentPosition(f.createElement("div"))})),se((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&se((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),se((function(e){return null==e.getAttribute("disabled")}))||ue(N,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ie}(e);p.find=b,p.expr=b.selectors,p.expr[":"]=p.expr.pseudos,p.unique=b.uniqueSort,p.text=b.getText,p.isXMLDoc=b.isXML,p.contains=b.contains;var y=p.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,$=/^.[^:#\[\.,]*$/;function _(e,t,n){if(p.isFunction(t))return p.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return p.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if($.test(t))return p.filter(t,e,n);t=p.filter(t,e)}return p.grep(e,(function(e){return a.call(t,e)>=0!==n}))}p.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?p.find.matchesSelector(r,e)?[r]:[]:p.find.matches(e,p.grep(t,(function(e){return 1===e.nodeType})))},p.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(p(e).filter((function(){for(t=0;t<n;t++)if(p.contains(i[t],this))return!0})));for(t=0;t<n;t++)p.find(e,i[t],r);return(r=this.pushStack(n>1?p.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(_(this,e||[],!1))},not:function(e){return this.pushStack(_(this,e||[],!0))},is:function(e){return!!_(this,"string"==typeof e&&y.test(e)?p(e):e||[],!1).length}});var C,x=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:x.exec(e))||!n[1]&&t)return!t||t.jquery?(t||C).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:d,!0)),w.test(n[1])&&p.isPlainObject(t))for(n in t)p.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=d.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=d,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==C.ready?C.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,C=p(d);var k=/^(?:parents|prev(?:Until|All))/,S={children:!0,contents:!0,next:!0,prev:!0};function E(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}p.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&p(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),p.fn.extend({has:function(e){var t=p(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(p.contains(this,t[e]))return!0}))},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=y.test(e)||"string"!=typeof e?p(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&p.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?p.unique(o):o)},index:function(e){return e?"string"==typeof e?a.call(p(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.unique(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return p.dir(e,"parentNode")},parentsUntil:function(e,t,n){return p.dir(e,"parentNode",n)},next:function(e){return E(e,"nextSibling")},prev:function(e){return E(e,"previousSibling")},nextAll:function(e){return p.dir(e,"nextSibling")},prevAll:function(e){return p.dir(e,"previousSibling")},nextUntil:function(e,t,n){return p.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return p.dir(e,"previousSibling",n)},siblings:function(e){return p.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return p.sibling(e.firstChild)},contents:function(e){return e.contentDocument||p.merge([],e.childNodes)}},(function(e,t){p.fn[e]=function(n,r){var i=p.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=p.filter(r,i)),this.length>1&&(S[e]||p.unique(i),k.test(e)&&i.reverse()),this.pushStack(i)}}));var T,D=/\S+/g,A={};function O(){d.removeEventListener("DOMContentLoaded",O,!1),e.removeEventListener("load",O,!1),p.ready()}p.Callbacks=function(e){e="string"==typeof e?A[e]||function(e){var t=A[e]={};return p.each(e.match(D)||[],(function(e,n){t[n]=!0})),t}(e):p.extend({},e);var t,n,r,i,o,a,s=[],u=!e.once&&[],c=function(d){for(t=e.memory&&d,n=!0,a=i||0,i=0,o=s.length,r=!0;s&&a<o;a++)if(!1===s[a].apply(d[0],d[1])&&e.stopOnFalse){t=!1;break}r=!1,s&&(u?u.length&&c(u.shift()):t?s=[]:l.disable())},l={add:function(){if(s){var n=s.length;!function t(n){p.each(n,(function(n,r){var i=p.type(r);"function"===i?e.unique&&l.has(r)||s.push(r):r&&r.length&&"string"!==i&&t(r)}))}(arguments),r?o=s.length:t&&(i=n,c(t))}return this},remove:function(){return s&&p.each(arguments,(function(e,t){for(var n;(n=p.inArray(t,s,n))>-1;)s.splice(n,1),r&&(n<=o&&o--,n<=a&&a--)})),this},has:function(e){return e?p.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=u=t=void 0,this},disabled:function(){return!s},lock:function(){return u=void 0,t||l.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!s||n&&!u||(t=[e,(t=t||[]).slice?t.slice():t],r?u.push(t):c(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred((function(n){p.each(t,(function(t,o){var a=p.isFunction(e[t])&&e[t];i[o[1]]((function(){var e=a&&a.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?p.extend(e,r):r}},i={};return r.pipe=r.then,p.each(t,(function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,i,o=0,a=r.call(arguments),s=a.length,u=1!==s||e&&p.isFunction(e.promise)?s:0,c=1===u?e:p.Deferred(),l=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?r.call(arguments):o,i===t?c.notifyWith(n,i):--u||c.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)a[o]&&p.isFunction(a[o].promise)?a[o].promise().done(l(o,i,a)).fail(c.reject).progress(l(o,n,t)):--u;return u||c.resolveWith(i,a),c.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(T.resolveWith(d,[p]),p.fn.triggerHandler&&(p(d).triggerHandler("ready"),p(d).off("ready"))))}}),p.ready.promise=function(t){return T||(T=p.Deferred(),"complete"===d.readyState?setTimeout(p.ready):(d.addEventListener("DOMContentLoaded",O,!1),e.addEventListener("load",O,!1))),T.promise(t)},p.ready.promise();var P=p.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===p.type(n))for(s in i=!0,n)p.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,p.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(p(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o};function M(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=p.expando+M.uid++}p.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},M.uid=1,M.accepts=p.acceptData,M.prototype={key:function(e){if(!M.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=M.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,p.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(p.isEmptyObject(o))p.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,p.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{p.isArray(t)?r=t.concat(t.map(p.camelCase)):(i=p.camelCase(t),r=t in a?[t,i]:(r=i)in a?[r]:r.match(D)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!p.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var R=new M,N=new M,j=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/([A-Z])/g;function L(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(I,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:j.test(n)?p.parseJSON(n):n)}catch(e){}N.set(e,t,n)}else n=void 0;return n}p.extend({hasData:function(e){return N.hasData(e)||R.hasData(e)},data:function(e,t,n){return N.access(e,t,n)},removeData:function(e,t){N.remove(e,t)},_data:function(e,t,n){return R.access(e,t,n)},_removeData:function(e,t){R.remove(e,t)}}),p.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=N.get(o),1===o.nodeType&&!R.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=p.camelCase(r.slice(5)),L(o,r,i[r]));R.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){N.set(this,e)})):P(this,(function(t){var n,r=p.camelCase(e);if(o&&void 0===t)return void 0!==(n=N.get(o,e))||void 0!==(n=N.get(o,r))||void 0!==(n=L(o,r,void 0))?n:void 0;this.each((function(){var n=N.get(this,r);N.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&N.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){N.remove(this,e)}))}}),p.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=R.get(e,t),n&&(!r||p.isArray(n)?r=R.access(e,t,p.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=p.queue(e,t),r=n.length,i=n.shift(),o=p._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){p.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return R.get(e,n)||R.access(e,n,{empty:p.Callbacks("once memory").add((function(){R.remove(e,[t+"queue",n])}))})}}),p.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?p.queue(this[0],e):void 0===t?this:this.each((function(){var n=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&p.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){p.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=p.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=R.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var U,q,F=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,J=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,"none"===p.css(e,"display")||!p.contains(e.ownerDocument,e)},z=/^(?:checkbox|radio)$/i;U=d.createDocumentFragment().appendChild(d.createElement("div")),(q=d.createElement("input")).setAttribute("type","radio"),q.setAttribute("checked","checked"),q.setAttribute("name","t"),U.appendChild(q),l.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue;l.focusinBubbles="onfocusin"in e;var H=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,B=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;function Y(){return!0}function X(){return!1}function K(){try{return d.activeElement}catch(e){}}p.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,d,f,h,v,m,g=R.get(e);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=p.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==p&&p.event.triggered!==t.type?p.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(D)||[""]).length;c--;)h=m=(s=G.exec(t[c])||[])[1],v=(s[2]||"").split(".").sort(),h&&(d=p.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=p.event.special[h]||{},l=p.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&p.expr.match.needsContext.test(i),namespace:v.join(".")},o),(f=u[h])||((f=u[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,v,a)||e.addEventListener&&e.addEventListener(h,a,!1)),d.add&&(d.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),p.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,d,f,h,v,m,g=R.hasData(e)&&R.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(D)||[""]).length;c--;)if(h=m=(s=G.exec(t[c])||[])[1],v=(s[2]||"").split(".").sort(),h){for(d=p.event.special[h]||{},f=u[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,d.remove&&d.remove.call(e,l));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,v,g.handle)||p.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)p.event.remove(e,h+t[c],n,r,!0);p.isEmptyObject(u)&&(delete g.handle,R.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,f,h,v=[r||d],m=c.call(t,"type")?t.type:t,g=c.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||d,3!==r.nodeType&&8!==r.nodeType&&!B.test(m+p.event.triggered)&&(m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort()),l=m.indexOf(":")<0&&"on"+m,(t=t[p.expando]?t:new p.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:p.makeArray(n,[t]),h=p.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(r,n))){if(!i&&!h.noBubble&&!p.isWindow(r)){for(u=h.delegateType||m,B.test(u+m)||(a=a.parentNode);a;a=a.parentNode)v.push(a),s=a;s===(r.ownerDocument||d)&&v.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=v[o++])&&!t.isPropagationStopped();)t.type=o>1?u:h.bindType||m,(f=(R.get(a,"events")||{})[t.type]&&R.get(a,"handle"))&&f.apply(a,n),(f=l&&a[l])&&f.apply&&p.acceptData(a)&&(t.result=f.apply(a,n),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(v.pop(),n)||!p.acceptData(r)||l&&p.isFunction(r[m])&&!p.isWindow(r)&&((s=r[l])&&(r[l]=null),p.event.triggered=m,r[m](),p.event.triggered=void 0,s&&(r[l]=s)),t.result}},dispatch:function(e){e=p.event.fix(e);var t,n,i,o,a,s=[],u=r.call(arguments),c=(R.get(this,"events")||{})[e.type]||[],l=p.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=p.event.handlers.call(this,e,c),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(i=((p.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?p(i,this).index(u)>=0:p.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||d).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[p.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=W.test(i)?this.mouseHooks:H.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new p.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=d),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==K()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===K()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=p.extend(new p.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?p.event.trigger(i,null,t):p.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},p.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},p.Event=function(e,t){if(!(this instanceof p.Event))return new p.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Y:X):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),this[p.expando]=!0},p.Event.prototype={isDefaultPrevented:X,isPropagationStopped:X,isImmediatePropagationStopped:X,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Y,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Y,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Y,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||p.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),l.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){p.event.simulate(t,e.target,p.event.fix(e),!0)};p.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=R.access(r,t);i||r.addEventListener(e,n,!0),R.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=R.access(r,t)-1;i?R.access(r,t,i):(r.removeEventListener(e,n,!0),R.remove(r,t))}}})),p.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=X;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return p().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=p.guid++)),this.each((function(){p.event.add(this,e,r,n,t)}))},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,p(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=X),this.each((function(){p.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){p.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return p.event.trigger(e,t,n,!0)}});var Z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Q=/<([\w:]+)/,ee=/<|&#?\w+;/,te=/<(?:script|style|link)/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^$|\/(?:java|ecma)script/i,ie=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ae={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function se(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ce(e){var t=ie.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function le(e,t){for(var n=0,r=e.length;n<r;n++)R.set(e[n],"globalEval",!t||R.get(t[n],"globalEval"))}function de(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(R.hasData(e)&&(o=R.access(e),a=R.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)p.event.add(t,i,c[i][n]);N.hasData(e)&&(s=N.access(e),u=p.extend({},s),N.set(t,u))}}function pe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&p.nodeName(e,t)?p.merge([e],n):n}ae.optgroup=ae.option,ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td,p.extend({clone:function(e,t,n){var r,i,o,a,s,u,c,d=e.cloneNode(!0),f=p.contains(e.ownerDocument,e);if(!(l.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(a=pe(d),r=0,i=(o=pe(e)).length;r<i;r++)s=o[r],u=a[r],c=void 0,"input"===(c=u.nodeName.toLowerCase())&&z.test(s.type)?u.checked=s.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||pe(e),a=a||pe(d),r=0,i=o.length;r<i;r++)de(o[r],a[r]);else de(e,d);return(a=pe(d,"script")).length>0&&le(a,!f&&pe(e,"script")),d},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,c,l=t.createDocumentFragment(),d=[],f=0,h=e.length;f<h;f++)if((i=e[f])||0===i)if("object"===p.type(i))p.merge(d,i.nodeType?[i]:i);else if(ee.test(i)){for(o=o||l.appendChild(t.createElement("div")),a=(Q.exec(i)||["",""])[1].toLowerCase(),s=ae[a]||ae._default,o.innerHTML=s[1]+i.replace(Z,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;p.merge(d,o.childNodes),(o=l.firstChild).textContent=""}else d.push(t.createTextNode(i));for(l.textContent="",f=0;i=d[f++];)if((!r||-1===p.inArray(i,r))&&(u=p.contains(i.ownerDocument,i),o=pe(l.appendChild(i),"script"),u&&le(o),n))for(c=0;i=o[c++];)re.test(i.type||"")&&n.push(i);return l},cleanData:function(e){for(var t,n,r,i,o=p.event.special,a=0;void 0!==(n=e[a]);a++){if(p.acceptData(n)&&(i=n[R.expando])&&(t=R.cache[i])){if(t.events)for(r in t.events)o[r]?p.event.remove(n,r):p.removeEvent(n,r,t.handle);R.cache[i]&&delete R.cache[i]}delete N.cache[n[N.expando]]}}}),p.fn.extend({text:function(e){return P(this,(function(e){return void 0===e?p.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||se(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=se(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,r=e?p.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||p.cleanData(pe(n)),n.parentNode&&(t&&p.contains(n.ownerDocument,n)&&le(pe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(p.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return p.clone(this,e,t)}))},html:function(e){return P(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!te.test(e)&&!ae[(Q.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Z,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(p.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,p.cleanData(pe(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,o,a,s,u,c=0,d=this.length,f=this,h=d-1,v=e[0],m=p.isFunction(v);if(m||d>1&&"string"==typeof v&&!l.checkClone&&ne.test(v))return this.each((function(n){var r=f.eq(n);m&&(e[0]=v.call(this,n,r.html())),r.domManip(e,t)}));if(d&&(r=(n=p.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(a=(o=p.map(pe(n,"script"),ue)).length;c<d;c++)s=n,c!==h&&(s=p.clone(s,!0,!0),a&&p.merge(o,pe(s,"script"))),t.call(this[c],s,c);if(a)for(u=o[o.length-1].ownerDocument,p.map(o,ce),c=0;c<a;c++)s=o[c],re.test(s.type||"")&&!R.access(s,"globalEval")&&p.contains(u,s)&&(s.src?p._evalUrl&&p._evalUrl(s.src):p.globalEval(s.textContent.replace(oe,"")))}return this}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){p.fn[e]=function(e){for(var n,r=[],i=p(e),a=i.length-1,s=0;s<=a;s++)n=s===a?this:this.clone(!0),p(i[s])[t](n),o.apply(r,n.get());return this.pushStack(r)}}));var fe,he={};function ve(t,n){var r,i=p(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:p.css(i[0],"display");return i.detach(),o}function me(e){var t=d,n=he[e];return n||("none"!==(n=ve(e,t))&&n||((t=(fe=(fe||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ve(e,t),fe.detach()),he[e]=n),n}var ge=/^margin/,be=new RegExp("^("+F+")(?!px)[a-z%]+$","i"),ye=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};function we(e,t,n){var r,i,o,a,s=e.style;return(n=n||ye(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||p.contains(e.ownerDocument,e)||(a=p.style(e,t)),be.test(a)&&ge.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,n,r=d.documentElement,i=d.createElement("div"),o=d.createElement("div");function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var a=e.getComputedStyle(o,null);t="1%"!==a.top,n="4px"===a.width,r.removeChild(i)}o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),e.getComputedStyle&&p.extend(l,{pixelPosition:function(){return a(),t},boxSizingReliable:function(){return null==n&&a(),n},reliableMarginRight:function(){var t,n=o.appendChild(d.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(i),o.removeChild(n),t}}))}(),p.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var _e=/^(none|table(?!-c[ea]).+)/,Ce=new RegExp("^("+F+")(.*)$","i"),xe=new RegExp("^([+-])=("+F+")","i"),ke={position:"absolute",visibility:"hidden",display:"block"},Se={letterSpacing:"0",fontWeight:"400"},Ee=["Webkit","O","Moz","ms"];function Te(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ee.length;i--;)if((t=Ee[i]+n)in e)return t;return r}function De(e,t,n){var r=Ce.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ae(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=p.css(e,n+J[o],!0,i)),r?("content"===n&&(a-=p.css(e,"padding"+J[o],!0,i)),"margin"!==n&&(a-=p.css(e,"border"+J[o]+"Width",!0,i))):(a+=p.css(e,"padding"+J[o],!0,i),"padding"!==n&&(a+=p.css(e,"border"+J[o]+"Width",!0,i)));return a}function Oe(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=ye(e),a="border-box"===p.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=we(e,t,o))<0||null==i)&&(i=e.style[t]),be.test(i))return i;r=a&&(l.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ae(e,t,n||(a?"border":"content"),r,o)+"px"}function Pe(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=R.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&V(r)&&(o[a]=R.access(r,"olddisplay",me(r.nodeName)))):(i=V(r),"none"===n&&i||R.set(r,"olddisplay",i?n:p.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function Me(e,t,n,r,i){return new Me.prototype.init(e,t,n,r,i)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=we(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=p.camelCase(t),u=e.style;if(t=p.cssProps[s]||(p.cssProps[s]=Te(u,s)),a=p.cssHooks[t]||p.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];"string"===(o=typeof n)&&(i=xe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(p.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||p.cssNumber[s]||(n+="px"),l.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=p.camelCase(t);return t=p.cssProps[s]||(p.cssProps[s]=Te(e.style,s)),(a=p.cssHooks[t]||p.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=we(e,t,r)),"normal"===i&&t in Se&&(i=Se[t]),""===n||n?(o=parseFloat(i),!0===n||p.isNumeric(o)?o||0:i):i}}),p.each(["height","width"],(function(e,t){p.cssHooks[t]={get:function(e,n,r){if(n)return _e.test(p.css(e,"display"))&&0===e.offsetWidth?p.swap(e,ke,(function(){return Oe(e,t,r)})):Oe(e,t,r)},set:function(e,n,r){var i=r&&ye(e);return De(0,n,r?Ae(e,t,r,"border-box"===p.css(e,"boxSizing",!1,i),i):0)}}})),p.cssHooks.marginRight=$e(l.reliableMarginRight,(function(e,t){if(t)return p.swap(e,{display:"inline-block"},we,[e,"marginRight"])})),p.each({margin:"",padding:"",border:"Width"},(function(e,t){p.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+J[r]+t]=o[r]||o[r-2]||o[0];return i}},ge.test(e)||(p.cssHooks[e+t].set=De)})),p.fn.extend({css:function(e,t){return P(this,(function(e,t,n){var r,i,o={},a=0;if(p.isArray(t)){for(r=ye(e),i=t.length;a<i;a++)o[t[a]]=p.css(e,t[a],!1,r);return o}return void 0!==n?p.style(e,t,n):p.css(e,t)}),e,t,arguments.length>1)},show:function(){return Pe(this,!0)},hide:function(){return Pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){V(this)?p(this).show():p(this).hide()}))}}),p.Tween=Me,Me.prototype={constructor:Me,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(p.cssNumber[n]?"":"px")},cur:function(){var e=Me.propHooks[this.prop];return e&&e.get?e.get(this):Me.propHooks._default.get(this)},run:function(e){var t,n=Me.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Me.propHooks._default.set(this),this}},Me.prototype.init.prototype=Me.prototype,Me.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[p.cssProps[e.prop]]||p.cssHooks[e.prop])?p.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Me.propHooks.scrollTop=Me.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},p.fx=Me.prototype.init,p.fx.step={};var Re,Ne,je=/^(?:toggle|show|hide)$/,Ie=new RegExp("^(?:([+-])=|)("+F+")([a-z%]*)$","i"),Le=/queueHooks$/,Ue=[function(e,t,n){var r,i,o,a,s,u,c,l=this,d={},f=e.style,h=e.nodeType&&V(e),v=R.get(e,"fxshow");n.queue||(null==(s=p._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always((function(){l.always((function(){s.unqueued--,p.queue(e,"fx").length||s.empty.fire()}))})));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=p.css(e,"display"),"inline"===("none"===c?R.get(e,"olddisplay")||me(e.nodeName):c)&&"none"===p.css(e,"float")&&(f.display="inline-block"));n.overflow&&(f.overflow="hidden",l.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})));for(r in t)if(i=t[r],je.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;h=!0}d[r]=v&&v[r]||p.style(e,r)}else c=void 0;if(p.isEmptyObject(d))"inline"===("none"===c?me(e.nodeName):c)&&(f.display=c);else for(r in v?"hidden"in v&&(h=v.hidden):v=R.access(e,"fxshow",{}),o&&(v.hidden=!h),h?p(e).show():l.done((function(){p(e).hide()})),l.done((function(){var t;for(t in R.remove(e,"fxshow"),d)p.style(e,t,d[t])})),d)a=Ve(h?v[r]:0,r,l),r in v||(v[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],qe={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ie.exec(t),o=i&&i[3]||(p.cssNumber[e]?"":"px"),a=(p.cssNumber[e]||"px"!==o&&+r)&&Ie.exec(p.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",p.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Fe(){return setTimeout((function(){Re=void 0})),Re=p.now()}function Je(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=J[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ve(e,t,n){for(var r,i=(qe[t]||[]).concat(qe["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ze(e,t,n){var r,i,o=0,a=Ue.length,s=p.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var t=Re||Fe(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Re||Fe(),duration:n.duration,tweens:[],createTween:function(t,n){var r=p.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=p.camelCase(n)],o=e[n],p.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=p.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=Ue[o].call(c,e,l,c.opts))return r;return p.map(l,Ve,c),p.isFunction(c.opts.start)&&c.opts.start.call(e,c),p.fx.timer(p.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}p.Animation=p.extend(ze,{tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],qe[n]=qe[n]||[],qe[n].unshift(t)},prefilter:function(e,t){t?Ue.unshift(e):Ue.push(e)}}),p.speed=function(e,t,n){var r=e&&"object"==typeof e?p.extend({},e):{complete:n||!n&&t||p.isFunction(e)&&e,duration:e,easing:n&&t||t&&!p.isFunction(t)&&t};return r.duration=p.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in p.fx.speeds?p.fx.speeds[r.duration]:p.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){p.isFunction(r.old)&&r.old.call(this),r.queue&&p.dequeue(this,r.queue)},r},p.fn.extend({fadeTo:function(e,t,n,r){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=p.isEmptyObject(e),o=p.speed(t,n,r),a=function(){var t=ze(this,p.extend({},e),o);(i||R.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=p.timers,a=R.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Le.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||p.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=R.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=p.timers,a=r?r.length:0;for(n.finish=!0,p.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),p.each(["toggle","show","hide"],(function(e,t){var n=p.fn[t];p.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Je(t,!0),e,r,i)}})),p.each({slideDown:Je("show"),slideUp:Je("hide"),slideToggle:Je("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){p.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),p.timers=[],p.fx.tick=function(){var e,t=0,n=p.timers;for(Re=p.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||p.fx.stop(),Re=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){Ne||(Ne=setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){clearInterval(Ne),Ne=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(e,t){return e=p.fx&&p.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}}))},function(){var e=d.createElement("input"),t=d.createElement("select"),n=t.appendChild(d.createElement("option"));e.type="checkbox",l.checkOn=""!==e.value,l.optSelected=n.selected,t.disabled=!0,l.optDisabled=!n.disabled,(e=d.createElement("input")).value="t",e.type="radio",l.radioValue="t"===e.value}();var He,We=p.expr.attrHandle;p.fn.extend({attr:function(e,t){return P(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){p.removeAttr(this,e)}))}}),p.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?p.prop(e,t,n):(1===o&&p.isXMLDoc(e)||(t=t.toLowerCase(),r=p.attrHooks[t]||(p.expr.match.bool.test(t)?He:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=p.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void p.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(D);if(o&&1===e.nodeType)for(;n=o[i++];)r=p.propFix[n]||n,p.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!l.radioValue&&"radio"===t&&p.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),He={set:function(e,t,n){return!1===t?p.removeAttr(e,n):e.setAttribute(n,n),n}},p.each(p.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=We[t]||p.find.attr;We[t]=function(e,t,r){var i,o;return r||(o=We[t],We[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,We[t]=o),i}}));var Be=/^(?:input|select|textarea|button)$/i;p.fn.extend({prop:function(e,t){return P(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[p.propFix[e]||e]}))}}),p.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!p.isXMLDoc(e))&&(t=p.propFix[t]||t,i=p.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Be.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),l.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){p.propFix[this.toLowerCase()]=this}));var Ge=/[\t\r\n\f]/g;p.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,c=this.length;if(p.isFunction(e))return this.each((function(t){p(this).addClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(D)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ge," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=p.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,c=this.length;if(p.isFunction(e))return this.each((function(t){p(this).removeClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(D)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ge," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?p.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):p.isFunction(e)?this.each((function(n){p(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var t,r=0,i=p(this),o=e.match(D)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else"undefined"!==n&&"boolean"!==n||(this.className&&R.set(this,"__className__",this.className),this.className=this.className||!1===e?"":R.get(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ge," ").indexOf(t)>=0)return!0;return!1}});var Ye=/\r/g;p.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=p.isFunction(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,p(this).val()):e)?i="":"number"==typeof i?i+="":p.isArray(i)&&(i=p.map(i,(function(e){return null==e?"":e+""}))),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=p.valHooks[i.type]||p.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ye,""):null==n?"":n:void 0}}),p.extend({valHooks:{option:{get:function(e){var t=p.find.attr(e,"value");return null!=t?t:p.trim(p.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(l.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!p.nodeName(n.parentNode,"optgroup"))){if(t=p(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=p.makeArray(t),a=i.length;a--;)((r=i[a]).selected=p.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),p.each(["radio","checkbox"],(function(){p.valHooks[this]={set:function(e,t){if(p.isArray(t))return e.checked=p.inArray(p(e).val(),t)>=0}},l.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){p.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Xe=p.now(),Ke=/\?/;p.parseJSON=function(e){return JSON.parse(e+"")},p.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+e),t};var Ze=/#.*$/,Qe=/([?&])_=[^&]*/,et=/^(.*?):[ \t]*([^\r\n]*)$/gm,tt=/^(?:GET|HEAD)$/,nt=/^\/\//,rt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,it={},ot={},at="*/".concat("*"),st=e.location.href,ut=rt.exec(st.toLowerCase())||[];function ct(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(D)||[];if(p.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function lt(e,t,n,r){var i={},o=e===ot;function a(s){var u;return i[s]=!0,p.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function dt(e,t){var n,r,i=p.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&p.extend(!0,e,r),e}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:st,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ut[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":at,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?dt(dt(e,p.ajaxSettings),t):dt(p.ajaxSettings,e)},ajaxPrefilter:ct(it),ajaxTransport:ct(ot),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,a,s,u,c,l=p.ajaxSetup({},t),d=l.context||l,f=l.context&&(d.nodeType||d.jquery)?p(d):p.event,h=p.Deferred(),v=p.Callbacks("once memory"),m=l.statusCode||{},g={},b={},y=0,w="canceled",$={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!o)for(o={};t=et.exec(i);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,g[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)m[t]=[m[t],e[t]];else $.always(e[$.status]);return this},abort:function(e){var t=e||w;return n&&n.abort(t),_(0,t),this}};if(h.promise($).complete=v.add,$.success=$.done,$.error=$.fail,l.url=((e||l.url||st)+"").replace(Ze,"").replace(nt,ut[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=p.trim(l.dataType||"*").toLowerCase().match(D)||[""],null==l.crossDomain&&(s=rt.exec(l.url.toLowerCase()),l.crossDomain=!(!s||s[1]===ut[1]&&s[2]===ut[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(ut[3]||("http:"===ut[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=p.param(l.data,l.traditional)),lt(it,l,t,$),2===y)return $;for(c in(u=p.event&&l.global)&&0==p.active++&&p.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!tt.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(Ke.test(r)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=Qe.test(r)?r.replace(Qe,"$1_="+Xe++):r+(Ke.test(r)?"&":"?")+"_="+Xe++)),l.ifModified&&(p.lastModified[r]&&$.setRequestHeader("If-Modified-Since",p.lastModified[r]),p.etag[r]&&$.setRequestHeader("If-None-Match",p.etag[r])),(l.data&&l.hasContent&&!1!==l.contentType||t.contentType)&&$.setRequestHeader("Content-Type",l.contentType),$.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+at+"; q=0.01":""):l.accepts["*"]),l.headers)$.setRequestHeader(c,l.headers[c]);if(l.beforeSend&&(!1===l.beforeSend.call(d,$,l)||2===y))return $.abort();for(c in w="abort",{success:1,error:1,complete:1})$[c](l[c]);if(n=lt(ot,l,t,$)){$.readyState=1,u&&f.trigger("ajaxSend",[$,l]),l.async&&l.timeout>0&&(a=setTimeout((function(){$.abort("timeout")}),l.timeout));try{y=1,n.send(g,_)}catch(e){if(!(y<2))throw e;_(-1,e)}}else _(-1,"No Transport");function _(e,t,o,s){var c,g,b,w,_,C=t;2!==y&&(y=2,a&&clearTimeout(a),n=void 0,i=s||"",$.readyState=e>0?4:0,c=e>=200&&e<300||304===e,o&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(l,$,o)),w=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(l,w,$,c),c?(l.ifModified&&((_=$.getResponseHeader("Last-Modified"))&&(p.lastModified[r]=_),(_=$.getResponseHeader("etag"))&&(p.etag[r]=_)),204===e||"HEAD"===l.type?C="nocontent":304===e?C="notmodified":(C=w.state,g=w.data,c=!(b=w.error))):(b=C,!e&&C||(C="error",e<0&&(e=0))),$.status=e,$.statusText=(t||C)+"",c?h.resolveWith(d,[g,C,$]):h.rejectWith(d,[$,C,b]),$.statusCode(m),m=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[$,l,c?g:b]),v.fireWith(d,[$,C]),u&&(f.trigger("ajaxComplete",[$,l]),--p.active||p.event.trigger("ajaxStop")))}return $},getJSON:function(e,t,n){return p.get(e,t,n,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],(function(e,t){p[t]=function(e,n,r,i){return p.isFunction(n)&&(i=i||r,r=n,n=void 0),p.ajax({url:e,type:t,dataType:i,data:n,success:r})}})),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){var t;return p.isFunction(e)?this.each((function(t){p(this).wrapAll(e.call(this,t))})):(this[0]&&(t=p(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return p.isFunction(e)?this.each((function(t){p(this).wrapInner(e.call(this,t))})):this.each((function(){var t=p(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=p.isFunction(e);return this.each((function(n){p(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)})).end()}}),p.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},p.expr.filters.visible=function(e){return!p.expr.filters.hidden(e)};var pt=/%20/g,ft=/\[\]$/,ht=/\r?\n/g,vt=/^(?:submit|button|image|reset|file)$/i,mt=/^(?:input|select|textarea|keygen)/i;function gt(e,t,n,r){var i;if(p.isArray(t))p.each(t,(function(t,i){n||ft.test(e)?r(e,i):gt(e+"["+("object"==typeof i?t:"")+"]",i,n,r)}));else if(n||"object"!==p.type(t))r(e,t);else for(i in t)gt(e+"["+i+"]",t[i],n,r)}p.param=function(e,t){var n,r=[],i=function(e,t){t=p.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,(function(){i(this.name,this.value)}));else for(n in e)gt(n,e[n],t,i);return r.join("&").replace(pt,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&mt.test(this.nodeName)&&!vt.test(e)&&(this.checked||!z.test(e))})).map((function(e,t){var n=p(this).val();return null==n?null:p.isArray(n)?p.map(n,(function(e){return{name:t.name,value:e.replace(ht,"\r\n")}})):{name:t.name,value:n.replace(ht,"\r\n")}})).get()}}),p.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var bt=0,yt={},wt={0:200,1223:204},$t=p.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",(function(){for(var e in yt)yt[e]()})),l.cors=!!$t&&"withCredentials"in $t,l.ajax=$t=!!$t,p.ajaxTransport((function(e){var t;if(l.cors||$t&&!e.crossDomain)return{send:function(n,r){var i,o=e.xhr(),a=++bt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete yt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(wt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=yt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),p.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=p("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),d.head.appendChild(t[0])},abort:function(){n&&n()}}}));var _t=[],Ct=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_t.pop()||p.expando+"_"+Xe++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",(function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Ct.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ct.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ct,"$1"+i):!1!==t.jsonp&&(t.url+=(Ke.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||p.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always((function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,_t.push(i)),a&&p.isFunction(o)&&o(a[0]),a=o=void 0})),"script"})),p.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||d;var r=w.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=p.buildFragment([e],t,i),i&&i.length&&p(i).remove(),p.merge([],r.childNodes))};var xt=p.fn.load;p.fn.load=function(e,t,n){if("string"!=typeof e&&xt)return xt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=p.trim(e.slice(s)),e=e.slice(0,s)),p.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&p.ajax({url:e,type:i,dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?p("<div>").append(p.parseHTML(e)).find(r):e)})).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){p.fn[t]=function(e){return this.on(t,e)}})),p.expr.filters.animated=function(e){return p.grep(p.timers,(function(t){return e===t.elem})).length};var kt=e.document.documentElement;function St(e){return p.isWindow(e)?e:9===e.nodeType&&e.defaultView}p.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=p.css(e,"position"),l=p(e),d={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=p.css(e,"top"),u=p.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),p.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):l.css(d)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){p.offset.setOffset(this,e,t)}));var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,p.contains(t,r)?(void 0!==r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=St(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===p.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(r=e.offset()),r.top+=p.css(e[0],"borderTopWidth",!0),r.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-p.css(n,"marginTop",!0),left:t.left-r.left-p.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||kt;e&&!p.nodeName(e,"html")&&"static"===p.css(e,"position");)e=e.offsetParent;return e||kt}))}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,n){var r="pageYOffset"===n;p.fn[t]=function(i){return P(this,(function(t,i,o){var a=St(t);if(void 0===o)return a?a[n]:t[i];a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o}),t,i,arguments.length,null)}})),p.each(["top","left"],(function(e,t){p.cssHooks[t]=$e(l.pixelPosition,(function(e,n){if(n)return n=we(e,t),be.test(n)?p(e).position()[t]+"px":n}))})),p.each({Height:"height",Width:"width"},(function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){p.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return P(this,(function(t,n,r){var i;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?p.css(t,n,a):p.style(t,n,r,a)}),t,o?r:void 0,o,null)}}))})),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return p}));var Et=e.jQuery,Tt=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=Tt),t&&e.jQuery===p&&(e.jQuery=Et),p},void 0===t&&(e.jQuery=e.$=p),p})),
/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1)+i;return t<o.length?Ue(o[t]):e})),s+="\nhttp://errors.angularjs.org/1.4.14/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(Ue(o[r]));return new t(s)}}var i=/^\/(.+)\/([a-z]*)$/,o=function(e){return U(e)?e.toLowerCase():e},a=Object.prototype.hasOwnProperty,s=function(e){return U(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(o=function(e){return U(e)?e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(32|e.charCodeAt(0))})):e},s=function(e){return U(e)?e.replace(/[a-z]/g,(function(e){return String.fromCharCode(-33&e.charCodeAt(0))})):e});var u,c,l,d,p=[].slice,f=[].splice,h=[].push,v=Object.prototype.toString,m=Object.getPrototypeOf,g=r("ng"),b=e.angular||(e.angular={}),y=0;function w(e){if(null==e||H(e))return!1;if(J(e)||U(e)||c&&e instanceof c)return!0;var t="length"in Object(e)&&e.length;return q(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function $(e,t,n){var r,i;if(e)if(V(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(J(e)||w(e)){var o="object"!=typeof e;for(r=0,i=e.length;r<i;r++)(o||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==$)e.forEach(t,n,e);else if(L(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)a.call(e,r)&&t.call(n,e[r],r,e);return e}function _(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function C(e){return function(t,n){e(n,t)}}function x(){return++y}function k(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function S(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(I(a)||V(a))for(var s=Object.keys(a),u=0,c=s.length;u<c;u++){var l=s[u],d=a[l];n&&I(d)?F(d)?e[l]=new Date(d.valueOf()):z(d)?e[l]=new RegExp(d):d.nodeName?e[l]=d.cloneNode(!0):ee(d)?e[l]=d.clone():(I(e[l])||(e[l]=J(d)?[]:{}),S(e[l],[d],!0)):e[l]=d}}return k(e,r),e}function E(e){return S(e,p.call(arguments,1),!1)}function T(e){return S(e,p.call(arguments,1),!0)}function D(e){return parseInt(e,10)}function A(e,t){return E(Object.create(e),t)}function O(){}function P(e){return e}function M(e){return function(){return e}}function R(e){return V(e.toString)&&e.toString!==v}function N(e){return void 0===e}function j(e){return void 0!==e}function I(e){return null!==e&&"object"==typeof e}function L(e){return null!==e&&"object"==typeof e&&!m(e)}function U(e){return"string"==typeof e}function q(e){return"number"==typeof e}function F(e){return"[object Date]"===v.call(e)}u=t.documentMode,O.$inject=[],P.$inject=[];var J=Array.isArray;function V(e){return"function"==typeof e}function z(e){return"[object RegExp]"===v.call(e)}function H(e){return e&&e.window===e}function W(e){return e&&e.$evalAsync&&e.$watch}function B(e){return"[object Blob]"===v.call(e)}function G(e){return"boolean"==typeof e}function Y(e){return e&&V(e.then)}var X=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function K(e){return e&&q(e.length)&&X.test(v.call(e))}var Z=function(e){return U(e)?e.trim():e},Q=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function ee(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function te(e){return o(e.nodeName||e[0]&&e[0].nodeName)}function ne(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function re(e,t){var n=[],r=[];if(t){if(K(t))throw g("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw g("cpi","Can't copy! Source and destination are identical.");return J(t)?t.length=0:$(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),n.push(e),r.push(t),i(e,t)}return o(e);function i(e,t){var n,r=t.$$hashKey;if(J(e))for(var i=0,s=e.length;i<s;i++)t.push(o(e[i]));else if(L(e))for(n in e)t[n]=o(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=o(e[n]));else for(n in e)a.call(e,n)&&(t[n]=o(e[n]));return k(t,r),t}function o(e){if(!I(e))return e;var t=n.indexOf(e);if(-1!==t)return r[t];if(H(e)||W(e))throw g("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var o,a=!1;return J(e)?(o=[],a=!0):K(e)?o=new e.constructor(e):F(e)?o=new Date(e.getTime()):z(e)?(o=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0])).lastIndex=e.lastIndex:B(e)?o=new e.constructor([e],{type:e.type}):V(e.cloneNode)?o=e.cloneNode(!0):(o=Object.create(m(e)),a=!0),n.push(e),r.push(o),a?i(e,o):o}}function ie(e,t){if(J(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(I(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function oe(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!J(e)){if(F(e))return!!F(t)&&oe(e.getTime(),t.getTime());if(z(e))return!!z(t)&&e.toString()==t.toString();if(W(e)||W(t)||H(e)||H(t)||J(t)||F(t)||z(t))return!1;for(r in i=Ie(),e)if("$"!==r.charAt(0)&&!V(e[r])){if(!oe(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&j(t[r])&&!V(t[r]))return!1;return!0}if(!J(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!oe(e[r],t[r]))return!1;return!0}}return!1}var ae=function(){if(!j(ae.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ae.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ae.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ae.rules},se=function(){if(j(se.name_))return se.name_;var e,n,r,i,o=Ce.length;for(n=0;n<o;++n)if(r=Ce[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return se.name_=i};function ue(e,t,n){return e.concat(p.call(t,n))}function ce(e,t){return p.call(e,t||0)}function le(e,t){var n=arguments.length>2?ce(arguments,2):[];return!V(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,ue(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function de(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:H(n)?r="$WINDOW":n&&t===n?r="$DOCUMENT":W(n)&&(r="$SCOPE"),r}function pe(e,t){if(!N(e))return q(t)||(t=t?2:null),JSON.stringify(e,de,t)}function fe(e){return U(e)?JSON.parse(e):e}var he=/:/g;function ve(e,t){e=e.replace(he,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function me(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,n*(ve(t,r)-r))}function ge(e){e=c(e).clone();try{e.empty()}catch(e){}var t=c("<div>").append(e).html();try{return e[0].nodeType===Le?o(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,(function(e,t){return"<"+o(t)}))}catch(e){return o(t)}}function be(e){try{return decodeURIComponent(e)}catch(e){}}function ye(e){var t={};return $((e||"").split("&"),(function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(r=e.substring(0,n),i=e.substring(n+1)),j(r=be(r))&&(i=!j(i)||be(i),a.call(t,r)?J(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))})),t}function we(e){var t=[];return $(e,(function(e,n){J(e)?$(e,(function(e){t.push(_e(n,!0)+(!0===e?"":"="+_e(e,!0)))})):t.push(_e(n,!0)+(!0===e?"":"="+_e(e,!0)))})),t.length?t.join("&"):""}function $e(e){return _e(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function _e(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Ce=["ng-","data-ng-","ng:","x-ng-"];function xe(e,t){var n,r,i={};$(Ce,(function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))})),$(Ce,(function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))})),n&&(i.strictDi=null!==function(e,t){var n,r,i=Ce.length;for(r=0;r<i;++r)if(n=Ce[r]+t,U(n=e.getAttribute(n)))return n;return null}(n,"strict-di"),t(n,r?[r]:[],i))}function ke(n,r,i){I(i)||(i={});i=E({strictDi:!1},i);var o=function(){if((n=c(n)).injector()){var e=n[0]===t?"document":ge(n);throw g("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}(r=r||[]).unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var o=It(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply((function(){t.data("$injector",r),n(t)(e)}))}]),o},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&a.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name))return o();e.name=e.name.replace(s,""),b.resumeBootstrap=function(e){return $(e,(function(e){r.push(e)})),o()},V(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()}function Se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Ee(e){var t=b.element(e).injector();if(!t)throw g("test","no injector found for element argument to getTestability");return t.get("$$testability")}var Te=/[A-Z]/g;function De(e,t){return t=t||"_",e.replace(Te,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Ae,Oe=!1;function Pe(e,t,n){if(!e)throw g("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Me(e,t,n){return n&&J(e)&&(e=e[e.length-1]),Pe(V(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Re(e,t){if("hasOwnProperty"===e)throw g("badname","hasOwnProperty is not a valid {0} name",t)}function Ne(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&V(e)?le(o,e):e}function je(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=c(p.call(e,0,i))),t.push(n));return t||e}function Ie(){return Object.create(null)}var Le=3;function Ue(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):N(e)?"undefined":"string"!=typeof e?function(e){var t=[];return JSON.stringify(e,(function(e,n){if(I(n=de(e,n))){if(t.indexOf(n)>=0)return"...";t.push(n)}return n}))}(e):e}var qe={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};at.expando="ng339";var Fe=at.cache={},Je=1,Ve=function(e,t,n){e.addEventListener(t,n,!1)},ze=function(e,t,n){e.removeEventListener(t,n,!1)};at._data=function(e){return this.cache[e[this.expando]]||{}};var He=/([\:\-\_]+(.))/g,We=/^moz([A-Z])/,Be={mouseleave:"mouseout",mouseenter:"mouseover"},Ge=r("jqLite");function Ye(e){return e.replace(He,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(We,"Moz$1")}var Xe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ke=/<|&#?\w+;/,Ze=/<([\w:-]+)/,Qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,et={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function tt(e){return!Ke.test(e)}function nt(e){var t=e.nodeType;return 1===t||!t||9===t}function rt(e,t){var n,r,i,o,a=t.createDocumentFragment(),s=[];if(tt(e))s.push(t.createTextNode(e));else{for(n=n||a.appendChild(t.createElement("div")),r=(Ze.exec(e)||["",""])[1].toLowerCase(),i=et[r]||et._default,n.innerHTML=i[1]+e.replace(Qe,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;s=ue(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",$(s,(function(e){a.appendChild(e)})),a}function it(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}et.optgroup=et.option,et.tbody=et.tfoot=et.colgroup=et.caption=et.thead,et.th=et.td;var ot=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function at(e){if(e instanceof at)return e;var n,r,i,o;if(U(e)&&(e=Z(e),n=!0),!(this instanceof at)){if(n&&"<"!=e.charAt(0))throw Ge("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new at(e)}mt(this,n?(r=e,i=i||t,(o=Xe.exec(r))?[i.createElement(o[1])]:(o=rt(r,i))?o.childNodes:[]):e)}function st(e){return e.cloneNode(!0)}function ut(e,t){if(t||lt(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)lt(n[r])}function ct(e,t,n,r){if(j(r))throw Ge("offargs","jqLite#off() does not support the `selector` argument");var i=dt(e),o=i&&i.events,a=i&&i.handle;if(a)if(t){var s=function(t){var r=o[t];j(n)&&ne(r||[],n),j(n)&&r&&r.length>0||(ze(e,t,a),delete o[t])};$(t.split(" "),(function(e){s(e),Be[e]&&s(Be[e])}))}else for(t in o)"$destroy"!==t&&ze(e,t,a),delete o[t]}function lt(e,t){var n=e.ng339,r=n&&Fe[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ct(e)),delete Fe[n],e.ng339=void 0}}function dt(e,t){var n=e.ng339,r=n&&Fe[n];return t&&!r&&(e.ng339=n=++Je,r=Fe[n]={events:{},data:{},handle:void 0}),r}function pt(e,t,n){if(nt(e)){var r=j(n),i=!r&&t&&!I(t),o=!t,a=dt(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];E(s,t)}}}function ft(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function ht(e,t){t&&e.setAttribute&&$(t.split(" "),(function(t){e.setAttribute("class",Z((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Z(t)+" "," ")))}))}function vt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");$(t.split(" "),(function(e){e=Z(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")})),e.setAttribute("class",Z(n))}}function mt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function gt(e,t){return bt(e,"$"+(t||"ngController")+"Controller")}function bt(e,t,n){9==e.nodeType&&(e=e.documentElement);for(var r=J(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(j(n=c.data(e,r[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function yt(e){for(ut(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function wt(e,t){t||ut(e);var n=e.parentNode;n&&n.removeChild(e)}var $t=at.prototype={ready:function(n){var r=!1;function i(){r||(r=!0,n())}"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),at(e).on("load",i))},toString:function(){var e=[];return $(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return c(e>=0?this[e]:this[this.length+e])},length:0,push:h,sort:[].sort,splice:[].splice},_t={};$("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){_t[o(e)]=e}));var Ct={};$("input,select,option,textarea,button,form,details".split(","),(function(e){Ct[e]=!0}));var xt={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function kt(e,t){var n=_t[t.toLowerCase()];return n&&Ct[te(e)]&&n}function St(e,t,n){n.call(e,t)}function Et(e,t,n){var r=t.relatedTarget;r&&(r===e||ot.call(e,r))||n.call(e,t)}function Tt(){this.$get=function(){return E(at,{hasClass:function(e,t){return e.attr&&(e=e[0]),ft(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),vt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),ht(e,t)}})}}function Dt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||x)():r+":"+e}function At(e,t){if(t){var n=0;this.nextUid=function(){return++n}}$(e,this.put,this)}$({data:pt,removeData:lt,hasData:function(e){for(var t in Fe[e.ng339])return!0;return!1}},(function(e,t){at[t]=e})),$({data:pt,inheritedData:bt,scope:function(e){return c.data(e,"$scope")||bt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return c.data(e,"$isolateScope")||c.data(e,"$isolateScopeNoTemplate")},controller:gt,injector:function(e){return bt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:ft,css:function(e,t,n){if(t=Ye(t),!j(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r=e.nodeType;if(r!==Le&&2!==r&&8!==r){var i=o(t);if(_t[i]){if(!j(n))return e[t]||(e.attributes.getNamedItem(t)||O).specified?i:void 0;n?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(j(n))e.setAttribute(t,n);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?void 0:a}}},prop:function(e,t,n){if(!j(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(N(t)){var n=e.nodeType;return 1===n||n===Le?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(N(t)){if(e.multiple&&"select"===te(e)){var n=[];return $(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(N(t))return e.innerHTML;ut(e,!0),e.innerHTML=t},empty:yt},(function(e,t){at.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==yt&&N(2==e.length&&e!==ft&&e!==gt?t:n)){if(I(t)){for(r=0;r<o;r++)if(e===pt)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=N(a)?Math.min(o,1):o,u=0;u<s;u++){var c=e(this[u],t,n);a=a?a+c:c}return a}for(r=0;r<o;r++)e(this[r],t,n);return this}})),$({removeData:lt,on:function(e,t,n,r){if(j(r))throw Ge("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(nt(e)){var i=dt(e,!0),o=i.events,a=i.handle;a||(a=i.handle=function(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(N(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||St;o>1&&(i=ie(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(e,n,i[u])}};return n.elem=e,n}(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],u=s.length,c=function(t,r,i){var s=o[t];s||((s=o[t]=[]).specialHandlerWrapper=r,"$destroy"===t||i||Ve(e,t,a)),s.push(n)};u--;)t=s[u],Be[t]?(c(Be[t],Et),c(t,void 0,!0)):c(t)}},off:ct,one:function(e,t,n){(e=c(e)).on(t,(function r(){e.off(t,n),e.off(t,r)})),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;ut(e),$(new at(t),(function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t}))},children:function(e){var t=[];return $(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var r=0,i=(t=new at(t)).length;r<i;r++){var o=t[r];e.appendChild(o)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;$(new at(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){it(e,c(t).eq(0).clone()[0])},remove:wt,detach:function(e){wt(e,!0)},after:function(e,t){for(var n=e,r=e.parentNode,i=0,o=(t=new at(t)).length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:vt,removeClass:ht,toggleClass:function(e,t,n){t&&$(t.split(" "),(function(t){var r=n;N(r)&&(r=!ft(e,t)),(r?vt:ht)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:st,triggerHandler:function(e,t,n){var r,i,o,a=t.type||t,s=dt(e),u=s&&s.events,c=u&&u[a];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:O,type:a,target:e},t.type&&(r=E(r,t)),i=ie(c),o=n?[r].concat(n):[r],$(i,(function(t){r.isImmediatePropagationStopped()||t.apply(e,o)})))}},(function(e,t){at.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)N(i)?j(i=e(this[o],t,n,r))&&(i=c(i)):mt(i,e(this[o],t,n,r));return j(i)?i:this},at.prototype.bind=at.prototype.on,at.prototype.unbind=at.prototype.off})),At.prototype={put:function(e,t){this[Dt(e,this.nextUid)]=t},get:function(e){return this[Dt(e,this.nextUid)]},remove:function(e){var t=this[e=Dt(e,this.nextUid)];return delete this[e],t}};var Ot=[function(){this.$get=[function(){return At}]}],Pt=/^[^\(]*\(\s*([^\)]*)\)/m,Mt=/,/,Rt=/^\s*(_?)(\S+?)\1\s*$/,Nt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,jt=r("$injector");function It(e,t){t=!0===t;var n={},r=[],i=new At([],!0),o={$provide:{provider:c(l),factory:c(f),service:c((function(e,t){return f(e,["$injector",function(e){return e.instantiate(t)}])})),value:c((function(e,t){return f(e,M(t),!1)})),constant:c((function(e,t){Re(e,"constant"),o[e]=t,s[e]=t})),decorator:function(e,t){var n=a.get(e+"Provider"),r=n.$get;n.$get=function(){var e=u.invoke(r,n);return u.invoke(t,null,{$delegate:e})}}}},a=o.$injector=h(o,(function(e,t){throw b.isString(t)&&r.push(t),jt("unpr","Unknown provider: {0}",r.join(" <- "))})),s={},u=s.$injector=h(s,(function(e,t){var n=a.get(e+"Provider",t);return u.invoke(n.$get,n,void 0,e)}));return $(function e(t){Pe(N(t)||J(t),"modulesToLoad","not an array");var n,r=[];return $(t,(function(t){if(!i.get(t)){i.put(t,!0);try{U(t)?(n=d(t),r=r.concat(e(n.requires)).concat(n._runBlocks),o(n._invokeQueue),o(n._configBlocks)):V(t)||J(t)?r.push(a.invoke(t)):Me(t,"module")}catch(e){throw J(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),jt("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function o(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=a.get(r[0]);i[r[1]].apply(i,r[2])}}})),r}(e),(function(e){e&&u.invoke(e)})),u;function c(e){return function(t,n){if(!I(t))return e(t,n);$(t,C(e))}}function l(e,t){if(Re(e,"service"),(V(t)||J(t))&&(t=a.instantiate(t)),!t.$get)throw jt("pget","Provider '{0}' must define $get factory method.",e);return o[e+"Provider"]=t}function p(e,t){return function(){var n=u.invoke(t,this);if(N(n))throw jt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function f(e,t,n){return l(e,{$get:!1!==n?p(e,t):t})}function h(e,i){function a(t,o){if(e.hasOwnProperty(t)){if(e[t]===n)throw jt("cdep","Circular dependency found: {0}",t+" <- "+r.join(" <- "));return e[t]}try{return r.unshift(t),e[t]=n,e[t]=i(t,o)}catch(r){throw e[t]===n&&delete e[t],r}finally{r.shift()}}function s(e,n,r,i){"string"==typeof r&&(i=r,r=null);var o,s,u,c=[],l=It.$$annotate(e,t,i);for(s=0,o=l.length;s<o;s++){if("string"!=typeof(u=l[s]))throw jt("itkn","Incorrect injection token! Expected service name as string, got {0}",u);c.push(r&&r.hasOwnProperty(u)?r[u]:a(u,i))}return J(e)&&(e=e[o]),e.apply(n,c)}return{invoke:s,instantiate:function(e,t,n){var r=Object.create((J(e)?e[e.length-1]:e).prototype||null),i=s(e,r,t,n);return I(i)||V(i)?i:r},get:a,annotate:It.$$annotate,has:function(t){return o.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}}function Lt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,r,i){var o=n.document;function a(e){if(e){e.scrollIntoView();var t=function(){var e=s.yOffset;if(V(e))e=e();else if(ee(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else q(e)||(e=0);return e}();if(t){var r=e.getBoundingClientRect().top;n.scrollBy(0,r-t)}}else n.scrollTo(0,0)}function s(e){var t,n,i;(e=U(e)?e:r.hash())?(t=o.getElementById(e))?a(t):(n=o.getElementsByName(e),i=null,Array.prototype.some.call(n,(function(e){if("a"===te(e))return i=e,!0})),(t=i)?a(t):"top"===e&&a(null)):a(null)}return t&&i.$watch((function(){return r.hash()}),(function(t,n){var r,o;t===n&&""===t||(r=function(){i.$evalAsync(s)},"complete"===(o=o||e).document.readyState?o.setTimeout(r):c(o).on("load",r))})),s}]}It.$$annotate=function(e,t,n){var r,i;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw U(n)&&n||(n=e.name||function(e){var t=e.toString().replace(Nt,"").match(Pt);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),jt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);$(e.toString().replace(Nt,"").match(Pt)[1].split(Mt),(function(e){e.replace(Rt,(function(e,t,n){r.push(n)}))}))}e.$inject=r}}else J(e)?(Me(e[i=e.length-1],"fn"),r=e.slice(0,i)):Me(e,"fn",!0);return r};var Ut=r("$animate");function qt(e,t){return e||t?e?t?(J(e)&&(e=e.join(" ")),J(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Ft(e){return I(e)?e:{}}var Jt=function(){this.$get=function(){}},Vt=function(){var e=new At,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:O,on:O,off:O,pin:O,push:function(a,s,u,c){c&&c(),(u=u||{}).from&&a.css(u.from),u.to&&a.css(u.to),(u.addClass||u.removeClass)&&function(n,a,s){var u=e.get(n)||{},c=i(u,a,!0),l=i(u,s,!1);(c||l)&&(e.put(n,u),t.push(n),1===t.length&&r.$$postDigest(o))}(a,u.addClass,u.removeClass);var l=new n;return l.complete(),l}};function i(e,t,n){var r=!1;return t&&$(t=U(t)?t.split(" "):J(t)?t:[],(function(t){t&&(r=!0,e[t]=n)})),r}function o(){$(t,(function(t){var n=e.get(t);if(n){var r=function(e){U(e)&&(e=e.split(" "));var t=Ie();return $(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),i="",o="";$(n,(function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)})),$(t,(function(e){i&&vt(e,i),o&&ht(e,o)})),e.remove(t)}})),t.length=0}}]},zt=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ut("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Ut("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&c(r),i=i&&c(i),t(n,r=r||i.parent(),i),e.push(n,"enter",Ft(o))},move:function(n,r,i,o){return r=r&&c(r),i=i&&c(i),t(n,r=r||i.parent(),i),e.push(n,"move",Ft(o))},leave:function(t,n){return e.push(t,"leave",Ft(n),(function(){t.remove()}))},addClass:function(t,n,r){return(r=Ft(r)).addClass=qt(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return(r=Ft(r)).removeClass=qt(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return(i=Ft(i)).addClass=qt(i.addClass,n),i.removeClass=qt(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return(o=Ft(o)).from=o.from?E(o.from,n):n,o.to=o.to?E(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=qt(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Ht=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]},Wt=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?function(e){i(e,0,!1)}(e):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function r(){if(n===e.length)return void t(!0);e[n]((function(e){!1!==e?(n++,r()):t(!1)}))}()},o.all=function(e,t){var n=0,r=!0;function i(i){r=r&&i,++n===e.length&&t(r)}$(e,(function(e){e.done(i)}))},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:O,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&($(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},o}]},Bt=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){var i=r||{};i.$$prepared||(i=re(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var o,a=new n;return{start:s,end:s};function s(){return e((function(){!function(){i.addClass&&(t.addClass(i.addClass),i.addClass=null);i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null);i.to&&(t.css(i.to),i.to=null)}(),o||a.complete(),o=!0})),a}}}]};function Gt(e,t,n,r){var i=this,o=(t[0],e.location),a=e.history,s=e.setTimeout,u=e.clearTimeout,l={};i.isMock=!1;var d=0,p=[];function f(e){try{e.apply(null,ce(arguments,1))}finally{if(0===--d)for(;p.length;)try{p.pop()()}catch(e){n.error(e)}}}i.$$completeOutstandingRequest=f,i.$$incOutstandingRequestCount=function(){d++},i.notifyWhenNoOutstandingRequests=function(e){0===d?e():p.push(e)};var h,v,m=o.href,g=t.find("base"),b=null;x(),v=h,i.url=function(t,n,s){if(N(s)&&(s=null),o!==e.location&&(o=e.location),a!==e.history&&(a=e.history),t){var u=v===s;if(m===t&&(!r.history||u))return i;var c=m&&Ln(m)===Ln(t);return m=t,v=s,!r.history||c&&u?(c&&!b||(b=t),n?o.replace(t):c?o.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):o.href=t,o.href!==t&&(b=t)):(a[n?"replaceState":"pushState"](s,"",t),x(),v=h),i}return b||o.href.replace(/%27/g,"'")},i.state=function(){return h};var y=[],w=!1;function _(){b=null,x(),k()}var C=null;function x(){oe(h=N(h=function(){try{return a.state}catch(e){}}())?null:h,C)&&(h=C),C=h}function k(){m===i.url()&&v===h||(m=i.url(),v=h,$(y,(function(e){e(i.url(),h)})))}i.onUrlChange=function(t){return w||(r.history&&c(e).on("popstate",_),c(e).on("hashchange",_),w=!0),y.push(t),t},i.$$applicationDestroyed=function(){c(e).off("hashchange popstate",_)},i.$$checkUrlChange=k,i.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},i.defer=function(e,t){var n;return d++,n=s((function(){delete l[n],f(e)}),t||0),l[n]=!0,n},i.defer.cancel=function(e){return!!l[e]&&(delete l[e],u(e),f(O),!0)}}function Yt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Gt(e,r,t,n)}]}function Xt(){this.$get=function(){var e={};function t(t,n){if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,o=E({},n,{id:t}),a=Ie(),s=n&&n.capacity||Number.MAX_VALUE,u=Ie(),c=null,l=null;return e[t]={put:function(e,t){if(!N(t)){if(s<Number.MAX_VALUE)d(u[e]||(u[e]={key:e}));return e in a||i++,a[e]=t,i>s&&this.remove(l.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=u[e];if(!t)return;d(t)}return a[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=u[e];if(!t)return;t==c&&(c=t.p),t==l&&(l=t.n),p(t.n,t.p),delete u[e]}e in a&&(delete a[e],i--)},removeAll:function(){a=Ie(),i=0,u=Ie(),c=l=null},destroy:function(){a=null,o=null,u=null,delete e[t]},info:function(){return E({},o,{size:i})}};function d(e){e!=c&&(l?l==e&&(l=e.n):l=e,p(e.n,e.p),p(e,c),(c=e).n=null)}function p(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return $(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function Kt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var Zt=r("$compile");function Qt(e,n){var r={},i=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,s=/(([\w\-]+)(?:\:([^;]+))?;?)/,d=function(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),p=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,f=/^(on[a-z]+|formaction)$/,h=Ie();function v(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i=Ie();return $(e,(function(e,o){if(e in h)i[o]=h[e];else{var a=e.match(r);if(!a)throw Zt("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(h[e]=i[o])}})),i}function m(e,t){var n={isolateScope:null,bindToController:null};if(I(e.scope)&&(!0===e.bindToController?(n.bindToController=v(e.scope,t,!0),n.isolateScope={}):n.isolateScope=v(e.scope,t,!1)),I(e.bindToController)&&(n.bindToController=v(e.bindToController,t,!0)),I(n.bindToController)){var r=e.controller,i=e.controllerAs;if(!r)throw Zt("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!function(e,t){if(t&&U(t))return t;if(U(e)){var n=an.exec(e);if(n)return n[3]}}(r,i))throw Zt("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}this.directive=function t(n,i){return Re(n,"directive"),U(n)?(!function(e){var t=e.charAt(0);if(!t||t!==o(t))throw Zt("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Zt("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),Pe(i,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],e.factory(n+"Directive",["$injector","$exceptionHandler",function(e,t){var i=[];return $(r[n],(function(r,o){try{var a=e.invoke(r);V(a)?a={compile:M(a)}:!a.compile&&a.link&&(a.compile=M(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(e){t(e)}})),i}])),r[n].push(i)):$(n,C(t)),this},this.aHrefSanitizationWhitelist=function(e){return j(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return j(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var g=!0;this.debugInfoEnabled=function(e){return j(e)?(g=e,this):g},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,h,v,b,y,w,_,C,x){var k=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=t[i]}else this.$attr={};this.$$element=e};function S(e,t){try{e.addClass(t)}catch(e){}}k.prototype={$normalize:tn,$addClass:function(e){e&&e.length>0&&C.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&C.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=nn(e,t);n&&n.length&&C.addClass(this.$$element,n);var r=nn(t,e);r&&r.length&&C.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i,o=kt(this.$$element[0],e),a=xt[e],s=e;if(o?(this.$$element.prop(e,t),r=o):a&&(this[a]=t,s=a),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=De(e,"-")),"a"===(i=te(this.$$element))&&"href"===e||"img"===i&&"src"===e)this[e]=t=x(t,"src"===e);else if("img"===i&&"srcset"===e&&j(t)){for(var u="",c=Z(t),l=/\s/.test(c)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,d=c.split(l),p=Math.floor(d.length/2),f=0;f<p;f++){var v=2*f;u+=x(Z(d[v]),!0),u+=" "+Z(d[v+1])}var m=Z(d[2*f]).split(/\s/);u+=x(Z(m[0]),!0),2===m.length&&(u+=" "+Z(m[1])),this[e]=t=u}!1!==n&&(null===t||N(t)?this.$$element.removeAttr(r):this.$$element.attr(r,t));var g=this.$$observers;g&&$(g[s],(function(e){try{e(t)}catch(e){h(e)}}))},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=Ie()),i=r[e]||(r[e]=[]);return i.push(t),w.$evalAsync((function(){i.$$inter||!n.hasOwnProperty(e)||N(n[e])||t(n[e])})),function(){ne(i,t)}}};var T=n.startSymbol(),D=n.endSymbol(),M="{{"==T&&"}}"==D?P:function(e){return e.replace(/\{\{/g,T).replace(/}}/g,D)},R=/^ngAttr[A-Z]/,L=/^(.+)Start$/;return q.$$addBindingInfo=g?function(e,t){var n=e.data("$binding")||[];J(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:O,q.$$addBindingClass=g?function(e){S(e,"ng-binding")}:O,q.$$addScopeInfo=g?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:O,q.$$addScopeClass=g?function(e,t){S(e,t?"ng-isolate-scope":"ng-scope")}:O,q;function q(e,n,r,i,o){e instanceof c||(e=c(e));for(var a=/\S+/,s=0,u=e.length;s<u;s++){var l=e[s];l.nodeType===Le&&l.nodeValue.match(a)&&it(l,e[s]=t.createElement("span"))}var d=F(e,n,e,r,i,o);q.$$addScopeClass(e);var p=null;return function(t,n,r){Pe(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new());var i,a,s,u=(r=r||{}).parentBoundTranscludeFn,l=r.transcludeControllers,f=r.futureParentElement;if(u&&u.$$boundTransclude&&(u=u.$$boundTransclude),p||(a=(i=f)&&i[0],p=a&&"foreignobject"!==te(a)&&a.toString().match(/SVG/)?"svg":"html"),s="html"!==p?c(ue(p,c("<div>").append(e).html())):n?$t.clone.call(e):e,l)for(var h in l)s.data("$"+h+"Controller",l[h].instance);return q.$$addScopeInfo(s,t),n&&n(s,t),d&&d(t,s,s,u),s}}function F(e,t,n,r,i,o){for(var a,s,u,l,d,p,f,h=[],v=0;v<e.length;v++)a=new k,(u=(s=H(e[v],[],a,0===v?r:void 0,i)).length?X(s,e[v],a,t,n,null,[],[],o):null)&&u.scope&&q.$$addScopeClass(a.$$element),d=u&&u.terminal||!(l=e[v].childNodes)||!l.length?null:F(l,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(h.push(v,u,d),p=!0,f=f||u),o=null;return p?function(e,n,r,i){var o,a,s,u,l,d,p,v,m;if(f){var g=n.length;for(m=new Array(g),l=0;l<h.length;l+=3)p=h[l],m[p]=n[p]}else m=n;for(l=0,d=h.length;l<d;)s=m[h[l++]],o=h[l++],a=h[l++],o?(o.scope?(u=e.$new(),q.$$addScopeInfo(c(s),u)):u=e,v=o.transcludeOnThisElement?z(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?z(e,t):null,o(a,u,s,r,v)):a&&a(e,s.childNodes,void 0,i)}:null}function z(e,t,n){return function(r,i,o,a,s){return r||((r=e.$new(!1,s)).$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}}function H(e,t,r,o,a){var c,l,d,p=e.nodeType,f=r.$attr;switch(p){case 1:Q(t,tn(l=te(e)),"E",o,a);for(var h,v,m,g,b,y,w=e.attributes,$=0,_=w&&w.length;$<_;$++){var C=!1,x=!1;v=(h=w[$]).name,b=Z(h.value),g=tn(v),(y=R.test(g))&&(v=v.replace(en,"").substr(8).replace(/_(.)/g,(function(e,t){return t.toUpperCase()})));var k=g.match(L);k&&ee(k[1])&&(C=v,x=v.substr(0,v.length-5)+"end",v=v.substr(0,v.length-6)),f[m=tn(v.toLowerCase())]=v,!y&&r.hasOwnProperty(m)||(r[m]=b,kt(e,m)&&(r[m]=!0)),le(e,t,b,m,y),Q(t,m,"A",o,a,C,x)}if("input"===l&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),I(d=e.className)&&(d=d.animVal),U(d)&&""!==d)for(;c=s.exec(d);)Q(t,m=tn(c[2]),"C",o,a)&&(r[m]=Z(c[3])),d=d.substr(c.index+c[0].length);break;case Le:if(11===u)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Le;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);!function(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&q.$$addBindingClass(t),function(e,t){var i=t.parent();n||q.$$addBindingClass(i),q.$$addBindingInfo(i,r.expressions),e.$watch(r,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case 8:try{(c=i.exec(e.nodeValue))&&Q(t,m=tn(c[1]),"M",o,a)&&(r[m]=Z(c[2]))}catch(e){}}return t.sort(ae),t}function B(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw Zt("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0);else r.push(e);return c(r)}function Y(e,t,n){return function(r,i,o,a,s){return i=B(i[0],t,n),e(r,i,o,a,s)}}function X(e,n,r,i,o,a,s,u,l){l=l||{};for(var d,f,v,m,g,b=-Number.MAX_VALUE,w=l.newScopeDirective,$=l.controllerDirectives,_=l.newIsolateScopeDirective,C=l.templateDirective,x=l.nonTlbTranscludeDirective,S=!1,E=!1,T=l.hasElementTranscludeDirective,D=r.$$element=c(n),A=a,O=i,P=0,R=e.length;P<R;P++){var N=(d=e[P]).$$start,j=d.$$end;if(N&&(D=B(n,N,j)),v=void 0,b>d.priority)break;if((g=d.scope)&&(d.templateUrl||(I(g)?(se("new/isolated scope",_||w,d,D),_=d):se("new/isolated scope",_,d,D)),w=w||d),f=d.name,!d.templateUrl&&d.controller&&(g=d.controller,$=$||Ie(),se("'"+f+"' controller",$[f],d,D),$[f]=d),(g=d.transclude)&&(S=!0,d.$$tlb||(se("transclusion",x,d,D),x=d),"element"==g?(T=!0,b=d.priority,v=D,D=r.$$element=c(t.createComment(" "+f+": "+r[f]+" ")),n=D[0],de(o,ce(v),n),O=q(v,i,b,A&&A.name,{nonTlbTranscludeDirective:x})):(v=c(st(n)).contents(),D.empty(),O=q(v,i,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}))),d.template)if(E=!0,se("template",C,d,D),C=d,g=V(d.template)?d.template(D,r):d.template,g=M(g),d.replace){if(A=d,v=tt(g)?[]:rn(ue(d.templateNamespace,Z(g))),n=v[0],1!=v.length||1!==n.nodeType)throw Zt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f,"");de(o,D,n);var L={$attr:{}},F=H(n,[],L),z=e.splice(P+1,e.length-(P+1));(_||w)&&K(F,_,w),e=e.concat(F).concat(z),re(r,L),R=e.length}else D.html(g);if(d.templateUrl)E=!0,se("template",C,d,D),C=d,d.replace&&(A=d),Q=ie(e.splice(P,e.length-P),D,r,o,S&&O,s,u,{controllerDirectives:$,newScopeDirective:w!==d&&w,newIsolateScopeDirective:_,templateDirective:C,nonTlbTranscludeDirective:x}),R=e.length;else if(d.compile)try{V(m=d.compile(D,r,O))?G(null,m,N,j):m&&G(m.pre,m.post,N,j)}catch(e){h(e,ge(D))}d.terminal&&(Q.terminal=!0,b=Math.max(b,d.priority))}return Q.scope=w&&!0===w.scope,Q.transcludeOnThisElement=S,Q.templateOnThisElement=E,Q.transclude=O,l.hasElementTranscludeDirective=T,Q;function G(e,t,n,r){e&&(n&&(e=Y(e,n,r)),e.require=d.require,e.directiveName=f,(_===d||d.$$isolateScope)&&(e=pe(e,{isolateScope:!0})),s.push(e)),t&&(n&&(t=Y(t,n,r)),t.require=d.require,t.directiveName=f,(_===d||d.$$isolateScope)&&(t=pe(t,{isolateScope:!0})),u.push(t))}function X(e,t,n,r){var i;if(U(t)){var o=t.match(p),a=t.substring(o[0].length),s=o[1]||o[3],u="?"===o[2];if("^^"===s?n=n.parent():i=(i=r&&r[a])&&i.instance,!i){var c="$"+a+"Controller";i=s?n.inheritedData(c):n.data(c)}if(!i&&!u)throw Zt("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(J(t)){i=[];for(var l=0,d=t.length;l<d;l++)i[l]=X(e,t[l],n,r)}return i||null}function Q(e,t,i,o,a){var l,d,p,f,h,v,m,g,b;for(var x in n===i?(m=r,v=r.$$element):(v=c(i),m=new k(v,r)),p=t,_?d=t.$new(!0):w&&(p=t.$parent),a&&((h=function(e,t,n){var r;W(e)||(n=t,t=e,e=void 0);T&&(r=f);n||(n=T?v.parent():v);return a(e,t,r,n,O)}).$$boundTransclude=a),$&&(f=function(e,t,n,r,i,o){var a=Ie();for(var s in r){var u=r[s],c={$scope:u===_||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},l=u.controller;"@"==l&&(l=t[u.name]);var d=y(l,c,!0,u.controllerAs);a[u.name]=d,e.data("$"+u.name+"Controller",d.instance)}return a}(v,m,h,$,d,t)),_&&(q.$$addScopeInfo(v,d,!0,!(C&&(C===_||C===_.$$originalDirective))),q.$$addScopeClass(v,!0),d.$$isolateBindings=_.$$isolateBindings,(g=he(t,m,d,d.$$isolateBindings,_))&&d.$on("$destroy",g)),f){var S=$[x],E=f[x],D=S.$$bindings.bindToController;E.identifier&&D&&(b=he(p,m,E.instance,D,S));var A=E();A!==E.instance&&(E.instance=A,v.data("$"+S.name+"Controller",A),b&&b(),b=he(p,m,E.instance,D,S))}for(P=0,R=s.length;P<R;P++)fe(l=s[P],l.isolateScope?d:t,v,m,l.require&&X(l.directiveName,l.require,v,f),h);var O=t;for(_&&(_.template||null===_.templateUrl)&&(O=d),e&&e(O,i.childNodes,void 0,a),P=u.length-1;P>=0;P--)fe(l=u[P],l.isolateScope?d:t,v,m,l.require&&X(l.directiveName,l.require,v,f),h)}}function K(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=A(e[r],{$$isolateScope:t,$$newScope:n})}function Q(t,n,i,o,a,s,u){if(n===a)return null;var c=null;if(r.hasOwnProperty(n))for(var l,d=e.get(n+"Directive"),p=0,f=d.length;p<f;p++)try{if(l=d[p],(N(o)||o>l.priority)&&-1!=l.restrict.indexOf(i)){if(s&&(l=A(l,{$$start:s,$$end:u})),!l.$$bindings){var v=l.$$bindings=m(l,l.name);I(v.isolateScope)&&(l.$$isolateBindings=v.isolateScope)}t.push(l),c=l}}catch(e){h(e)}return c}function ee(t){if(r.hasOwnProperty(t))for(var n=e.get(t+"Directive"),i=0,o=n.length;i<o;i++)if(n[i].multiElement)return!0;return!1}function re(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;$(e,(function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))})),$(t,(function(t,o){"class"==o?(S(i,t),e.class=(e.class?e.class+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])}))}function ie(e,t,n,r,i,o,a,s){var u,l,d=[],p=t[0],f=e.shift(),h=A(f,{templateUrl:null,transclude:null,replace:null,$$originalDirective:f}),m=V(f.templateUrl)?f.templateUrl(t,n):f.templateUrl,g=f.templateNamespace;return t.empty(),v(m).then((function(v){var b,y,w,_;if(v=M(v),f.replace){if(w=tt(v)?[]:rn(ue(g,Z(v))),b=w[0],1!=w.length||1!==b.nodeType)throw Zt("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f.name,m);y={$attr:{}},de(r,t,b);var C=H(b,[],y);I(f.scope)&&K(C,!0),e=C.concat(e),re(n,y)}else b=p,t.html(v);for(e.unshift(h),u=X(e,b,n,i,t,f,o,a,s),$(r,(function(e,n){e==b&&(r[n]=t[0])})),l=F(t[0].childNodes,i);d.length;){var x=d.shift(),k=d.shift(),E=d.shift(),T=d.shift(),D=t[0];if(!x.$$destroyed){if(k!==p){var A=k.className;s.hasElementTranscludeDirective&&f.replace||(D=st(b)),de(E,c(k),D),S(c(D),A)}_=u.transcludeOnThisElement?z(x,u.transclude,T):T,u(l,x,D,r,_)}}d=null})),function(e,t,n,r,i){var o=i;t.$$destroyed||(d?d.push(t,n,r,o):(u.transcludeOnThisElement&&(o=z(t,u.transclude,i)),u(l,t,n,r,o)))}}function ae(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function se(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Zt("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,ge(r))}function ue(e,n){switch(e=o(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function le(e,t,r,i,o){var a=function(e,t){if("srcdoc"==t)return _.HTML;var n=te(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?_.RESOURCE_URL:void 0}(e,i);o=d[i]||o;var s=n(r,!0,a,o);if(s){if("multiple"===i&&"select"===te(e))throw Zt("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ge(e));t.push({priority:100,compile:function(){return{pre:function(e,t,u){var c=u.$$observers||(u.$$observers=Ie());if(f.test(i))throw Zt("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=u[i];l!==r&&(s=l&&n(l,!0,a,o),r=l),s&&(u[i]=s(e),(c[i]||(c[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||e).$watch(s,(function(e,t){"class"===i&&e!=t?u.$updateClass(e,t):u.$set(i,e)})))}}}})}}function de(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]==a){e[i++]=r;for(var d=i,p=d+s-1,f=e.length;d<f;d++,p++)p<f?e[d]=e[p]:delete e[d];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var h=t.createDocumentFragment();h.appendChild(a),c.hasData(a)&&(c.data(r,c.data(a)),l?(Ae=!0,l.cleanData([a])):delete c.cache[a[c.expando]]);for(var v=1,m=n.length;v<m;v++){var g=n[v];c(g).remove(),h.appendChild(g),delete n[v]}n[0]=r,n.length=1}function pe(e,t){return E((function(){return e.apply(null,arguments)}),e,t)}function fe(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){h(e,ge(n))}}function he(e,t,r,i,o){var s=[];return $(i,(function(i,u){var c,l,d,p,f=i.attrName,h=i.optional;switch(i.mode){case"@":h||a.call(t,f)||(r[u]=t[f]=void 0),t.$observe(f,(function(e){U(e)&&(r[u]=e)})),t.$$observers[f].$$scope=e,U(c=t[f])?r[u]=n(c)(e):G(c)&&(r[u]=c);break;case"=":if(!a.call(t,f)){if(h)break;t[f]=void 0}if(h&&!t[f])break;l=b(t[f]),p=l.literal?oe:function(e,t){return e===t||e!=e&&t!=t},d=l.assign||function(){throw c=r[u]=l(e),Zt("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[f],f,o.name)},c=r[u]=l(e);var v,m=function(t){return p(t,r[u])||(p(t,c)?d(e,t=r[u]):r[u]=t),c=t};m.$stateful=!0,v=i.collection?e.$watchCollection(t[f],m):e.$watch(b(t[f],m),null,l.literal),s.push(v);break;case"&":if((l=t.hasOwnProperty(f)?b(t[f]):O)===O&&h)break;r[u]=function(t){return l(e,t)}}})),s.length&&function(){for(var e=0,t=s.length;e<t;++e)s[e]()}}}]}Qt.$inject=["$provide","$$sanitizeUriProvider"];var en=/^((?:x|data)[\:\-_])/i;function tn(e){return Ye(e.replace(en,""))}function nn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function rn(e){var t=(e=c(e)).length;if(t<=1)return e;for(;t--;){8===e[t].nodeType&&f.call(e,t,1)}return e}var on=r("$controller"),an=/^(\S+)(\s+as\s+([\w$]+))?$/;function sn(){var e={},t=!1;this.register=function(t,n){Re(t,"controller"),I(t)?E(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,i){return function(r,a,s,u){var c,l,d,p;if(s=!0===s,u&&U(u)&&(p=u),U(r)){if(!(l=r.match(an)))throw on("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);d=l[1],p=p||l[3],Me(r=e.hasOwnProperty(d)?e[d]:Ne(a.$scope,d,!0)||(t?Ne(i,d,!0):void 0),d,!0)}if(s){var f=(J(r)?r[r.length-1]:r).prototype;return c=Object.create(f||null),p&&o(a,p,c,d||r.name),E((function(){var e=n.invoke(r,c,a,d);return e!==c&&(I(e)||V(e))&&(c=e,p&&o(a,p,c,d||r.name)),c}),{instance:c,identifier:p})}return c=n.instantiate(r,a,d),p&&o(a,p,c,d||r.name),c};function o(e,t,n,i){if(!e||!I(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}}]}function un(){this.$get=["$window",function(e){return c(e.document)}]}function cn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var ln=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof c&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},dn={"Content-Type":"application/json;charset=utf-8"},pn=/^\[|^\{(?!\{)/,fn={"[":/]$/,"{":/}$/},hn=/^\)\]\}',?\n/,vn=r("$http"),mn=function(e){return function(){throw vn("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}};function gn(e){return I(e)?F(e)?e.toISOString():pe(e):e}function bn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return _(e,(function(e,n){null===e||N(e)||(J(e)?$(e,(function(e,r){t.push(_e(n)+"="+_e(gn(e)))})):t.push(_e(n)+"="+_e(gn(e))))})),t.join("&")}}}function yn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,r,i){if(null===n||N(n))return;J(n)?$(n,(function(t,n){e(t,r+"["+(I(t)?n:"")+"]")})):I(n)&&!F(n)?_(n,(function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))})):t.push(_e(r)+"="+_e(gn(n)))}(e,"",!0),t.join("&")}}}function wn(e,t){if(U(e)){var n=e.replace(hn,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf("application/json")||(o=(i=n).match(pn))&&fn[o[0]].test(i))&&(e=fe(n))}}var i,o;return e}function $n(e){var t,n=Ie();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return U(e)?$(e.split("\n"),(function(e){t=e.indexOf(":"),r(o(Z(e.substr(0,t))),Z(e.substr(t+1)))})):I(e)&&$(e,(function(e,t){r(o(t),Z(e))})),n}function _n(e){var t;return function(n){if(t||(t=$n(e)),n){var r=t[o(n)];return void 0===r&&(r=null),r}return t}}function Cn(e,t,n,r){return V(r)?r(e,t,n):($(r,(function(r){e=r(e,t,n)})),e)}function xn(e){return 200<=e&&e<300}function kn(){var e=this.defaults={transformResponse:[wn],transformRequest:[function(e){return!I(e)||(t=e,"[object File]"===v.call(t))||B(e)||function(e){return"[object FormData]"===v.call(e)}(e)?e:pe(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ie(dn),put:ie(dn),patch:ie(dn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return j(e)?(t=!!e,this):t};var n=!0;this.useLegacyPromiseExtensions=function(e){return j(e)?(n=!!e,this):n};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,u,c,l,d,p){var f=c("$http");e.paramSerializer=U(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var h=[];function v(i){if(!b.isObject(i))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",i);if(!U(i.url))throw r("$http")("badreq","Http request configuration url must be a string.  Received: {0}",i.url);var c=E({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},i);c.headers=function(t){var n,r,i,a=e.headers,s=E({},t.headers);a=E({},a.common,a[o(t.method)]);e:for(n in a){for(i in r=o(n),s)if(o(i)===r)continue e;s[n]=a[n]}return function(e,t){var n,r={};return $(e,(function(e,i){V(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e})),r}(s,ie(t))}(i),c.method=s(c.method),c.paramSerializer=U(c.paramSerializer)?p.get(c.paramSerializer):c.paramSerializer;var m=[function(n){var r=n.headers,i=Cn(n.data,_n(r),void 0,n.transformRequest);return N(i)&&$(r,(function(e,t){"content-type"===o(t)&&delete r[t]})),N(n.withCredentials)&&!N(e.withCredentials)&&(n.withCredentials=e.withCredentials),function(n,r){var i,o,s=d.defer(),c=s.promise,p=n.headers,h=function(e,t){t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t);return e}(n.url,n.paramSerializer(n.params));v.pendingRequests.push(n),c.then(y,y),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(i=I(n.cache)?n.cache:I(e.cache)?e.cache:f);i&&(j(o=i.get(h))?Y(o)?o.then(b,b):J(o)?g(o[1],o[0],ie(o[2]),o[3]):g(o,200,{},"OK"):i.put(h,c));if(N(o)){var m=Fr(n.url)?u()[n.xsrfCookieName||e.xsrfCookieName]:void 0;m&&(p[n.xsrfHeaderName||e.xsrfHeaderName]=m),a(n.method,h,r,(function(e,n,r,o){i&&(xn(e)?i.put(h,[e,n,$n(r),o]):i.remove(h));function a(){g(n,e,r,o)}t?l.$applyAsync(a):(a(),l.$$phase||l.$apply())}),p,n.timeout,n.withCredentials,n.responseType)}return c;function g(e,t,r,i){(xn(t=t>=-1?t:0)?s.resolve:s.reject)({data:e,status:t,headers:_n(r),config:n,statusText:i})}function b(e){g(e.data,e.status,ie(e.headers()),e.statusText)}function y(){var e=v.pendingRequests.indexOf(n);-1!==e&&v.pendingRequests.splice(e,1)}}(n,i).then(_,_)},void 0],g=d.when(c);for($(h,(function(e){(e.request||e.requestError)&&m.unshift(e.request,e.requestError),(e.response||e.responseError)&&m.push(e.response,e.responseError)}));m.length;){var y=m.shift(),w=m.shift();g=g.then(y,w)}return n?(g.success=function(e){return Me(e,"fn"),g.then((function(t){e(t.data,t.status,t.headers,c)})),g},g.error=function(e){return Me(e,"fn"),g.then(null,(function(t){e(t.data,t.status,t.headers,c)})),g}):(g.success=mn("success"),g.error=mn("error")),g;function _(e){var t=E({},e);return t.data=Cn(e.data,e.headers,e.status,c.transformResponse),xn(e.status)?t:d.reject(t)}}return $(i,(function(e){h.unshift(U(e)?p.get(e):p.invoke(e))})),v.pendingRequests=[],function(e){$(arguments,(function(e){v[e]=function(t,n){return v(E({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){$(arguments,(function(e){v[e]=function(t,n,r){return v(E({},r||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),v.defaults=e,v}]}function Sn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function En(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return function(e,t,n,r,i){return function(a,s,u,c,l,d,p,f){if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==o(a)){var h="_"+(r.counter++).toString(36);r[h]=function(e){r[h].data=e,r[h].called=!0};var v=function(e,t,n){var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){ze(o,"load",a),ze(o,"error",a),i.body.removeChild(o),o=null;var s=-1,u="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),u=e.type,s="error"===e.type?404:200),n&&n(s,u)},Ve(o,"load",a),Ve(o,"error",a),i.body.appendChild(o),a}(s.replace("JSON_CALLBACK","angular.callbacks."+h),h,(function(e,t){w(c,e,r[h].data,"",t),r[h]=O}))}else{var m=t(a,s);m.open(a,s,!0),$(l,(function(e,t){j(e)&&m.setRequestHeader(t,e)})),m.onload=function(){var e=m.statusText||"",t="response"in m?m.response:m.responseText,n=1223===m.status?204:m.status;0===n&&(n=t?200:"file"==qr(s).protocol?404:0),w(c,n,t,m.getAllResponseHeaders(),e)};var g=function(){w(c,-1,null,null,"")};if(m.onerror=g,m.onabort=g,p&&(m.withCredentials=!0),f)try{m.responseType=f}catch(e){if("json"!==f)throw e}m.send(N(u)?null:u)}if(d>0)var b=n(y,d);else Y(d)&&d.then(y);function y(){v&&v(),m&&m.abort()}function w(t,r,i,o,a){j(b)&&n.cancel(b),v=m=null,t(r,i,o,a),e.$$completeOutstandingRequest(O)}}}(e,r,e.defer,t.angular.callbacks,n[0])}]}var Tn=b.$interpolateMinErr=r("$interpolate");function Dn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var o=e.length,a=t.length,s=new RegExp(e.replace(/./g,c),"g"),u=new RegExp(t.replace(/./g,c),"g");function c(e){return"\\\\\\"+e}function l(n){return n.replace(s,e).replace(u,t)}function d(s,u,c,d){d=!!d;for(var p,f,h,v=0,m=[],g=[],b=s.length,y=[],w=[];v<b;){if(-1==(p=s.indexOf(e,v))||-1==(f=s.indexOf(t,p+o))){v!==b&&y.push(l(s.substring(v)));break}v!==p&&y.push(l(s.substring(v,p))),h=s.substring(p+o,f),m.push(h),g.push(n(h,C)),v=f+a,w.push(y.length),y.push("")}if(c&&y.length>1&&Tn.throwNoconcat(s),!u||m.length){var $=function(e){for(var t=0,n=m.length;t<n;t++){if(d&&N(e[t]))return;y[w[t]]=e[t]}return y.join("")},_=function(e){return c?i.getTrusted(c,e):i.valueOf(e)};return E((function(e){var t=0,n=m.length,i=new Array(n);try{for(;t<n;t++)i[t]=g[t](e);return $(i)}catch(e){r(Tn.interr(s,e))}}),{exp:s,expressions:m,$$watchDelegate:function(e,t){var n;return e.$watchGroup(g,(function(r,i){var o=$(r);V(t)&&t.call(this,o,r!==i?n:o,e),n=o}))}})}function C(e){try{return e=_(e),d&&!j(e)?e:function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=pe(e)}return e}(e)}catch(e){r(Tn.interr(s,e))}}}return d.startSymbol=function(){return e},d.endSymbol=function(){return t},d}]}function An(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){var i={};function o(o,a,s,u){var c=arguments.length>4,l=c?ce(arguments,4):[],d=t.setInterval,p=t.clearInterval,f=0,h=j(u)&&!u,v=(h?r:n).defer(),m=v.promise;return s=j(s)?s:0,m.then(null,null,c?function(){o.apply(null,l)}:o),m.$$intervalId=d((function(){v.notify(f++),s>0&&f>=s&&(v.resolve(f),p(m.$$intervalId),delete i[m.$$intervalId]),h||e.$apply()}),a),i[m.$$intervalId]=v,m}return o.cancel=function(e){return!(!e||!(e.$$intervalId in i))&&(i[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0)},o}]}Tn.throwNoconcat=function(e){throw Tn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Tn.interr=function(e,t){return Tn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var On=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Pn={http:80,https:443,ftp:21},Mn=r("$location");function Rn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=$e(t[n]);return t.join("/")}function Nn(e,t){var n=qr(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=D(n.port)||Pn[n.protocol]||null}function jn(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=qr(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=ye(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function In(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Ln(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Un(e){return e.replace(/(#.+)|#$/,"$1")}function qn(e,t,n){this.$$html5=!0,n=n||"",Nn(e,this),this.$$parse=function(e){var n=In(t,e);if(!U(n))throw Mn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);jn(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=we(this.$$search),n=this.$$hash?"#"+$e(this.$$hash):"";this.$$url=Rn(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(j(o=In(e,r))?(a=o,s=j(o=In(n,o))?t+(In("/",o)||o):e+a):j(o=In(t,r))?s=t+o:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s);var o,a,s}}function Fn(e,t,n){Nn(e,this),this.$$parse=function(r){var i,o=In(e,r)||In(t,r);N(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",N(o)&&(e=r,this.replace())):N(i=In(n,o))&&(i=o),jn(i,this),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;0===t.indexOf(n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(r=i.exec(e))?r[1]:e}(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=we(this.$$search),r=this.$$hash?"#"+$e(this.$$hash):"";this.$$url=Rn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Ln(e)==Ln(t)&&(this.$$parse(t),!0)}}function Jn(e,t,n){this.$$html5=!0,Fn.apply(this,arguments),this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(e==Ln(r)?o=r:(a=In(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,a},this.$$compose=function(){var t=we(this.$$search),r=this.$$hash?"#"+$e(this.$$hash):"";this.$$url=Rn(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}var Vn={$$html5:!1,$$replace:!1,absUrl:zn("$$absUrl"),url:function(e){if(N(e))return this.$$url;var t=On.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:zn("$$protocol"),host:zn("$$host"),port:zn("$$port"),path:Hn("$$path",(function(e){return"/"==(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(U(e)||q(e))e=e.toString(),this.$$search=ye(e);else{if(!I(e))throw Mn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");$(e=re(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:N(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Hn("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function zn(e){return function(){return this[e]}}function Hn(e,t){return function(n){return N(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Wn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return j(t)?(e=t,this):e},this.html5Mode=function(e){return G(e)?(t.enabled=e,this):I(e)?(G(e.enabled)&&(t.enabled=e.enabled),G(e.requireBase)&&(t.requireBase=e.requireBase),G(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){var s,u,l,d,p=r.baseHref(),f=r.url();if(t.enabled){if(!p&&t.requireBase)throw Mn("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=(d=f).substring(0,d.indexOf("/",d.indexOf("//")+2))+(p||"/"),u=i.history?qn:Jn}else l=Ln(f),u=Fn;var h=function(e){return e.substr(0,Ln(e).lastIndexOf("/")+1)}(l);(s=new u(l,h,"#"+e)).$$parseLinkUrl(f,f),s.$$state=r.state();var v=/^\s*(javascript|mailto):/i;function m(e,t,n){var i=s.url(),o=s.$$state;try{r.url(e,t,n),s.$$state=r.state()}catch(e){throw s.url(i),s.$$state=o,e}}o.on("click",(function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=c(e.target);"a"!==te(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var u=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");I(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=qr(u.animVal).href),v.test(u)||!u||i.attr("target")||e.isDefaultPrevented()||s.$$parseLinkUrl(u,l)&&(e.preventDefault(),s.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}})),Un(s.absUrl())!=Un(f)&&r.url(s.absUrl(),!0);var g=!0;return r.onUrlChange((function(e,t){N(In(h,e))?a.location.href=e:(n.$evalAsync((function(){var r,i=s.absUrl(),o=s.$$state;e=Un(e),s.$$parse(e),s.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,s.absUrl()===e&&(r?(s.$$parse(i),s.$$state=o,m(i,!1,o)):(g=!1,b(i,o)))})),n.$$phase||n.$digest())})),n.$watch((function(){var e=Un(r.url()),t=Un(s.absUrl()),o=r.state(),a=s.$$replace,u=e!==t||s.$$html5&&i.history&&o!==s.$$state;(g||u)&&(g=!1,n.$evalAsync((function(){var t=s.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,s.$$state,o).defaultPrevented;s.absUrl()===t&&(r?(s.$$parse(e),s.$$state=o):(u&&m(t,a,o===s.$$state?null:s.$$state),b(e,o)))}))),s.$$replace=!1})),s;function b(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}}]}function Bn(){var e=!0,t=this;this.debugEnabled=function(t){return j(t)?(e=t,this):e},this.$get=["$window",function(n){return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(r=o("debug"),function(){e&&r.apply(t,arguments)})};var r;function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},r=t[e]||t.log||O,o=!1;try{o=!!r.apply}catch(e){}return o?function(){var e=[];return $(arguments,(function(t){e.push(i(t))})),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}}]}$([Jn,Fn,qn],(function(e){e.prototype=Object.create(Vn),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==qn||!this.$$html5)throw Mn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=N(t)?null:t,this}}));var Gn=r("$parse");function Yn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Gn("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Xn(e,t){if(!U(e+=""))throw Gn("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function Kn(e,t){if(e){if(e.constructor===e)throw Gn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Gn("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Gn("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Gn("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}var Zn=Function.prototype.call,Qn=Function.prototype.apply,er=Function.prototype.bind;function tr(e,t){if(e){if(e.constructor===e)throw Gn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Zn||e===Qn||e===er)throw Gn("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function nr(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Gn("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}var rr=Ie();$("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){rr[e]=!0}));var ir={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},or=function(e){this.options=e};or.prototype={constructor:or,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=rr[t],o=rr[n],a=rr[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=j(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Gn("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=o(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=ir[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var ar=function(e,t){this.lexer=e,this.options=t};function sr(e,t){return void 0!==e?e:t}function ur(e,t){return void 0===e?t:void 0===t?e:e+t}function cr(e,t){return!e(t).$stateful}function lr(e,t){var n,r;switch(e.type){case ar.Program:n=!0,$(e.body,(function(e){lr(e.expression,t),n=n&&e.expression.constant})),e.constant=n;break;case ar.Literal:e.constant=!0,e.toWatch=[];break;case ar.UnaryExpression:lr(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case ar.BinaryExpression:lr(e.left,t),lr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case ar.LogicalExpression:lr(e.left,t),lr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case ar.ConditionalExpression:lr(e.test,t),lr(e.alternate,t),lr(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case ar.Identifier:e.constant=!1,e.toWatch=[e];break;case ar.MemberExpression:lr(e.object,t),e.computed&&lr(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case ar.CallExpression:n=!!e.filter&&cr(t,e.callee.name),r=[],$(e.arguments,(function(e){lr(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)})),e.constant=n,e.toWatch=e.filter&&cr(t,e.callee.name)?r:[e];break;case ar.AssignmentExpression:lr(e.left,t),lr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case ar.ArrayExpression:n=!0,r=[],$(e.elements,(function(e){lr(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)})),e.constant=n,e.toWatch=r;break;case ar.ObjectExpression:n=!0,r=[],$(e.properties,(function(e){lr(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)})),e.constant=n,e.toWatch=r;break;case ar.ThisExpression:e.constant=!1,e.toWatch=[]}}function dr(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length||n[0]!==t?n:void 0}}function pr(e){return e.type===ar.Identifier||e.type===ar.MemberExpression}function fr(e){if(1===e.body.length&&pr(e.body[0].expression))return{type:ar.AssignmentExpression,left:e.body[0].expression,right:{type:ar.NGValueParameter},operator:"="}}function hr(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===ar.Literal||e.body[0].expression.type===ar.ArrayExpression||e.body[0].expression.type===ar.ObjectExpression)}function vr(e){return e.constant}function mr(e,t){this.astBuilder=e,this.$filter=t}function gr(e,t){this.astBuilder=e,this.$filter=t}ar.Program="Program",ar.ExpressionStatement="ExpressionStatement",ar.AssignmentExpression="AssignmentExpression",ar.ConditionalExpression="ConditionalExpression",ar.LogicalExpression="LogicalExpression",ar.BinaryExpression="BinaryExpression",ar.UnaryExpression="UnaryExpression",ar.CallExpression="CallExpression",ar.MemberExpression="MemberExpression",ar.Identifier="Identifier",ar.Literal="Literal",ar.ArrayExpression="ArrayExpression",ar.Property="Property",ar.ObjectExpression="ObjectExpression",ar.ThisExpression="ThisExpression",ar.NGValueParameter="NGValueParameter",ar.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:ar.Program,body:e}},expressionStatement:function(){return{type:ar.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:ar.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:ar.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:ar.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:ar.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:ar.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:ar.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=re(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:ar.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:ar.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:ar.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:ar.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.expression())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:ar.Identifier,name:e.text}},constant:function(){return{type:ar.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ar.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:ar.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:ar.ObjectExpression,properties:t}},throwError:function(e,t){throw Gn("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Gn("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Gn("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},constants:{true:{type:ar.Literal,value:!0},false:{type:ar.Literal,value:!1},null:{type:ar.Literal,value:null},undefined:{type:ar.Literal,value:void 0},this:{type:ar.ThisExpression}}},mr.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},lr(r,n.$filter);var i,o="";if(this.stage="assign",i=fr(r)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),o="fn.assign="+this.generateFunction("assign","s,v,l")}var s=dr(r.body);n.stage="inputs",$(s,(function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t})),this.state.computing="fn",this.stage="main",this.recurse(r);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,Yn,Kn,tr,Xn,nr,sr,ur,e);return this.state=this.stage=void 0,c.literal=hr(r),c.constant=vr(r),c},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return $(t,(function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))})),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return $(this.state.filters,(function(n,r){e.push(n+"=$filter("+t.escape(r)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,o){var a,s,u,c,l=this;if(r=r||O,!o&&j(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case ar.Program:$(e.body,(function(t,n){l.recurse(t.expression,void 0,void 0,(function(e){s=e})),n!==e.body.length-1?l.current().body.push(s,";"):l.return_(s)}));break;case ar.Literal:c=this.escape(e.value),this.assign(t,c),r(c);break;case ar.UnaryExpression:this.recurse(e.argument,void 0,void 0,(function(e){s=e})),c=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),r(c);break;case ar.BinaryExpression:this.recurse(e.left,void 0,void 0,(function(e){a=e})),this.recurse(e.right,void 0,void 0,(function(e){s=e})),c="+"===e.operator?this.plus(a,s):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):"("+a+")"+e.operator+"("+s+")",this.assign(t,c),r(c);break;case ar.LogicalExpression:t=t||this.nextId(),l.recurse(e.left,t),l.if_("&&"===e.operator?t:l.not(t),l.lazyRecurse(e.right,t)),r(t);break;case ar.ConditionalExpression:t=t||this.nextId(),l.recurse(e.test,t),l.if_(t,l.lazyRecurse(e.alternate,t),l.lazyRecurse(e.consequent,t)),r(t);break;case ar.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===l.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),Yn(e.name),l.if_("inputs"===l.stage||l.not(l.getHasOwnProperty("l",e.name)),(function(){l.if_("inputs"===l.stage||"s",(function(){i&&1!==i&&l.if_(l.not(l.nonComputedMember("s",e.name)),l.lazyAssign(l.nonComputedMember("s",e.name),"{}")),l.assign(t,l.nonComputedMember("s",e.name))}))}),t&&l.lazyAssign(t,l.nonComputedMember("l",e.name))),(l.state.expensiveChecks||yr(e.name))&&l.addEnsureSafeObject(t),r(t);break;case ar.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),l.recurse(e.object,a,void 0,(function(){l.if_(l.notNull(a),(function(){i&&1!==i&&l.addEnsureSafeAssignContext(a),e.computed?(s=l.nextId(),l.recurse(e.property,s),l.getStringValue(s),l.addEnsureSafeMemberName(s),i&&1!==i&&l.if_(l.not(l.computedMember(a,s)),l.lazyAssign(l.computedMember(a,s),"{}")),c=l.ensureSafeObject(l.computedMember(a,s)),l.assign(t,c),n&&(n.computed=!0,n.name=s)):(Yn(e.property.name),i&&1!==i&&l.if_(l.not(l.nonComputedMember(a,e.property.name)),l.lazyAssign(l.nonComputedMember(a,e.property.name),"{}")),c=l.nonComputedMember(a,e.property.name),(l.state.expensiveChecks||yr(e.property.name))&&(c=l.ensureSafeObject(c)),l.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))}),(function(){l.assign(t,"undefined")})),r(t)}),!!i);break;case ar.CallExpression:t=t||this.nextId(),e.filter?(s=l.filter(e.callee.name),u=[],$(e.arguments,(function(e){var t=l.nextId();l.recurse(e,t),u.push(t)})),c=s+"("+u.join(",")+")",l.assign(t,c),r(t)):(s=l.nextId(),a={},u=[],l.recurse(e.callee,s,a,(function(){l.if_(l.notNull(s),(function(){l.addEnsureSafeFunction(s),$(e.arguments,(function(e){l.recurse(e,l.nextId(),void 0,(function(e){u.push(l.ensureSafeObject(e))}))})),a.name?(l.state.expensiveChecks||l.addEnsureSafeObject(a.context),c=l.member(a.context,a.name,a.computed)+"("+u.join(",")+")"):c=s+"("+u.join(",")+")",c=l.ensureSafeObject(c),l.assign(t,c)}),(function(){l.assign(t,"undefined")})),r(t)})));break;case ar.AssignmentExpression:if(s=this.nextId(),a={},!pr(e.left))throw Gn("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,a,(function(){l.if_(l.notNull(a.context),(function(){l.recurse(e.right,s),l.addEnsureSafeObject(l.member(a.context,a.name,a.computed)),l.addEnsureSafeAssignContext(a.context),c=l.member(a.context,a.name,a.computed)+e.operator+s,l.assign(t,c),r(t||c)}))}),1);break;case ar.ArrayExpression:u=[],$(e.elements,(function(e){l.recurse(e,l.nextId(),void 0,(function(e){u.push(e)}))})),c="["+u.join(",")+"]",this.assign(t,c),r(c);break;case ar.ObjectExpression:u=[],$(e.properties,(function(e){l.recurse(e.value,l.nextId(),void 0,(function(t){u.push(l.escape(e.key.type===ar.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),c="{"+u.join(",")+"}",this.assign(t,c),r(c);break;case ar.ThisExpression:this.assign(t,"s"),r("s");break;case ar.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(U(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(q(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Gn("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},gr.prototype={compile:function(e,t){var n,r,i=this,o=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,lr(o,i.$filter),(n=fr(o))&&(r=this.recurse(n));var a,s=dr(o.body);s&&(a=[],$(s,(function(e,t){var n=i.recurse(e);e.input=n,a.push(n),e.watchId=t})));var u=[];$(o.body,(function(e){u.push(i.recurse(e.expression))}));var c=0===o.body.length?function(){}:1===o.body.length?u[0]:function(e,t){var n;return $(u,(function(r){n=r(e,t)})),n};return r&&(c.assign=function(e,t,n){return r(e,n,t)}),a&&(c.inputs=a),c.literal=hr(o),c.constant=vr(o),c},recurse:function(e,t,n){var r,i,o,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case ar.Literal:return this.value(e.value,t);case ar.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case ar.BinaryExpression:case ar.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case ar.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case ar.Identifier:return Yn(e.name,a.expression),a.identifier(e.name,a.expensiveChecks||yr(e.name),t,n,a.expression);case ar.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(Yn(e.property.name,a.expression),i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n,a.expression):this.nonComputedMember(r,i,a.expensiveChecks,t,n,a.expression);case ar.CallExpression:return o=[],$(e.arguments,(function(e){o.push(a.recurse(e))})),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,a){for(var s=[],u=0;u<o.length;++u)s.push(o[u](e,n,r,a));var c=i.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,r,s){var u,c=i(e,n,r,s);if(null!=c.value){Kn(c.context,a.expression),tr(c.value,a.expression);for(var l=[],d=0;d<o.length;++d)l.push(Kn(o[d](e,n,r,s),a.expression));u=Kn(c.value.apply(c.context,l),a.expression)}return t?{value:u}:u};case ar.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,s){var u=r(e,n,o,s),c=i(e,n,o,s);return Kn(u.value,a.expression),nr(u.context),u.context[u.name]=c,t?{value:c}:c};case ar.ArrayExpression:return o=[],$(e.elements,(function(e){o.push(a.recurse(e))})),function(e,n,r,i){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,r,i));return t?{value:a}:a};case ar.ObjectExpression:return o=[],$(e.properties,(function(e){o.push({key:e.key.type===ar.Identifier?e.key.name:""+e.key.value,value:a.recurse(e.value)})})),function(e,n,r,i){for(var a={},s=0;s<o.length;++s)a[o[s].key]=o[s].value(e,n,r,i);return t?{value:a}:a};case ar.ThisExpression:return function(e){return t?{value:e}:e};case ar.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=j(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=j(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=ur(e(r,i,o,a),t(r,i,o,a));return n?{value:s}:s}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),u=t(r,i,o,a),c=(j(s)?s:0)-(j(u)?u:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var u=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,a,s,u){var c=a&&e in a?a:o;r&&1!==r&&c&&!c[e]&&(c[e]={});var l=c?c[e]:void 0;return t&&Kn(l,i),n?{context:c,name:e,value:l}:l}},computedMember:function(e,t,n,r,i){return function(o,a,s,u){var c,l,d=e(o,a,s,u);return null!=d&&(Yn(c=Xn(c=t(o,a,s,u)),i),r&&1!==r&&(nr(d),d&&!d[c]&&(d[c]={})),Kn(l=d[c],i)),n?{context:d,name:c,value:l}:l}},nonComputedMember:function(e,t,n,r,i,o){return function(a,s,u,c){var l=e(a,s,u,c);i&&1!==i&&(nr(l),l&&!l[t]&&(l[t]={}));var d=null!=l?l[t]:void 0;return(n||yr(t))&&Kn(d,o),r?{context:l,name:t,value:d}:d}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var br=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new ar(this.lexer),this.astCompiler=n.csp?new gr(this.ast,t):new mr(this.ast,t)};function yr(e){return"constructor"==e}br.prototype={constructor:br,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var wr=Object.prototype.valueOf;function $r(e){return V(e.valueOf)?e.valueOf():wr.call(e)}function _r(){var e=Ie(),t=Ie();this.$get=["$filter",function(n){var r=ae().noUnsafeEval,i={csp:r,expensiveChecks:!1},o={csp:r,expensiveChecks:!0},a=!1;return s.$$runningExpensiveChecks=function(){return a},s;function s(r,s,u){var h,v,m;switch(u=u||a,typeof r){case"string":r=r.trim();var g=u?t:e;if(!(h=g[m=r])){":"===r.charAt(0)&&":"===r.charAt(1)&&(v=!0,r=r.substring(2));var b=u?o:i,y=new or(b);(h=new br(y,n,b).parse(r)).constant?h.$$watchDelegate=p:v?h.$$watchDelegate=h.literal?d:l:h.inputs&&(h.$$watchDelegate=c),u&&(h=function e(t){if(!t)return t;r.$$watchDelegate=t.$$watchDelegate,r.assign=e(t.assign),r.constant=t.constant,r.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=e(t.inputs[n]);return r.inputs=t.inputs,r;function r(e,n,r,i){var o=a;a=!0;try{return t(e,n,r,i)}finally{a=o}}}(h)),g[m]=h}return f(h,s);case"function":return f(r,s);default:return f(O,s)}}function u(e,t){return null==e||null==t?e===t:("object"!=typeof e||"object"!=typeof(e=$r(e)))&&(e===t||e!=e&&t!=t)}function c(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var s=u;return a=a[0],e.$watch((function(e){var t=a(e);return u(t,s)||(o=r(e,void 0,void 0,[t]),s=t&&$r(t)),o}),t,n,i)}for(var c=[],l=[],d=0,p=a.length;d<p;d++)c[d]=u,l[d]=null;return e.$watch((function(e){for(var t=!1,n=0,i=a.length;n<i;n++){var s=a[n](e);(t||(t=!u(s,c[n])))&&(l[n]=s,c[n]=s&&$r(s))}return t&&(o=r(e,void 0,void 0,l)),o}),t,n,i)}function l(e,t,n,r){var i,o;return i=e.$watch((function(e){return r(e)}),(function(e,n,r){o=e,V(t)&&t.apply(this,arguments),j(e)&&r.$$postDigest((function(){j(o)&&i()}))}),n)}function d(e,t,n,r){var i,o;return i=e.$watch((function(e){return r(e)}),(function(e,n,r){o=e,V(t)&&t.call(this,e,n,r),a(e)&&r.$$postDigest((function(){a(o)&&i()}))}),n);function a(e){var t=!0;return $(e,(function(e){j(e)||(t=!1)})),t}}function p(e,t,n,r){var i;return i=e.$watch((function(e){return r(e)}),(function(e,n,r){V(t)&&t.apply(this,arguments),i()}),n)}function f(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==d&&n!==l?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return j(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==c?i.$$watchDelegate=e.$$watchDelegate:t.$stateful||(i.$$watchDelegate=c,r=!e.inputs,i.inputs=e.inputs?e.inputs:[e]),i}}]}function Cr(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return kr((function(t){e.$evalAsync(t)}),t)}]}function xr(){this.$get=["$browser","$exceptionHandler",function(e,t){return kr((function(t){e.defer(t)}),t)}]}function kr(e,t){var n=r("$q",TypeError);function i(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(n){!n.processScheduled&&n.pending&&(n.processScheduled=!0,e((function(){!function(e){var n,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=i.length;o<a;++o){r=i[o][0],n=i[o][e.status];try{V(n)?r.resolve(n(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(e){r.reject(e),t(e)}}}(n)})))}function s(){this.promise=new i,this.resolve=o(this,this.resolve),this.reject=o(this,this.reject),this.notify=o(this,this.notify)}E(i.prototype,{then:function(e,t,n){if(N(e)&&N(t)&&N(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&a(this.$$state),r.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return c(t,!0,e)}),(function(t){return c(t,!1,e)}),t)}}),E(s.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(n("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=function(e,t,n){var r=!1;function i(t){return function(n){r||(r=!0,t.call(e,n))}}return[i(t),i(n)]}(this,this.$$resolve,this.$$reject);try{(I(e)||V(e))&&(n=e&&e.then),V(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,a(this.promise.$$state))}catch(e){r[1](e),t(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e((function(){for(var e,i,o=0,a=r.length;o<a;o++){i=r[o][0],e=r[o][3];try{i.notify(V(e)?e(n):n)}catch(e){t(e)}}}))}});var u=function(e,t){var n=new s;return t?n.resolve(e):n.reject(e),n.promise},c=function(e,t,n){var r=null;try{V(n)&&(r=n())}catch(e){return u(e,!1)}return Y(r)?r.then((function(){return u(e,t)}),(function(e){return u(e,!1)})):u(e,t)},l=function(e,t,n,r){var i=new s;return i.resolve(e),i.promise.then(t,n,r)},d=l;var p=function e(t){if(!V(t))throw n("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof e))return new e(t);var r=new s;return t((function(e){r.resolve(e)}),(function(e){r.reject(e)})),r.promise};return p.defer=function(){return new s},p.reject=function(e){var t=new s;return t.reject(e),t.promise},p.when=l,p.resolve=d,p.all=function(e){var t=new s,n=0,r=J(e)?[]:{};return $(e,(function(e,i){n++,l(e).then((function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))}),(function(e){r.hasOwnProperty(i)||t.reject(e)}))})),0===n&&t.resolve(r),t.promise},p}function Sr(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function Er(){var e=10,t=r("$rootScope"),n=null,i=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,o,s,c){function l(e){e.currentScope.$$destroyed=!0}function d(){this.$id=x(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}d.prototype={constructor:d,$new:function(e,t){var n;return t=t||this,e?(n=new d).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=x(),this.$$ChildScope=null}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!=this)&&n.$on("$destroy",l),n},$watch:function(e,t,r,i){var o=s(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,r,o,e);var a=this,u=a.$$watchers,c={fn:t,last:_,get:o,exp:i||e,eq:!!r};return n=null,V(t)||(c.fn=O),u||(u=a.$$watchers=[]),u.unshift(c),b(this,1),function(){ne(u,c)>=0&&b(a,-1),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),r=new Array(e.length),i=[],o=this,a=!1,s=!0;if(!e.length){var u=!0;return o.$evalAsync((function(){u&&t(r,r,o)})),function(){u=!1}}if(1===e.length)return this.$watch(e[0],(function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)}));function c(){a=!1,s?(s=!1,t(r,r,o)):t(r,n,o)}return $(e,(function(e,t){var s=o.$watch(e,(function(e,i){r[t]=e,n[t]=i,a||(a=!0,o.$evalAsync(c))}));i.push(s)})),function(){for(;i.length;)i.shift()()}},$watchCollection:function(e,t){v.$stateful=!0;var n,r,i,o=this,u=t.length>1,c=0,l=s(e,v),d=[],p={},f=!0,h=0;function v(e){var t,i,o,s;if(!N(n=e)){if(I(n))if(w(n)){r!==d&&(h=(r=d).length=0,c++),t=n.length,h!==t&&(c++,r.length=h=t);for(var u=0;u<t;u++)s=r[u],o=n[u],s!=s&&o!=o||s===o||(c++,r[u]=o)}else{for(i in r!==p&&(r=p={},h=0,c++),t=0,n)a.call(n,i)&&(t++,o=n[i],s=r[i],i in r?s!=s&&o!=o||s===o||(c++,r[i]=o):(h++,r[i]=o,c++));if(h>t)for(i in c++,r)a.call(n,i)||(h--,delete r[i])}else r!==n&&(r=n,c++);return c}}return this.$watch(l,(function(){if(f?(f=!1,t(n,n,o)):t(n,i,o),u)if(I(n))if(w(n)){i=new Array(n.length);for(var e=0;e<n.length;e++)i[e]=n[e]}else for(var r in i={},n)a.call(n,r)&&(i[r]=n[r]);else i=n}))},$digest:function(){var r,a,s,u,l,d,v,b,y,w,$=e,x=[];m("$digest"),c.$$checkUrlChange(),this===p&&null!==i&&(c.defer.cancel(i),C()),n=null;do{for(d=!1,b=this;f.length;){try{(w=f.shift()).scope.$eval(w.expression,w.locals)}catch(e){o(e)}n=null}e:do{if(u=b.$$watchers)for(l=u.length;l--;)try{if(r=u[l])if((a=(0,r.get)(b))===(s=r.last)||(r.eq?oe(a,s):"number"==typeof a&&"number"==typeof s&&isNaN(a)&&isNaN(s))){if(r===n){d=!1;break e}}else d=!0,n=r,r.last=r.eq?re(a,null):a,(0,r.fn)(a,s===_?a:s,b),$<5&&(x[y=4-$]||(x[y]=[]),x[y].push({msg:V(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:a,oldVal:s}))}catch(e){o(e)}if(!(v=b.$$watchersCount&&b.$$childHead||b!==this&&b.$$nextSibling))for(;b!==this&&!(v=b.$$nextSibling);)b=b.$parent}while(b=v);if((d||f.length)&&!$--)throw g(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(d||f.length);for(g();h.length;)try{h.shift()()}catch(e){o(e)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===p&&c.$$applicationDestroyed(),b(this,-this.$$watchersCount),this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=O,this.$on=this.$watch=this.$watchGroup=function(){return O},this.$$listeners={},this.$$nextSibling=null,function e(t){9===u&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e,t){p.$$phase||f.length||c.defer((function(){f.length&&p.$digest()})),f.push({scope:this,expression:s(e),locals:t})},$$postDigest:function(e){h.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{g()}}catch(e){o(e)}finally{try{p.$digest()}catch(e){throw o(e),e}}},$applyAsync:function(e){var t=this;e&&v.push((function(){t.$eval(e)})),e=s(e),null===i&&(i=c.defer((function(){p.$apply(C)})))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e,t){var n,r,i,a=[],s=this,u=!1,c={name:e,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=ue([c],arguments,1);do{for(n=s.$$listeners[e]||a,c.currentScope=s,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,l)}catch(e){o(e)}else n.splice(r,1),r--,i--;if(u)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=n,i=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,u,c,l=ue([a],arguments,1);r=i;){for(a.currentScope=r,u=0,c=(s=r.$$listeners[e]||[]).length;u<c;u++)if(s[u])try{s[u].apply(null,l)}catch(e){o(e)}else s.splice(u,1),u--,c--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var p=new d,f=p.$$asyncQueue=[],h=p.$$postDigestQueue=[],v=p.$$applyAsyncQueue=[];return p;function m(e){if(p.$$phase)throw t("inprog","{0} already in progress",p.$$phase);p.$$phase=e}function g(){p.$$phase=null}function b(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function y(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function _(){}function C(){for(;v.length;)try{v.shift()()}catch(e){o(e)}i=null}}]}function Tr(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return j(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return j(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return""===(i=qr(n).href)||i.match(o)?n:"unsafe:"+i}}}var Dr=r("$sce"),Ar={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function Or(e){var t=[];return j(e)&&$(e,(function(e){t.push(function(e){if("self"===e)return e;if(U(e)){if(e.indexOf("***")>-1)throw Dr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Q(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(z(e))return new RegExp("^"+e.source+"$");throw Dr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Pr(){this.SCE_CONTEXTS=Ar;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Or(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Or(e)),t},this.$get=["$injector",function(n){var r=function(e){throw Dr("unsafe","Attempting to use an unsafe value in a safe context.")};function i(e,t){return"self"===e?Fr(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}n.has("$sanitize")&&(r=n.get("$sanitize"));var a=o(),s={};return s[Ar.HTML]=o(a),s[Ar.CSS]=o(a),s[Ar.URL]=o(a),s[Ar.JS]=o(a),s[Ar.RESOURCE_URL]=o(s[Ar.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw Dr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||N(t)||""===t)return t;if("string"!=typeof t)throw Dr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(n,o){if(null===o||N(o)||""===o)return o;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(n===Ar.RESOURCE_URL){if(function(n){var r,o,a=qr(n.toString()),s=!1;for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!1;break}return s}(o))return o;throw Dr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",o.toString())}if(n===Ar.HTML)return r(o);throw Dr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function Mr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&u<8)throw Dr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=ie(Ar);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=P),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,(function(t){return r.getTrusted(e,t)}))};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return $(Ar,(function(e,t){var n=o(t);r[Ye("parse_as_"+n)]=function(t){return i(e,t)},r[Ye("get_trusted_"+n)]=function(t){return a(e,t)},r[Ye("trust_as_"+n)]=function(t){return s(e,t)}})),r}]}function Rr(){this.$get=["$window","$document",function(e,t){var n,r,i={},a=D((/android (\d+)/.exec(o((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,d=c.body&&c.body.style,p=!1,f=!1;if(d){for(var h in d)if(r=l.exec(h)){n=(n=r[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in d&&"webkit"),p=!(!("transition"in d)&&!(n+"Transition"in d)),f=!(!("animation"in d)&&!(n+"Animation"in d)),!a||p&&f||(p=U(d.webkitTransition),f=U(d.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||a<4||s),hasEvent:function(e){if("input"===e&&u<=11)return!1;if(N(i[e])){var t=c.createElement("div");i[e]="on"+e in t}return i[e]},csp:ae(),vendorPrefix:n,transitions:p,animations:f,android:a}}]}Zt=r("$compile");function Nr(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(o,a){i.totalPendingRequests++,U(o)&&!N(e.get(o))||(o=r.getTrustedResourceUrl(o));var s=t.defaults&&t.defaults.transformResponse;J(s)?s=s.filter((function(e){return e!==wn})):s===wn&&(s=null);var u={cache:e,transformResponse:s};return t.get(o,u).finally((function(){i.totalPendingRequests--})).then((function(t){return e.put(o,t.data),t.data}),(function(e){if(!a)throw Zt("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return n.reject(e)}))}return i.totalPendingRequests=0,i}]}function jr(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={findBindings:function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return $(r,(function(e){var r=b.element(e).data("$binding");r&&$(r,(function(r){n?new RegExp("(^|\\s)"+Q(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!=r.indexOf(t)&&i.push(e)}))})),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return r}]}function Ir(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){var o={};function a(a,s,u){V(a)||(u=s,s=a,a=O);var c,l=ce(arguments,3),d=j(u)&&!u,p=(d?r:n).defer(),f=p.promise;return c=t.defer((function(){try{p.resolve(a.apply(null,l))}catch(e){p.reject(e),i(e)}finally{delete o[f.$$timeoutId]}d||e.$apply()}),s),f.$$timeoutId=c,o[c]=p,f}return a.cancel=function(e){return!(!e||!(e.$$timeoutId in o))&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},a}]}var Lr=t.createElement("a"),Ur=qr(e.location.href);function qr(e){var t=e;return u&&(Lr.setAttribute("href",t),t=Lr.href),Lr.setAttribute("href",t),{href:Lr.href,protocol:Lr.protocol?Lr.protocol.replace(/:$/,""):"",host:Lr.host,search:Lr.search?Lr.search.replace(/^\?/,""):"",hash:Lr.hash?Lr.hash.replace(/^#/,""):"",hostname:Lr.hostname,port:Lr.port,pathname:"/"===Lr.pathname.charAt(0)?Lr.pathname:"/"+Lr.pathname}}function Fr(e){var t=U(e)?qr(e):e;return t.protocol===Ur.protocol&&t.host===Ur.host}function Jr(){this.$get=M(e)}function Vr(e){var t=e[0]||{},n={},r="";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,a,s,u,c=t.cookie||"";if(c!==r)for(e=(r=c).split("; "),n={},a=0;a<e.length;a++)(s=(o=e[a]).indexOf("="))>0&&(u=i(o.substring(0,s)),N(n[u])&&(n[u]=i(o.substring(s+1))));return n}}function zr(){this.$get=Vr}function Hr(e){function t(n,r){if(I(n)){var i={};return $(n,(function(e,n){i[n]=t(n,e)})),i}return e.factory(n+"Filter",r)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",Yr),t("date",si),t("filter",Wr),t("json",ui),t("limitTo",di),t("lowercase",ci),t("number",Xr),t("orderBy",pi),t("uppercase",li)}function Wr(){return function(e,t,n){if(!w(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var i,a;switch(Gr(t)){case"function":i=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":i=function(e,t,n){var r=I(e)&&"$"in e;!0===t?t=oe:V(t)||(t=function(e,t){return!N(e)&&(null===e||null===t?e===t:!(I(t)||I(e)&&!R(e))&&(e=o(""+e),t=o(""+t),-1!==e.indexOf(t)))});return function(i){return r&&!I(i)?Br(i,e.$,t,!1):Br(i,e,t,n)}}(t,n,a);break;default:return e}return Array.prototype.filter.call(e,i)}}function Br(e,t,n,r,i){var o=Gr(e),a=Gr(t);if("string"===a&&"!"===t.charAt(0))return!Br(e,t.substring(1),n,r);if(J(e))return e.some((function(e){return Br(e,t,n,r)}));switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Br(e[s],t,n,!0))return!0;return!i&&Br(e,t,n,!1)}if("object"===a){for(s in t){var u=t[s];if(!V(u)&&!N(u)){var c="$"===s;if(!Br(c?e:e[s],u,n,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Gr(e){return null===e?"null":typeof e}Vr.$inject=["$document"],Hr.$inject=["$provide"];function Yr(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return N(n)&&(n=t.CURRENCY_SYM),N(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Kr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Xr(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Kr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Kr(e,t,n,r,i){if(!U(e)&&!q(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,u=Math.abs(e)+"",c="";if(a)c="";else{(function(e,t,n,r){var i=e.d,o=i.length-e.i,a=(t=N(t)?Math.min(Math.max(n,o),r):+t)+e.i,s=i[a];if(a>0)i.splice(a);else{e.i=1,i.length=a=t+1;for(var u=0;u<a;u++)i[u]=0}for(s>=5&&i[a-1]++;o<t;o++)i.push(0);var c=i.reduceRight((function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)}),0);c&&(i.unshift(c),e.i++)})(o=function(e){var t,n,r,i,o,a=0;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;"0"==e.charAt(r);r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;"0"==e.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{d:t,e:a,i:n}}(u),i,t.minFrac,t.maxFrac);var l=o.d,d=o.i,p=o.e,f=[];for(s=l.reduce((function(e,t){return e&&!t}),!0);d<0;)l.unshift(0),d++;d>0?f=l.splice(d,l.length):(f=l,l=[0]);var h=[];for(l.length>=t.lgSize&&h.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)h.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&h.unshift(l.join("")),c=h.join(n),f.length&&(c+=r+f.join("")),p&&(c+="e+"+p)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Zr(e,t,n){var r="";for(e<0&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Qr(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Zr(o,t,r)}}function ei(e,t){return function(n,r){var i=n["get"+e]();return r[s(t?"SHORT"+e:e)][i]}}function ti(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function ni(e){return function(t){var n,r=ti(t.getFullYear()),i=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+r;return Zr(1+Math.round(i/6048e5),e)}}function ri(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Yr.$inject=["$locale"],Xr.$inject=["$locale"];var ii={yyyy:Qr("FullYear",4),yy:Qr("FullYear",2,0,!0),y:Qr("FullYear",1),MMMM:ei("Month"),MMM:ei("Month",!0),MM:Qr("Month",2,1),M:Qr("Month",1,1),dd:Qr("Date",2),d:Qr("Date",1),HH:Qr("Hours",2),H:Qr("Hours",1),hh:Qr("Hours",2,-12),h:Qr("Hours",1,-12),mm:Qr("Minutes",2),m:Qr("Minutes",1),ss:Qr("Seconds",2),s:Qr("Seconds",1),sss:Qr("Milliseconds",3),EEEE:ei("Day"),EEE:ei("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Zr(Math[r>0?"floor":"ceil"](r/60),2)+Zr(Math.abs(r%60),2)},ww:ni(2),w:ni(1),G:ri,GG:ri,GGG:ri,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},oi=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ai=/^\-?\d+$/;function si(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,a,s="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,U(n)&&(n=ai.test(n)?D(n):function(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,o=0,a=n[8]?r.setUTCFullYear:r.setFullYear,s=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=D(n[9]+n[10]),o=D(n[9]+n[11])),a.call(r,D(n[1]),D(n[2])-1,D(n[3]));var u=D(n[4]||0)-i,c=D(n[5]||0)-o,l=D(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(r,u,c,l,d),r}return e}(n)),q(n)&&(n=new Date(n)),!F(n)||!isFinite(n.getTime()))return n;for(;r;)(a=oi.exec(r))?r=(u=ue(u,a,1)).pop():(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=ve(i,c),n=me(n,i,!0)),$(u,(function(t){s+=(o=ii[t])?o(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function ui(){return function(e,t){return N(t)&&(t=2),pe(e,t)}}si.$inject=["$locale"];var ci=M(o),li=M(s);function di(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):D(t),isNaN(t)?e:(q(e)&&(e=e.toString()),J(e)||U(e)?(n=(n=!n||isNaN(n)?0:D(n))<0?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function pi(e){return function(r,i,o){if(!w(r))return r;J(i)||(i=[i]),0===i.length&&(i=["+"]);var a=function(t,n){return n=n?-1:1,t.map((function(t){var r=1,i=P;if(V(t))i=t;else if(U(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t)).constant)){var o=i();i=function(e){return e[o]}}return{get:i,descending:r*n}}))}(i,o);a.push({get:function(){return{}},descending:o?-1:1});var s=Array.prototype.map.call(r,(function(e,n){return{value:e,predicateValues:a.map((function(r){return function(e,n){var r=typeof e;null===e?(r="string",e="null"):"string"===r?e=e.toLowerCase():"object"===r&&(e=function(e,n){if("function"==typeof e.valueOf&&t(e=e.valueOf()))return e;if(R(e)&&t(e=e.toString()))return e;return n}(e,n));return{value:e,type:r}}(r.get(e),n)}))}}));return s.sort((function(e,t){for(var r=0,i=0,o=a.length;i<o&&!(r=n(e.predicateValues[i],t.predicateValues[i])*a[i].descending);++i);return r})),r=s.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}}function fi(e){return V(e)&&(e={link:e}),e.restrict=e.restrict||"AC",M(e)}pi.$inject=["$parse"];var hi=M({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===v.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(n)||e.preventDefault()}))}}}}),vi={};$(_t,(function(e,t){if("multiple"!=e){var n=tn("ng-"+t),r=i;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[n]&&i(e,0,r)}),vi[n]=function(){return{restrict:"A",priority:100,link:r}}}function i(e,r,i){e.$watch(i[n],(function(e){i.$set(t,!!e)}))}})),$(xt,(function(e,t){vi[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var o=r.ngPattern.match(i);if(o)return void r.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(r[t],(function(e){r.$set(t,e)}))}}}})),$(["src","srcset","href"],(function(e){var t=tn("ng-"+e);vi[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===v.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,(function(t){t?(i.$set(a,t),u&&o&&r.prop(o,i[a])):"href"===e&&i.$set(a,null)}))}}}}));var mi={$addControl:O,$$renameControl:function(e,t){e.$name=t},$removeControl:O,$setValidity:O,$setDirty:O,$setPristine:O,$setSubmitted:O};function gi(e,t,n,r,i){var o=this,a=[];o.$error={},o.$$success={},o.$pending=void 0,o.$name=i(t.name||t.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=mi,o.$rollbackViewValue=function(){$(a,(function(e){e.$rollbackViewValue()}))},o.$commitViewValue=function(){$(a,(function(e){e.$commitViewValue()}))},o.$addControl=function(e){Re(e.$name,"input"),a.push(e),e.$name&&(o[e.$name]=e),e.$$parentForm=o},o.$$renameControl=function(e,t){var n=e.$name;o[n]===e&&delete o[n],o[t]=e,e.$name=t},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],$(o.$pending,(function(t,n){o.$setValidity(n,null,e)})),$(o.$error,(function(t,n){o.$setValidity(n,null,e)})),$(o.$$success,(function(t,n){o.$setValidity(n,null,e)})),ne(a,e),e.$$parentForm=mi},fo({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(ne(r,n),0===r.length&&delete e[t])},$animate:r}),o.$setDirty=function(){r.removeClass(e,oo),r.addClass(e,ao),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){r.setClass(e,oo,ao+" ng-submitted"),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,$(a,(function(e){e.$setPristine()}))},o.$setUntouched=function(){$(a,(function(e){e.$setUntouched()}))},o.$setSubmitted=function(){r.addClass(e,"ng-submitted"),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}gi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var bi=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:gi,compile:function(n,i){n.addClass(oo).addClass(io);var o=i.name?"name":!(!e||!i.ngForm)&&"ngForm";return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var u=function(t){e.$apply((function(){s.$commitViewValue(),s.$setSubmitted()})),t.preventDefault()};Ve(n[0],"submit",u),n.on("$destroy",(function(){t((function(){ze(n[0],"submit",u)}),0,!1)}))}(a[1]||s.$$parentForm).$addControl(s);var c=o?r(s.$name):O;o&&(c(e,s),i.$observe(o,(function(t){s.$name!==t&&(c(e,void 0),s.$$parentForm.$$renameControl(s,t),(c=r(s.$name))(e,s))}))),n.on("$destroy",(function(){s.$$parentForm.$removeControl(s),c(e,void 0),E(s,mi)}))}}}};function r(e){return""===e?n('this[""]').assign:n(e).assign||O}}]},yi=bi(),wi=bi(!0),$i=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,_i=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ci=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,xi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ki=/^(\d{4})-(\d{2})-(\d{2})$/,Si=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ei=/^(\d{4})-W(\d\d)$/,Ti=/^(\d{4})-(\d\d)$/,Di=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ai=Ie();$("date,datetime-local,month,time,week".split(","),(function(e){Ai[e]=!0}));var Oi={text:function(e,t,n,r,i,o){Mi(e,t,n,r,i,o),Pi(r)},date:Ni("date",ki,Ri(ki,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ni("datetimelocal",Si,Ri(Si,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ni("time",Di,Ri(Di,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ni("week",Ei,(function(e,t){if(F(e))return e;if(U(e)){Ei.lastIndex=0;var n=Ei.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=ti(r),l=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}),"yyyy-Www"),month:Ni("month",Ti,Ri(Ti,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o){if(ji(e,t,n,r),Mi(e,t,n,r,i,o),r.$$parserName="number",r.$parsers.push((function(e){return r.$isEmpty(e)?null:xi.test(e)?parseFloat(e):void 0})),r.$formatters.push((function(e){if(!r.$isEmpty(e)){if(!q(e))throw so("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})),j(n.min)||n.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||N(a)||e>=a},n.$observe("min",(function(e){j(e)&&!q(e)&&(e=parseFloat(e,10)),a=q(e)&&!isNaN(e)?e:void 0,r.$validate()}))}if(j(n.max)||n.ngMax){var s;r.$validators.max=function(e){return r.$isEmpty(e)||N(s)||e<=s},n.$observe("max",(function(e){j(e)&&!q(e)&&(e=parseFloat(e,10)),s=q(e)&&!isNaN(e)?e:void 0,r.$validate()}))}},url:function(e,t,n,r,i,o){Mi(e,t,n,r,i,o),Pi(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||_i.test(n)}},email:function(e,t,n,r,i,o){Mi(e,t,n,r,i,o),Pi(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ci.test(n)}},radio:function(e,t,n,r){N(n.name)&&t.attr("name",x());t.on("click",(function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)})),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r,i,o,a,s){var u=Ii(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Ii(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",(function(e){r.$setViewValue(t[0].checked,e&&e.type)})),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push((function(e){return oe(e,u)})),r.$parsers.push((function(e){return e?u:c}))},hidden:O,button:O,submit:O,reset:O,file:O};function Pi(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function Mi(e,t,n,r,i,a){var s,u=o(t[0].type);if(!i.android){var c=!1;t.on("compositionstart",(function(e){c=!0})),t.on("compositionend",(function(){c=!1,l()}))}var l=function(e){if(s&&(a.defer.cancel(s),s=null),!c){var i=t.val(),o=e&&e.type;"password"===u||n.ngTrim&&"false"===n.ngTrim||(i=Z(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,o)}};if(i.hasEvent("input"))t.on("input",l);else{var d=function(e,t,n){s||(s=a.defer((function(){s=null,t&&t.value===n||l(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||d(e,this,this.value)})),i.hasEvent("paste")&&t.on("paste cut",d)}t.on("change",l),Ai[u]&&r.$$hasNativeValidators&&u===n.type&&t.on("keydown wheel mousedown",(function(e){if(!s){var t=this.validity,n=t.badInput,r=t.typeMismatch;s=a.defer((function(){s=null,t.badInput===n&&t.typeMismatch===r||l(e)}))}})),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function Ri(e,t){return function(n,r){var i,o;if(F(n))return n;if(U(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),$i.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},$(i,(function(e,n){n<t.length&&(o[t[n]]=+e)})),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function Ni(e,t,n,r){return function(i,o,a,s,u,c,l){ji(i,o,a,s),Mi(0,o,a,s,u,c);var d,p,f,h=s&&s.$options&&s.$options.timezone;(s.$$parserName=e,s.$parsers.push((function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,d);return h&&(r=me(r,h)),r}})),s.$formatters.push((function(e){if(e&&!F(e))throw so("datefmt","Expected `{0}` to be a date",e);return v(e)?((d=e)&&h&&(d=me(d,h,!0)),l("date")(e,r,h)):(d=null,"")})),j(a.min)||a.ngMin)&&(s.$validators.min=function(e){return!v(e)||N(p)||n(e)>=p},a.$observe("min",(function(e){p=m(e),s.$validate()})));(j(a.max)||a.ngMax)&&(s.$validators.max=function(e){return!v(e)||N(f)||n(e)<=f},a.$observe("max",(function(e){f=m(e),s.$validate()})));function v(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function m(e){return j(e)&&!F(e)?n(e)||void 0:e}}}function ji(e,t,n,r){var i=t[0];(r.$$hasNativeValidators=I(i.validity))&&r.$parsers.push((function(e){var n=t.prop("validity")||{};return n.badInput&&!n.typeMismatch?void 0:e}))}function Ii(e,t,n,r,i){var o;if(j(r)){if(!(o=e(r)).constant)throw so("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}var Li=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,s,u){u[0]&&(Oi[o(s.type)]||Oi.text)(i,a,s,u[0],t,e,n,r)}}}}],Ui=/^(true|false|\d+)$/,qi=function(){return{restrict:"A",priority:100,compile:function(e,t){return Ui.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,(function(e){n.$set("value",e)}))}}}},Fi=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,(function(e){n.textContent=N(e)?"":e}))}}}}],Ji=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",(function(e){r.textContent=N(e)?"":e}))}}}}],Vi=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,(function(t){return e.valueOf(t)}));return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,(function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")}))}}}}],zi=M({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function Hi(e,t){return e="ngClass"+e,["$animate",function(n){return{restrict:"AC",link:function(o,a,s){var u;function c(e){var t=l(e,1);s.$addClass(t)}function l(e,t){var n=a.data("$classCounts")||Ie(),r=[];return $(e,(function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))})),a.data("$classCounts",n),r.join(" ")}function d(e){if(!0===t||o.$index%2===t){var s=i(e||[]);if(u){if(!oe(e,u)){!function(e,t){var i=r(t,e),o=r(e,t);i=l(i,1),o=l(o,-1),i&&i.length&&n.addClass(a,i),o&&o.length&&n.removeClass(a,o)}(i(u),s)}}else c(s)}u=J(e)?e.map((function(e){return ie(e)})):ie(e)}o.$watch(s[e],d,!0),s.$observe("class",(function(t){d(o.$eval(s[e]))})),"ngClass"!==e&&o.$watch("$index",(function(n,r){var a=1&n;if(a!==(1&r)){var u=i(o.$eval(s[e]));a===t?c(u):function(e){var t=l(e,-1);s.$removeClass(t)}(u)}}))}};function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){var t=[];return J(e)?($(e,(function(e){t=t.concat(i(e))})),t):U(e)?e.split(" "):I(e)?($(e,(function(e,n){e&&(t=t.concat(n.split(" ")))})),t):e}}]}var Wi=Hi("",!0),Bi=Hi("Odd",0),Gi=Hi("Even",1),Yi=fi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Xi=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ki={},Zi={blur:!0,focus:!0};$("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=tn("ng-"+e);Ki[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,(function(n){var i=function(){a(t,{$event:n})};Zi[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)}))}}}}]}));var Qi=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,(function(n){n?u||a((function(n,o){u=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)})):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=je(s.clone),e.leave(c).then((function(){c=null})),s=null))}))}}}],eo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var d,p,f,h=0,v=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then((function(){p=null})),p=f,f=null)};r.$watch(o,(function(o){var u=function(){!j(s)||s&&!r.$eval(s)||t()},p=++h;o?(e(o,!0).then((function(e){if(!r.$$destroyed&&p===h){var t=r.$new();c.template=e;var s=l(t,(function(e){v(),n.enter(e,null,i).then(u)}));f=s,(d=t).$emit("$includeContentLoaded",o),r.$eval(a)}}),(function(){r.$$destroyed||p===h&&(v(),r.$emit("$includeContentError",o))})),r.$emit("$includeContentRequested",o)):(v(),c.template=null)}))}}}}],to=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(/SVG/.test(r[0].toString()))return r.empty(),void e(rt(o.template,t).childNodes)(n,(function(e){r.append(e)}),{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],no=fi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ro=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=t.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,a=o?Z(i):i;r.$parsers.push((function(e){if(!N(e)){var t=[];return e&&$(e.split(a),(function(e){e&&t.push(o?Z(e):e)})),t}})),r.$formatters.push((function(e){if(J(e))return e.join(i)})),r.$isEmpty=function(e){return!e||!e.length}}}},io="ng-valid",oo="ng-pristine",ao="ng-dirty",so=r("ngModel"),uo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,r,i,o,a,s,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=mi;var l,d=i(n.ngModel),p=d.assign,f=d,h=p,v=null,m=this;this.$$setOptions=function(e){if(m.$options=e,e&&e.getterSetter){var t=i(n.ngModel+"()"),o=i(n.ngModel+"($$$p)");f=function(e){var n=d(e);return V(n)&&(n=t(e)),n},h=function(e,t){V(d(e))?o(e,{$$$p:m.$modelValue}):p(e,m.$modelValue)}}else if(!d.assign)throw so("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,ge(r))},this.$render=O,this.$isEmpty=function(e){return N(e)||""===e||null===e||e!=e};var g=0;fo({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:o}),this.$setPristine=function(){m.$dirty=!1,m.$pristine=!0,o.removeClass(r,ao),o.addClass(r,oo)},this.$setDirty=function(){m.$dirty=!0,m.$pristine=!1,o.removeClass(r,oo),o.addClass(r,ao),m.$$parentForm.$setDirty()},this.$setUntouched=function(){m.$touched=!1,m.$untouched=!0,o.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){m.$touched=!0,m.$untouched=!1,o.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){a.cancel(v),m.$viewValue=m.$$lastCommittedViewValue,m.$render()},this.$validate=function(){if(!q(m.$modelValue)||!isNaN(m.$modelValue)){var e=m.$$lastCommittedViewValue,t=m.$$rawModelValue,n=m.$valid,r=m.$modelValue,i=m.$options&&m.$options.allowInvalid;m.$$runValidators(t,e,(function(e){i||n===e||(m.$modelValue=e?t:void 0,m.$modelValue!==r&&m.$$writeModelToScope())}))}},this.$$runValidators=function(e,t,n){var r,i,o=++g;(function(){var e=m.$$parserName||"parse";if(!N(l))return l||($(m.$validators,(function(e,t){a(t,null)})),$(m.$asyncValidators,(function(e,t){a(t,null)}))),a(e,l),l;a(e,null);return!0})()?!function(){var n=!0;if($(m.$validators,(function(r,i){var o=r(e,t);n=n&&o,a(i,o)})),!n)return $(m.$asyncValidators,(function(e,t){a(t,null)})),!1;return!0}()?s(!1):(r=[],i=!0,$(m.$asyncValidators,(function(n,o){var s=n(e,t);if(!Y(s))throw so("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);a(o,void 0),r.push(s.then((function(){a(o,!0)}),(function(e){i=!1,a(o,!1)})))})),r.length?u.all(r).then((function(){s(i)}),O):s(!0)):s(!1);function a(e,t){o===g&&m.$setValidity(e,t)}function s(e){o===g&&n(e)}},this.$commitViewValue=function(){var e=m.$viewValue;a.cancel(v),(m.$$lastCommittedViewValue!==e||""===e&&m.$$hasNativeValidators)&&(m.$$lastCommittedViewValue=e,m.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=m.$$lastCommittedViewValue;if(l=!N(t)||void 0)for(var n=0;n<m.$parsers.length;n++)if(N(t=m.$parsers[n](t))){l=!1;break}q(m.$modelValue)&&isNaN(m.$modelValue)&&(m.$modelValue=f(e));var r=m.$modelValue,i=m.$options&&m.$options.allowInvalid;function o(){m.$modelValue!==r&&m.$$writeModelToScope()}m.$$rawModelValue=t,i&&(m.$modelValue=t,o()),m.$$runValidators(t,m.$$lastCommittedViewValue,(function(e){i||(m.$modelValue=e?t:void 0,o())}))},this.$$writeModelToScope=function(){h(e,m.$modelValue),$(m.$viewChangeListeners,(function(e){try{e()}catch(e){t(e)}}))},this.$setViewValue=function(e,t){m.$viewValue=e,m.$options&&!m.$options.updateOnDefault||m.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=m.$options;i&&j(i.debounce)&&(q(n=i.debounce)?r=n:q(n[t])?r=n[t]:q(n.default)&&(r=n.default)),a.cancel(v),r?v=a((function(){m.$commitViewValue()}),r):s.$$phase?m.$commitViewValue():e.$apply((function(){m.$commitViewValue()}))},e.$watch((function(){var t=f(e);if(t!==m.$modelValue&&(m.$modelValue==m.$modelValue||t==t)){m.$modelValue=m.$$rawModelValue=t,l=void 0;for(var n=m.$formatters,r=n.length,i=t;r--;)i=n[r](i);m.$viewValue!==i&&(m.$viewValue=m.$$lastCommittedViewValue=i,m.$render(),m.$$runValidators(t,i,O))}return t}))}],co=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:uo,priority:1,compile:function(t){return t.addClass(oo).addClass("ng-untouched").addClass(io),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",(function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)})),e.$on("$destroy",(function(){i.$$parentForm.$removeControl(i)}))},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,(function(e){o.$$debounceViewValueCommit(e&&e.type)})),n.on("blur",(function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))}))}}}}}],lo=/(\s+|^)default(\s+|$)/,po=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=re(e.$eval(t.ngModelOptions)),j(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Z(this.$options.updateOn.replace(lo,(function(){return n.$options.updateOnDefault=!0," "})))):this.$options.updateOnDefault=!0}]}};function fo(e){var t=e.ctrl,n=e.$element,r={},i=e.set,o=e.unset,a=e.$animate;function s(e,t){t&&!r[e]?(a.addClass(n,e),r[e]=!0):!t&&r[e]&&(a.removeClass(n,e),r[e]=!1)}function u(e,t){e=e?"-"+De(e,"-"):"",s(io+e,!0===t),s("ng-invalid"+e,!1===t)}r["ng-invalid"]=!(r[io]=n.hasClass(io)),t.$setValidity=function(e,n,r){N(n)?function(e,n,r){t[e]||(t[e]={});i(t[e],n,r)}("$pending",e,r):function(e,n,r){t[e]&&o(t[e],n,r);ho(t[e])&&(t[e]=void 0)}("$pending",e,r);G(n)?n?(o(t.$error,e,r),i(t.$$success,e,r)):(i(t.$error,e,r),o(t.$$success,e,r)):(o(t.$error,e,r),o(t.$$success,e,r));t.$pending?(s("ng-pending",!0),t.$valid=t.$invalid=void 0,u("",null)):(s("ng-pending",!1),t.$valid=ho(t.$error),t.$invalid=!t.$valid,u("",t.$valid));var a;a=t.$pending&&t.$pending[e]?void 0:!t.$error[e]&&(!!t.$$success[e]||null);u(e,a),t.$$parentForm.$setValidity(e,a,t)}}function ho(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var vo=fi({terminal:!0,priority:1e3}),mo=r("ngOptions"),go=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,bo=["$compile","$parse",function(e,n){var r=t.createElement("option"),i=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=O},post:function(t,a,s,u){var l=u[1];if(l){for(var d,p=u[0],f=s.multiple,h=0,v=a.children(),m=v.length;h<m;h++)if(""===v[h].value){d=v.eq(h);break}var g,y=!!d,_=c(r.cloneNode(!1));_.val("?");var C=function(e,t,r){var i=e.match(go);if(!i)throw mo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,ge(t));var o=i[5]||i[7],a=i[6],s=/ as /.test(i[0])&&i[1],u=i[9],c=n(i[2]?i[1]:o),l=s&&n(s)||c,d=u&&n(u),p=u?function(e,t){return d(r,t)}:function(e){return Dt(e)},f=function(e,t){return p(e,$(e,t))},h=n(i[2]||i[1]),v=n(i[3]||""),m=n(i[4]||""),g=n(i[8]),y={},$=a?function(e,t){return y[a]=t,y[o]=e,y}:function(e){return y[o]=e,y};function _(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function C(e){var t;if(!a&&w(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:u,getTrackByValue:f,getWatchables:n(g,(function(e){for(var t=[],n=C(e=e||[]),o=n.length,a=0;a<o;a++){var s=e===n?a:n[a],u=(e[s],$(e[s],s)),c=p(e[s],u);if(t.push(c),i[2]||i[1]){var l=h(r,u);t.push(l)}if(i[4]){var d=m(r,u);t.push(d)}}return t})),getOptions:function(){for(var e=[],t={},n=g(r)||[],i=C(n),o=i.length,a=0;a<o;a++){var s=n===i?a:i[a],c=n[s],d=$(c,s),y=l(r,d),w=p(y,d),x=new _(w,y,h(r,d),v(r,d),m(r,d));e.push(x),t[w]=x}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return u?b.copy(e.viewValue):e.viewValue}}}}}(s.ngOptions,a,t),x=function(){y||d.remove()},k=function(){_.remove()};f?(l.$isEmpty=function(e){return!e||0===e.length},p.writeValue=function(e){g.items.forEach((function(e){e.element.selected=!1})),e&&e.forEach((function(e){var t=g.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)}))},p.readValue=function(){var e=a.val()||[],t=[];return $(e,(function(e){var n=g.selectValueMap[e];n&&!n.disabled&&t.push(g.getViewValueFromOption(n))})),t},C.trackBy&&t.$watchCollection((function(){if(J(l.$viewValue))return l.$viewValue.map((function(e){return C.getTrackByValue(e)}))}),(function(){l.$render()}))):(p.writeValue=function(e){var t=g.getOptionFromViewValue(e);t&&!t.disabled?(a[0].value!==t.selectValue&&(k(),x(),a[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||y?(k(),y||a.prepend(d),a.val(""),d.prop("selected",!0),d.attr("selected",!0)):(x(),a.prepend(_),a.val("?"),_.prop("selected",!0),_.attr("selected",!0))},p.readValue=function(){var e=g.selectValueMap[a.val()];return e&&!e.disabled?(x(),k(),g.getViewValueFromOption(e)):null},C.trackBy&&t.$watch((function(){return C.getTrackByValue(l.$viewValue)}),(function(){l.$render()}))),y?(d.remove(),e(d)(t),d.removeClass("ng-scope")):d=c(r.cloneNode(!1)),D(),t.$watchCollection(C.getWatchables,D)}function S(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function E(e,t,n,r){var i;return t&&o(t.nodeName)===n?i=t:(i=r.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function T(e){for(var t;e;)t=e.nextSibling,wt(e),e=t}function D(){var e=g&&p.readValue();g=C.getOptions();var t={},n=a[0].firstChild;if(y&&a.prepend(d),n=function(e){var t=d&&d[0],n=_&&_[0];if(t||n)for(;e&&(e===t||e===n||8===e.nodeType||"option"===te(e)&&""===e.value);)e=e.nextSibling;return e}(n),g.items.forEach((function(e){var o,s,u;e.group?((o=t[e.group])||(s=E(a[0],n,"optgroup",i),n=s.nextSibling,s.label=e.group,o=t[e.group]={groupElement:s,currentOptionElement:s.firstChild}),S(e,u=E(o.groupElement,o.currentOptionElement,"option",r)),o.currentOptionElement=u.nextSibling):(S(e,u=E(a[0],n,"option",r)),n=u.nextSibling)})),Object.keys(t).forEach((function(e){T(t[e].currentOptionElement)})),T(n),l.$render(),!l.$isEmpty(e)){var o=p.readValue();(C.trackBy||f?oe(e,o):e===o)||(l.$setViewValue(o),l.$render())}}}}}}],yo=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,u){var c,l=u.count,d=u.$attr.when&&s.attr(u.$attr.when),p=u.offset||0,f=a.$eval(d)||{},h={},v=t.startSymbol(),m=t.endSymbol(),g=v+l+"-"+p+m,y=b.noop;function w(e){s.text(e||"")}$(u,(function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+o(n[2]);f[r]=s.attr(u.$attr[t])}})),$(f,(function(e,n){h[n]=t(e.replace(r,g))})),a.$watch(l,(function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in f||(r=e.pluralCat(r-p)),r!==c&&!(i&&q(c)&&isNaN(c))){y();var o=h[r];N(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+d),y=O,w()):y=a.$watch(o,w),c=r}}))}}}],wo=["$parse","$animate",function(e,n){var i=r("ngRepeat"),o=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},s=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,c){var l=c.ngRepeat,d=t.createComment(" end ngRepeat: "+l+" "),p=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",l);var f=p[1],h=p[2],v=p[3],m=p[4];if(!(p=f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",f);var g,b,y,_,C=p[3]||p[1],x=p[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var k={$id:Dt};return m?g=e(m):(y=function(e,t){return Dt(t)},_=function(e){return e}),function(e,t,r,c,p){g&&(b=function(t,n,r){return x&&(k[x]=t),k[C]=n,k.$index=r,g(e,k)});var f=Ie();e.$watchCollection(h,(function(r){var c,h,m,g,k,S,E,T,D,A,O,P,M=t[0],R=Ie();if(v&&(e[v]=r),w(r))D=r,T=b||y;else for(var N in T=b||_,D=[],r)a.call(r,N)&&"$"!==N.charAt(0)&&D.push(N);for(g=D.length,O=new Array(g),c=0;c<g;c++)if(k=r===D?c:D[c],S=r[k],E=T(k,S,c),f[E])A=f[E],delete f[E],R[E]=A,O[c]=A;else{if(R[E])throw $(O,(function(e){e&&e.scope&&(f[e.id]=e)})),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",l,E,S);O[c]={id:E,scope:void 0,clone:void 0},R[E]=!0}for(var j in f){if(P=je((A=f[j]).clone),n.leave(P),P[0].parentNode)for(c=0,h=P.length;c<h;c++)P[c].$$NG_REMOVED=!0;A.scope.$destroy()}for(c=0;c<g;c++)if(k=r===D?c:D[c],S=r[k],(A=O[c]).scope){m=M;do{m=m.nextSibling}while(m&&m.$$NG_REMOVED);s(A)!=m&&n.move(je(A.clone),null,M),M=u(A),o(A.scope,c,C,S,x,k,g)}else p((function(e,t){A.scope=t;var r=d.cloneNode(!1);e[e.length++]=r,n.enter(e,null,M),M=r,A.clone=e,R[A.id]=A,o(A.scope,c,C,S,x,k,g)}));f=R}))}}}}],$o=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,(function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})}))}}}],_o=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,(function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})}))}}}],Co=fi((function(e,t,n){e.$watch(n.ngStyle,(function(e,n){n&&e!==n&&$(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}),!0)})),xo=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var a=i.ngSwitch||i.on,s=[],u=[],c=[],l=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(a,(function(n){var r,i;for(r=0,i=c.length;r<i;++r)e.cancel(c[r]);for(c.length=0,r=0,i=l.length;r<i;++r){var a=je(u[r].clone);l[r].$destroy(),(c[r]=e.leave(a)).then(d(c,r))}u.length=0,l.length=0,(s=o.cases["!"+n]||o.cases["?"])&&$(s,(function(n){n.transclude((function(r,i){l.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};u.push(a),e.enter(r,o.parent(),o)}))}))}))}}}],ko=fi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),So=fi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Eo=fi({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ge(t));o((function(e){t.empty(),t.append(e)}))}}),To=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Do={$setViewValue:O,$render:O};var Ao=["$element","$scope","$attrs",function(e,n,r){var i=this,o=new At;i.ngModelCtrl=Do,i.unknownOption=c(t.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Dt(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},n.$on("$destroy",(function(){i.renderUnknownOption=O})),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(e,t){if(8!==t[0].nodeType){Re(e,'"option value"'),""===e&&(i.emptyOption=t);var n,r=o.get(e)||0;o.put(e,r+1),i.ngModelCtrl.$render(),(n=t)[0].hasAttribute("selected")&&(n[0].selected=!0)}},i.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.remove(e),""===e&&(i.emptyOption=void 0)):o.put(e,t-1))},i.hasOption=function(e){return!!o.get(e)},i.registerOption=function(e,t,n,r,o){var a;r?n.$observe("value",(function(e){j(a)&&i.removeOption(a),a=e,i.addOption(e,t)})):o?e.$watch(o,(function(e,r){n.$set("value",e),r!==e&&i.removeOption(r),i.addOption(e,t)})):i.addOption(n.value,t);t.on("$destroy",(function(){i.removeOption(n.value),i.ngModelCtrl.$render()}))}}],Oo=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ao,priority:1,link:{pre:function(e,t,n,r){var i=r[1];if(!i)return;var o=r[0];if(o.ngModelCtrl=i,t.on("change",(function(){e.$apply((function(){i.$setViewValue(o.readValue())}))})),n.multiple){o.readValue=function(){var e=[];return $(t.find("option"),(function(t){t.selected&&e.push(t.value)})),e},o.writeValue=function(e){var n=new At(e);$(t.find("option"),(function(e){e.selected=j(n.get(e.value))}))};var a,s=NaN;e.$watch((function(){s!==i.$viewValue||oe(a,i.$viewValue)||(a=ie(i.$viewValue),i.$render()),s=i.$viewValue})),i.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,r){var i=r[1];if(!i)return;var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}},Po=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(j(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o=t.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(e,t,n,r,i)}}}}],Mo=M({restrict:"E",terminal:!1}),Ro=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",(function(){r.$validate()})))}}},No=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o,a=n.ngPattern||n.pattern;n.$observe("pattern",(function(e){if(U(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,ge(t));o=e||void 0,i.$validate()})),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||N(o)||o.test(t)}}}}},jo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",(function(e){var t=D(e);i=isNaN(t)?-1:t,r.$validate()})),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},Io=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",(function(e){i=D(e)||0,r.$validate()})),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var t;if(!Oe){var n=se();(l=N(n)?e.jQuery:n?e[n]:void 0)&&l.fn.on?(c=l,E(l.fn,{scope:$t.scope,isolateScope:$t.isolateScope,controller:$t.controller,injector:$t.injector,inheritedData:$t.inheritedData}),t=l.cleanData,l.cleanData=function(e){var n;if(Ae)Ae=!1;else for(var r,i=0;null!=(r=e[i]);i++)(n=l._data(r,"events"))&&n.$destroy&&l(r).triggerHandler("$destroy");t(e)}):c=at,b.element=c,Oe=!0}}(),function(t){E(t,{bootstrap:ke,copy:re,extend:E,merge:T,equals:oe,element:c,forEach:$,injector:It,noop:O,bind:le,toJson:pe,fromJson:fe,identity:P,isUndefined:N,isDefined:j,isString:U,isFunction:V,isObject:I,isNumber:q,isElement:ee,isArray:J,version:qe,isDate:F,lowercase:o,uppercase:s,callbacks:{counter:0},getTestability:Ee,$$minErr:r,$$csp:ae,reloadWithDebugInfo:Se}),(d=function(e){var t=r("$injector"),n=r("ng");function i(e,t,n){return e[t]||(e[t]=n())}var o=i(e,"angular",Object);return o.$$minErr=o.$$minErr||r,i(o,"module",(function(){var e={};return function(r,o,a){return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)}(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),i(e,r,(function(){if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],n=[],i=[],s=c("$injector","invoke","push",n),u={_invokeQueue:e,_configBlocks:n,_runBlocks:i,requires:o,name:r,provider:l("$provide","provider"),factory:l("$provide","factory"),service:l("$provide","service"),value:c("$provide","value"),constant:c("$provide","constant","unshift"),decorator:l("$provide","decorator"),animation:l("$animateProvider","register"),filter:l("$filterProvider","register"),controller:l("$controllerProvider","register"),directive:l("$compileProvider","directive"),config:s,run:function(e){return i.push(e),this}};return a&&s(a),u;function c(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),u}}function l(t,n){return function(i,o){return o&&V(o)&&(o.$$moduleName=r),e.push([t,n,arguments]),u}}}))}}))}(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Tr}),e.provider("$compile",Qt).directive({a:hi,input:Li,textarea:Li,form:yi,script:To,select:Oo,style:Mo,option:Po,ngBind:Fi,ngBindHtml:Vi,ngBindTemplate:Ji,ngClass:Wi,ngClassEven:Gi,ngClassOdd:Bi,ngCloak:Yi,ngController:Xi,ngForm:wi,ngHide:_o,ngIf:Qi,ngInclude:eo,ngInit:no,ngNonBindable:vo,ngPluralize:yo,ngRepeat:wo,ngShow:$o,ngStyle:Co,ngSwitch:xo,ngSwitchWhen:ko,ngSwitchDefault:So,ngOptions:bo,ngTransclude:Eo,ngModel:co,ngList:ro,ngChange:zi,pattern:No,ngPattern:No,required:Ro,ngRequired:Ro,minlength:Io,ngMinlength:Io,maxlength:jo,ngMaxlength:jo,ngValue:qi,ngModelOptions:po}).directive({ngInclude:to}).directive(vi).directive(Ki),e.provider({$anchorScroll:Lt,$animate:zt,$animateCss:Bt,$$animateJs:Jt,$$animateQueue:Vt,$$AnimateRunner:Wt,$$animateAsyncRun:Ht,$browser:Yt,$cacheFactory:Xt,$controller:sn,$document:un,$exceptionHandler:cn,$filter:Hr,$$forceReflow:ln,$interpolate:Dn,$interval:An,$http:kn,$httpParamSerializer:bn,$httpParamSerializerJQLike:yn,$httpBackend:En,$xhrFactory:Sn,$location:Wn,$log:Bn,$parse:_r,$rootScope:Er,$q:Cr,$$q:xr,$sce:Mr,$sceDelegate:Pr,$sniffer:Rr,$templateCache:Kt,$templateRequest:Nr,$$testability:jr,$timeout:Ir,$window:Jr,$$rAF:Sr,$$jqLite:Tt,$$HashMap:Ot,$$cookieReader:zr})}])}(b),b.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,r){var i=0|e,o=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var r=Math.pow(10,n);return{v:n,f:(e*r|0)%r}}(e,r);return 1==i&&0==o.v?t:n}})}]),c(t).ready((function(){xe(t,ke)})))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),
/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";var r,i,o,a,s=t.noop,u=t.copy,c=t.extend,l=t.element,d=t.forEach,p=t.isArray,f=t.isString,h=t.isObject,v=t.isUndefined,m=t.isDefined,g=t.isFunction,b=t.isElement;v(e.ontransitionend)&&m(e.onwebkittransitionend)?("-webkit-",r="WebkitTransition",i="webkitTransitionEnd transitionend"):(r="transition",i="transitionend"),v(e.onanimationend)&&m(e.onwebkitanimationend)?("-webkit-",o="WebkitAnimation",a="webkitAnimationEnd animationend"):(o="animation",a="animationend");var y=o+"Delay",w=o+"Duration",$=r+"Delay",_=r+"Duration",C=t.$$minErr("ng");function x(e,t,n){if(!e)throw C("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function k(e,t){return e||t?e?t?(p(e)&&(e=e.join(" ")),p(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function S(e,t,n){var r="";return e=p(e)?e:e&&f(e)&&e.length?e.split(/\s+/):[],d(e,(function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)})),r}function E(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1==n.nodeType)return n}}function T(e){return function(t,n){n.addClass&&(!function(e,t,n){d(t,(function(t){e.addClass(t,n)}))}(e,t,n.addClass),n.addClass=null),n.removeClass&&(!function(e,t,n){d(t,(function(t){e.removeClass(t,n)}))}(e,t,n.removeClass),n.removeClass=null)}}function D(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||s;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=s},e.$$prepared=!0}return e}function A(e,t){O(e,t),P(e,t)}function O(e,t){t.from&&(e.css(t.from),t.from=null)}function P(e,t){t.to&&(e.css(t.to),t.to=null)}function M(e,t,n){var r=t.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),a=(r.removeClass||"")+" "+(i.removeClass||""),u=function(e,t,n){var r={};e=o(e),t=o(t),d(t,(function(e,t){r[t]=1})),n=o(n),d(n,(function(e,t){r[t]=1===r[t]?null:-1}));var i={addClass:"",removeClass:""};function o(e){f(e)&&(e=e.split(" "));var t={};return d(e,(function(e){e.length&&(t[e]=!0)})),t}return d(r,(function(t,n){var r,o;1===t?(r="addClass",o=!e[n]):-1===t&&(r="removeClass",o=e[n]),o&&(i[r].length&&(i[r]+=" "),i[r]+=n)})),i}(e.attr("class"),o,a);i.preparationClasses&&(r.preparationClasses=L(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==s?r.domOperation:null;return c(r,i),l&&(r.domOperation=l),u.addClass?r.addClass=u.addClass:r.addClass=null,u.removeClass?r.removeClass=u.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function R(e){return e instanceof t.element?e[0]:e}function N(e,t){var n=t?"-"+t+"s":"";return I(e,[$,n]),[$,n]}function j(e,t){var n=t?"paused":"",r=o+"PlayState";return I(e,[r,n]),[r,n]}function I(e,t){var n=t[0],r=t[1];e.style[n]=r}function L(e,t){return e?t?e+" "+t:e:t}var U=["$interpolate",function(e){return{link:function(n,r,i){var o=i.ngAnimateChildren;function a(e){e="on"===e||"true"===e,r.data("$$ngAnimateChildren",e)}t.isString(o)&&0===o.length?r.data("$$ngAnimateChildren",!0):(a(e(o)(n)),i.$observe("ngAnimateChildren",a))}}}],q={transitionDuration:_,transitionDelay:$,transitionProperty:r+"Property",animationDuration:w,animationDelay:y,animationIterationCount:o+"IterationCount"},F={transitionDuration:_,transitionDelay:$,animationDuration:w,animationDelay:y};function J(e,t){return[t?y:$,e+"s"]}function V(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return d(n,(function(e,t){var n,o,a=i[e];if(a){var s=a.charAt(0);("-"===s||"+"===s||s>=0)&&(n=0,o=a.split(/\s*,\s*/),d(o,(function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e})),a=n),0===a&&(a=null),r[t]=a}})),r}function z(e){return 0===e||null!=e}function H(e,t){var n=r,i=e+"s";return t?n+="Duration":i+=" linear all",[n,i]}function W(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function B(e,t,n){d(n,(function(n){e[n]=m(e[n])?e[n]:t.style.getPropertyValue(n)}))}var G=["$animateProvider",function(e){var t=W(),n=W();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,c,l,f,h,v,m,g){var b=T(c),y=0;function $(e,t){var n="$$ngAnimateParentKey",r=e.parentNode;return(r[n]||(r[n]=++y))+"-"+e.getAttribute("class")+"-"+t}var _=[];function C(e){_.push(e),m.waitUntilQuiet((function(){t.flush(),n.flush();for(var e=h(),r=0;r<_.length;r++)_[r](e);_.length=0}))}function x(n,r,i){var o=function(n,r,i,o){var a=t.get(i);return a||"infinite"===(a=V(e,n,o)).animationIterationCount&&(a.animationIterationCount=1),t.put(i,a),a}(n,0,i,q),a=o.animationDelay,s=o.transitionDelay;return o.maxDelay=a&&s?Math.max(a,s):a||s,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}return function(h,m){var y=m||{};y.$$prepared||(y=D(u(y)));var _={},k=R(h);if(!k||!k.parentNode||!g.enabled())return ke();var E,T,M,L,U,q,W,G,Y,X,K=[],Z=h.attr("class"),Q=function(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}(y),ee=[];if(0===y.duration||!v.animations&&!v.transitions)return ke();var te=y.event&&p(y.event)?y.event.join(" "):y.event,ne="",re="";te&&y.structural?ne=S(te,"ng-",!0):te&&(ne=te),y.addClass&&(re+=S(y.addClass,"-add")),y.removeClass&&(re.length&&(re+=" "),re+=S(y.removeClass,"-remove")),y.applyClassesEarly&&re.length&&b(h,y);var ie,oe,ae,se=[ne,re].join(" ").trim(),ue=Z+" "+se,ce=S(se,"-active"),le=Q.to&&Object.keys(Q.to).length>0;if(!((y.keyframeStyle||"").length>0)&&!le&&!se)return ke();if(y.stagger>0){var de=parseFloat(y.stagger);oe={transitionDelay:de,animationDelay:de,transitionDuration:0,animationDuration:0}}else ie=$(k,ue),oe=function(r,i,o,a){var s;if(t.count(o)>0&&!(s=n.get(o))){var u=S(i,"-stagger");c.addClass(r,u),(s=V(e,r,a)).animationDuration=Math.max(s.animationDuration,0),s.transitionDuration=Math.max(s.transitionDuration,0),c.removeClass(r,u),n.put(o,s)}return s||{}}(k,se,ie,F);if(y.$$skipPreparationClasses||c.addClass(h,se),y.transitionStyle){var pe=[r,y.transitionStyle];I(k,pe),K.push(pe)}if(y.duration>=0){ae=k.style[r].length>0;var fe=H(y.duration,ae);I(k,fe),K.push(fe)}if(y.keyframeStyle){var he=[o,y.keyframeStyle];I(k,he),K.push(he)}var ve=oe?y.staggerIndex>=0?y.staggerIndex:t.count(ie):0,me=0===ve;me&&!y.skipBlocking&&N(k,9999);var ge=x(k,0,ie),be=ge.maxDelay;q=Math.max(be,0),G=ge.maxDuration;var ye,we={};if(we.hasTransitions=ge.transitionDuration>0,we.hasAnimations=ge.animationDuration>0,we.hasTransitionAll=we.hasTransitions&&"all"==ge.transitionProperty,we.applyTransitionDuration=le&&(we.hasTransitions&&!we.hasTransitionAll||we.hasAnimations&&!we.hasTransitions),we.applyAnimationDuration=y.duration&&we.hasAnimations,we.applyTransitionDelay=z(y.delay)&&(we.applyTransitionDuration||we.hasTransitions),we.applyAnimationDelay=z(y.delay)&&we.hasAnimations,we.recalculateTimingStyles=re.length>0,(we.applyTransitionDuration||we.applyAnimationDuration)&&(G=y.duration?parseFloat(y.duration):G,we.applyTransitionDuration&&(we.hasTransitions=!0,ge.transitionDuration=G,ae=k.style[r+"Property"].length>0,K.push(H(G,ae))),we.applyAnimationDuration&&(we.hasAnimations=!0,ge.animationDuration=G,K.push([w,G+"s"]))),0===G&&!we.recalculateTimingStyles)return ke();null!=y.delay&&("boolean"!=typeof y.delay&&(ye=parseFloat(y.delay),q=Math.max(ye,0)),we.applyTransitionDelay&&K.push(J(ye)),we.applyAnimationDelay&&K.push(J(ye,!0)));return null==y.duration&&ge.transitionDuration>0&&(we.recalculateTimingStyles=we.recalculateTimingStyles||me),W=1e3*q,Y=1e3*G,y.skipBlocking||(we.blockTransition=ge.transitionDuration>0,we.blockKeyframeAnimation=ge.animationDuration>0&&oe.animationDelay>0&&0===oe.animationDuration),y.from&&(y.cleanupStyles&&B(_,k,Object.keys(y.from)),O(h,y)),we.blockTransition||we.blockKeyframeAnimation?xe(G):y.skipBlocking||N(k,!1),{$$willAnimate:!0,end:$e,start:function(){if(!E)return L=new l(U={end:$e,cancel:_e,resume:null,pause:null}),C(Ee),L}};function $e(){Ce()}function _e(){Ce(!0)}function Ce(e){if(!(E||M&&T)){E=!0,T=!1,y.$$skipPreparationClasses||c.removeClass(h,se),c.removeClass(h,ce),j(k,!1),N(k,!1),d(K,(function(e){k.style[e[0]]=""})),b(h,y),A(h,y),Object.keys(_).length&&d(_,(function(e,t){e?k.style.setProperty(t,e):k.style.removeProperty(t)})),y.onDone&&y.onDone(),ee&&ee.length&&h.off(ee.join(" "),Se);var t=h.data("$$animateCss");t&&(f.cancel(t[0].timer),h.removeData("$$animateCss")),L&&L.complete(!e)}}function xe(e){we.blockTransition&&N(k,e),we.blockKeyframeAnimation&&j(k,!!e)}function ke(){return L=new l({end:$e,cancel:_e}),C(s),Ce(),{$$willAnimate:!1,start:function(){return L},end:$e}}function Se(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-X,0)>=W&&r>=G&&(M=!0,Ce())}function Ee(){if(!E)if(k.parentNode){var e=function(e){if(M)T&&e&&(T=!1,Ce());else if(T=!e,ge.animationDuration){var t=j(k,T);T?K.push(t):(r=t,i=(n=K).indexOf(r),r>=0&&n.splice(i,1))}var n,r,i},t=ve>0&&(ge.transitionDuration&&0===oe.transitionDuration||ge.animationDuration&&0===oe.animationDuration)&&Math.max(oe.animationDelay,oe.transitionDelay);t?f(n,Math.floor(t*ve*1e3),!1):n(),U.resume=function(){e(!0)},U.pause=function(){e(!1)}}else Ce();function n(){if(!E){if(xe(!1),d(K,(function(e){var t=e[0],n=e[1];k.style[t]=n})),b(h,y),c.addClass(h,ce),we.recalculateTimingStyles){if(ue=k.className+" "+se,ie=$(k,ue),ge=x(k,0,ie),be=ge.maxDelay,q=Math.max(be,0),0===(G=ge.maxDuration))return void Ce();we.hasTransitions=ge.transitionDuration>0,we.hasAnimations=ge.animationDuration>0}if(we.applyAnimationDelay&&(be="boolean"!=typeof y.delay&&z(y.delay)?parseFloat(y.delay):be,q=Math.max(be,0),ge.animationDelay=be,ye=J(be,!0),K.push(ye),k.style[ye[0]]=ye[1]),W=1e3*q,Y=1e3*G,y.easing){var e,t=y.easing;we.hasTransitions&&(e=r+"TimingFunction",K.push([e,t]),k.style[e]=t),we.hasAnimations&&(e=o+"TimingFunction",K.push([e,t]),k.style[e]=t)}ge.transitionDuration&&ee.push(i),ge.animationDuration&&ee.push(a),X=Date.now();var n=W+1.5*Y,u=X+n,l=h.data("$$animateCss")||[],p=!0;if(l.length){var v=l[0];(p=u>v.expectedEndTime)?f.cancel(v.timer):l.push(Ce)}if(p){var m=f(s,n,!1);l[0]={timer:m,expectedEndTime:u},l.push(Ce),h.data("$$animateCss",l)}ee.length&&h.on(ee.join(" "),Se),y.to&&(y.cleanupStyles&&B(_,k,Object.keys(y.to)),P(h,y))}}function s(){var e=h.data("$$animateCss");if(e){for(var t=1;t<e.length;t++)e[t]();h.removeData("$$animateCss")}}}}}]}],Y=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,t,n,r,i,o,a){if(!i.animations&&!i.transitions)return s;var u,c=a[0].body,p=R(r),h=l((u=p).parentNode&&11===u.parentNode.nodeType||c.contains(p)?p:c);T(o);return function(t){return t.from&&t.to?function(t,r,i,o){var a=g(t),s=g(r),u=[];if(d(o,(function(t){var r=function(t,r,i){var o=l(R(r).cloneNode(!0)),a=v(g(o));r.addClass("ng-animate-shim"),i.addClass("ng-animate-shim"),o.addClass("ng-anchor"),h.append(o);var s,u=function(){var t=e(o,{addClass:"ng-anchor-out",delay:!0,from:f(r)});return t.$$willAnimate?t:null}();if(!u&&!(s=b()))return y();var p=u||s;return{start:function(){var e,t=p.start();return t.done((function(){if(t=null,!s&&(s=b()))return(t=s.start()).done((function(){t=null,y(),e.complete()})),t;y(),e.complete()})),e=new n({end:r,cancel:r});function r(){t&&t.end()}}};function f(e){var t={},n=R(e).getBoundingClientRect();return d(["width","height","top","left"],(function(e){var r=n[e];switch(e){case"top":r+=c.scrollTop;break;case"left":r+=c.scrollLeft}t[e]=Math.floor(r)+"px"})),t}function g(e){return e.attr("class")||""}function b(){var t=v(g(i)),n=m(t,a),r=m(a,t),s=e(o,{to:f(i),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+r,delay:!0});return s.$$willAnimate?s:null}function y(){o.remove(),r.removeClass("ng-animate-shim"),i.removeClass("ng-animate-shim")}}(0,t.out,t.in);r&&u.push(r)})),!a&&!s&&0===u.length)return;return{start:function(){var e=[];a&&e.push(a.start()),s&&e.push(s.start()),d(u,(function(t){e.push(t.start())}));var t=new n({end:r,cancel:r});return n.all(e,(function(e){t.complete(e)})),t;function r(){d(e,(function(e){e.end()}))}}}}(t.from,t.to,t.classes,t.anchors):g(t)};function v(e){return e.replace(/\bng-\S+\b/g,"")}function m(e,t){return f(e)&&(e=e.split(" ")),f(t)&&(t=t.split(" ")),e.filter((function(e){return-1===t.indexOf(e)})).join(" ")}function g(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=L(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}}]}],X=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){var i=T(r);return function(e,t,r,a){var u=!1;3===arguments.length&&h(r)&&(a=r,r=null),a=D(a),r||(r=e.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var c,l,p,f,v,m=a.addClass,b=a.removeClass,y=o(r);y.length&&("leave"==t?(f="leave",p="afterLeave"):(f="before"+t.charAt(0).toUpperCase()+t.substr(1),p=t),"enter"!==t&&"move"!==t&&(c=x(e,t,a,y,f)),l=x(e,t,a,y,p));if(c||l)return{$$willAnimate:!0,end:function(){return v?v.end():($(),(v=new n).complete(!0)),v},start:function(){if(v)return v;var e;v=new n;var t=[];return c&&t.push((function(t){e=c(t)})),t.length?t.push((function(e){w(),e(!0)})):w(),l&&t.push((function(t){e=l(t)})),v.setHost({end:function(){i()},cancel:function(){i(!0)}}),n.chain(t,r),v;function r(e){$(),v.complete(e)}function i(t){u||((e||s)(t),r(t))}}};function w(){a.domOperation(),i(e,a)}function $(){u=!0,w(),A(e,a)}function _(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,m,b,o];break;case"addClass":a=[t,m,o];break;case"removeClass":a=[t,b,o];break;default:a=[t,o]}a.push(i);var u=e.apply(e,a);if(u)if(g(u.start)&&(u=u.start()),u instanceof n)u.done(o);else if(g(u))return u;return s}function C(e,t,r,i,o){var a=[];return d(i,(function(i){var u=i[o];u&&a.push((function(){var i,o,a=!1,c=function(e){a||(a=!0,(o||s)(e),i.complete(!e))};return i=new n({end:function(){c()},cancel:function(){c(!0)}}),o=_(u,e,t,r,(function(e){c(!1===e)})),i}))})),a}function x(e,t,r,i,o){var a,s,u=C(e,t,r,i,o);0===u.length&&("beforeSetClass"===o?(a=C(e,"removeClass",r,i,"beforeRemoveClass"),s=C(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(a=C(e,"removeClass",r,i,"removeClass"),s=C(e,"addClass",r,i,"addClass")),a&&(u=u.concat(a)),s&&(u=u.concat(s)));if(0!==u.length)return function(e){var t=[];return u.length&&d(u,(function(e){t.push(e())})),t.length?n.all(t,e):e(),function(e){d(t,(function(t){e?t.cancel():t.end()}))}}}};function o(n){n=p(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}}]}],K=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){var e=[];r&&e.push(r.start()),i&&e.push(i.start()),t.all(e,(function(e){n.complete(e)}));var n=new t({end:o(),cancel:o()});return n;function o(){return function(){d(e,(function(e){e.end()}))}}}}}return n(e)};function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}}]}],Z=["$animateProvider",function(e){var t=this.rules={skip:[],cancel:[],join:[]};function n(e,t){if(e&&t){var n=function(e){if(!e)return null;var t=e.split(" "),n=Object.create(null);return d(t,(function(e){n[e]=!0})),n}(t);return e.split(" ").some((function(e){return n[e]}))}}function r(e,n,r,i){return t[e].some((function(e){return e(n,r,i)}))}function i(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}t.join.push((function(e,t,n){return!t.structural&&i(t)})),t.skip.push((function(e,t,n){return!t.structural&&!i(t)})),t.skip.push((function(e,t,n){return"leave"==n.event&&t.structural})),t.skip.push((function(e,t,n){return n.structural&&2===n.state&&!t.structural})),t.cancel.push((function(e,t,n){return n.structural&&t.structural})),t.cancel.push((function(e,t,n){return 2===n.state&&t.structural})),t.cancel.push((function(e,t,r){var i=t.addClass,o=t.removeClass,a=r.addClass,s=r.removeClass;return!(v(i)&&v(o)||v(a)&&v(s))&&(n(i,s)||n(o,a))})),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(t,n,o,a,s,g,y,w,$,_){var C=new s,k=new s,O=null,P=a[0]||{hidden:!0};var N=n.$watch((function(){return 0===w.totalPendingRequests}),(function(e){e&&(N(),n.$$postDigest((function(){n.$$postDigest((function(){null===O&&(O=!0)}))})))})),j={},I=e.classNameFilter(),U=I?function(e){return I.test(e)}:function(){return!0},q=T($);function F(e,t){return M(e,t,{})}var J=Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};return{on:function(e,t,n){var r=E(t);j[e]=j[e]||[],j[e].push({node:r,callback:n})},off:function(e,t,n){var r=j[e];function i(e,t,n){var r=E(t);return e.filter((function(e){return!(e.node===r&&(!n||e.callback===n))}))}r&&(j[e]=1===arguments.length?null:i(r,t,n))},pin:function(e,t){x(b(e),"element","not an element"),x(b(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,a,s,c){return(s=s||{}).domOperation=c,function(e,a,s){var c,b,w=u(s);(e=function(e){if(e instanceof l)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return l(E(e))}if(1===e.nodeType)return l(e)}(e))&&(c=R(e),b=e.parent());w=D(w);var $=new y,_=(x=!1,function(e){x?e():n.$$postDigest((function(){x=!0,e()}))});var x;p(w.addClass)&&(w.addClass=w.addClass.join(" "));w.addClass&&!f(w.addClass)&&(w.addClass=null);p(w.removeClass)&&(w.removeClass=w.removeClass.join(" "));w.removeClass&&!f(w.removeClass)&&(w.removeClass=null);w.from&&!h(w.from)&&(w.from=null);w.to&&!h(w.to)&&(w.to=null);if(!c)return Q(),$;var T=[c.className,w.addClass,w.removeClass].join(" ");if(!U(T))return Q(),$;var N=["enter","move","leave"].indexOf(a)>=0,I=P.hidden,W=!O||I||k.get(c),B=!W&&C.get(c)||{},G=!!B.state;W||G&&1==B.state||(W=!function(e,t,n){var r,i=l(P.body),a=z(e,i)||"HTML"===e[0].nodeName,s=z(e,o),u=!1,c=k.get(R(e)),d=l.data(e[0],"$ngAnimatePin");d&&(t=d);t=R(t);for(;t&&(s||(s=z(t,o)),1===t.nodeType);){var p=C.get(t)||{};if(!u){var f=k.get(t);if(!0===f&&!1!==c){c=!0;break}!1===f&&(c=!1),u=p.structural}if(v(r)||!0===r){var h=l.data(t,"$$ngAnimateChildren");m(h)&&(r=h)}if(u&&!1===r)break;if(a||(a=z(t,i)),a&&s)break;t=s||!(d=l.data(t,"$ngAnimatePin"))?t.parentNode:R(d)}return(!u||r)&&!0!==c&&s&&a}(e,b));if(W)return I&&Z($,a,"start"),Q(),I&&Z($,a,"close"),$;N&&function(e){var t=R(e).querySelectorAll("[data-ng-animate]");d(t,(function(e){var t=parseInt(e.getAttribute("data-ng-animate")),n=C.get(e);if(n)switch(t){case 2:n.runner.end();case 1:C.remove(e)}}))}(e);var Y={structural:N,element:e,event:a,addClass:w.addClass,removeClass:w.removeClass,close:Q,options:w,runner:$};if(G){if(r("skip",e,Y,B))return 2===B.state?(Q(),$):(M(e,B,Y),B.runner);if(r("cancel",e,Y,B))if(2===B.state)B.runner.end();else{if(!B.structural)return M(e,B,Y),B.runner;B.close()}else if(r("join",e,Y,B)){if(2!==B.state)return function(e,t,n){var r="";t&&(r=S(t,"ng-",!0)),n.addClass&&(r=L(r,S(n.addClass,"-add"))),n.removeClass&&(r=L(r,S(n.removeClass,"-remove"))),r.length&&(n.preparationClasses=r,e.addClass(r))}(e,N?a:null,w),a=Y.event=B.event,w=M(e,B,Y),B.runner;F(e,Y)}}else F(e,Y);var X=Y.structural;X||(X="animate"===Y.event&&Object.keys(Y.options.to||{}).length>0||i(Y));if(!X)return Q(),V(e),$;var K=(B.counter||0)+1;return Y.counter=K,H(e,1,Y),n.$$postDigest((function(){var t=C.get(c),n=!t;t=t||{};var r=(e.parent()||[]).length>0&&("animate"===t.event||t.structural||i(t));if(n||t.counter!==K||!r)return n&&(q(e,w),A(e,w)),(n||N&&t.event!==a)&&(w.domOperation(),$.end()),void(r||V(e));a=!t.structural&&i(t,!0)?"setClass":t.event,H(e,2);var o=g(e,a,t.options);$.setHost(o),Z($,a,"start",{}),o.done((function(t){Q(!t);var n=C.get(c);n&&n.counter===K&&V(R(e)),Z($,a,"close",{})}))})),$;function Z(n,r,i,o){_((function(){var n=function(e,t,n){var r=R(t),i=R(e),o=[],a=j[n];return a&&d(a,(function(e){(J.call(e.node,r)||"leave"===n&&J.call(e.node,i))&&o.push(e.callback)})),o}(b,e,r);n.length&&t((function(){d(n,(function(t){t(e,i,o)}))}))})),n.progress(r,i,o)}function Q(t){!function(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}(e,w),q(e,w),A(e,w),w.domOperation(),$.complete(!t)}}(e,a,s)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!O;else{var r=b(e);if(r){var i=R(e),o=k.get(i);1===n?t=!o:k.put(i,!t)}else t=O=!!e}return t}};function V(e){var t=R(e);t.removeAttribute("data-ng-animate"),C.remove(t)}function z(e,t){return R(e)===R(t)}function H(e,t,n){(n=n||{}).state=t;var r=R(e);r.setAttribute("data-ng-animate",t);var i=C.get(r),o=i?c(i,n):n;C.put(r,o)}}]}],Q=["$animateProvider",function(e){var t=this.drivers=[];function n(e){return e.data("$$animationRunner")}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,r,i,o,a,s){var u=[],c=T(e);return function(p,f,h){h=D(h);var v=["enter","move","leave"].indexOf(f)>=0,m=new o({end:function(){_()},cancel:function(){_(!0)}});if(!t.length)return _(),m;!function(e,t){e.data("$$animationRunner",t)}(p,m);var g,b=k(p.attr("class"),k(h.addClass,h.removeClass)),y=h.tempClasses;return y&&(b+=" "+y,h.tempClasses=null),v&&(g="ng-"+f+"-prepare",e.addClass(p,g)),u.push({element:p,classes:b,event:f,structural:v,options:h,beforeStart:function(){p.addClass("ng-animate"),y&&e.addClass(p,y);g&&(e.removeClass(p,g),g=null)},close:_}),p.on("$destroy",$),u.length>1||r.$$postDigest((function(){var e=[];d(u,(function(t){n(t.element)?e.push(t):t.close()})),u.length=0;var r=function(e){var t=[],n={};d(e,(function(e,r){var i=R(e.element),o=e.event,a=["enter","move"].indexOf(o)>=0,s=e.structural?function(e){var t=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]"),n=[];return d(t,(function(e){var t=e.getAttribute("ng-animate-ref");t&&t.length&&n.push(e)})),n}(i):[];if(s.length){var u=a?"to":"from";d(s,(function(e){var t=e.getAttribute("ng-animate-ref");n[t]=n[t]||{},n[t][u]={animationID:r,element:l(e)}}))}else t.push(e)}));var r={},i={};return d(n,(function(n,o){var a=n.from,s=n.to;if(a&&s){var u=e[a.animationID],c=e[s.animationID],l=a.animationID.toString();if(!i[l]){var d=i[l]={structural:!0,beforeStart:function(){u.beforeStart(),c.beforeStart()},close:function(){u.close(),c.close()},classes:w(u.classes,c.classes),from:u,to:c,anchors:[]};d.classes.length?t.push(d):(t.push(u),t.push(c))}i[l].anchors.push({out:a.element,in:s.element})}else{var p=a?a.animationID:s.animationID,f=p.toString();r[f]||(r[f]=!0,t.push(e[p]))}})),t}(e),o=[];d(r,(function(e){o.push({domNode:R(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var r,o=e.close;if(n(e.anchors?e.from.element||e.to.element:e.element)){var a=function(e){for(var n=t.length-1;n>=0;n--){var r=t[n];if(i.has(r)){var o=i.get(r)(e);if(o)return o}}}(e);a&&(r=a.start)}if(r){var s=r();s.done((function(e){o(!e)})),function(e,t){e.from&&e.to?(r(e.from.element),r(e.to.element)):r(e.element);function r(e){n(e).setHost(t)}}(e,s)}else o()}})})),s(function(e){var t,n={children:[]},r=new a;for(t=0;t<e.length;t++){var i=e[t];r.put(i.domNode,e[t]={domNode:i.domNode,fn:i.fn,children:[]})}for(t=0;t<e.length;t++)o(e[t]);return function(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,a=[];for(t=0;t<r.length;t++){var s=r[t];i<=0&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach((function(e){o++,r.push(e)})),i--}a.length&&n.push(a);return n}(n);function o(e){if(e.processed)return e;e.processed=!0;var t,i=e.domNode,a=i.parentNode;for(r.put(i,e);a;){if(t=r.get(a)){t.processed||(t=o(t));break}a=a.parentNode}return(t||n).children.push(e),e}}(o))})),m;function w(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function $(){var e=n(p);!e||"leave"===f&&h.$$domOperationFired||e.end()}function _(t){p.off("$destroy",$),function(e){e.removeData("$$animationRunner")}(p),c(p,h),A(p,h),h.domOperation(),y&&e.removeClass(p,y),p.removeClass("ng-animate"),m.complete(!t)}}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",U).factory("$$rAFScheduler",["$$rAF",function(e){var t,n;function r(e){t=t.concat(e),i()}return t=r.queue=[],r.waitUntilQuiet=function(t){n&&n(),n=e((function(){n=null,t(),i()}))},r;function i(){if(t.length){for(var r=t.shift(),o=0;o<r.length;o++)r[o]();n||e((function(){n||i()}))}}}]).provider("$$animateQueue",Z).provider("$$animation",Q).provider("$animateCss",G).provider("$$animateCssDriver",Y).provider("$$animateJs",X).provider("$$animateJsDriver",K)}(window,window.angular),
/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";function r(e,n,r){var i=r.baseHref(),o=e[0];return function(e,r,a){o.cookie=function(e,r,o){var a,s;s=(o=o||{}).expires,a=t.isDefined(o.path)?o.path:i,t.isUndefined(r)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",r=""),t.isString(s)&&(s=new Date(s));var u=encodeURIComponent(e)+"="+encodeURIComponent(r);u+=a?";path="+a:"",u+=o.domain?";domain="+o.domain:"",u+=s?";expires="+s.toUTCString():"";var c=(u+=o.secure?";secure":"").length+1;return c>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),u}(e,r,a)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){var e=this.defaults={};function n(n){return n?t.extend({},e,n):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,r){return{get:function(t){return e()[t]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return e()},put:function(e,t,i){r(e,t,n(i))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(e,t){r(e,void 0,n(t))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),r.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",(function(){this.$get=r}))}(window,window.angular),
/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";var r=t.module("ngTouch",[]);function i(e,n,i){r.directive(e,["$parse","$swipe",function(r,o){return function(a,s,u){var c,l,d=r(u[e]);var p=["touch"];t.isDefined(u.ngSwipeDisableMouse)||p.push("mouse"),o.bind(s,{start:function(e,t){c=e,l=!0},cancel:function(e){l=!1},end:function(e,t){(function(e){if(!c)return!1;var t=Math.abs(e.y-c.y),r=(e.x-c.x)*n;return l&&t<75&&r>0&&r>30&&t/r<.3})(e)&&a.$apply((function(){s.triggerHandler(i),d(a,{$event:t})}))}},p)}}])}r.factory("$swipe",[function(){var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};function n(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function r(n,r){var i=[];return t.forEach(n,(function(t){var n=e[t][r];n&&i.push(n)})),i.join(" ")}return{bind:function(e,t,i){var o,a,s,u,c=!1;i=i||["mouse","touch"],e.on(r(i,"start"),(function(e){s=n(e),c=!0,o=0,a=0,u=s,t.start&&t.start(s,e)}));var l=r(i,"cancel");l&&e.on(l,(function(e){c=!1,t.cancel&&t.cancel(e)})),e.on(r(i,"move"),(function(e){if(c&&s){var r=n(e);if(o+=Math.abs(r.x-u.x),a+=Math.abs(r.y-u.y),u=r,!(o<10&&a<10))return a>o?(c=!1,void(t.cancel&&t.cancel(e))):(e.preventDefault(),void(t.move&&t.move(r,e)))}})),e.on(r(i,"end"),(function(e){c&&(c=!1,t.end&&t.end(n(e),e))}))}}}]),r.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(e,n,r){var i,o,a;function s(e,t,n){for(var r=0;r<e.length;r+=2)if(i=e[r],o=e[r+1],a=t,s=n,Math.abs(i-a)<25&&Math.abs(o-s)<25)return e.splice(r,r+2),!0;var i,o,a,s;return!1}function u(e){if(!(Date.now()-i>2500)){var n,r=e.touches&&e.touches.length?e.touches:[e],u=r[0].clientX,c=r[0].clientY;if(!(u<1&&c<1))if(!a||a[0]!==u||a[1]!==c)a&&(a=null),"label"===(n=e.target,t.lowercase(n.nodeName||n[0]&&n[0].nodeName))&&(a=[u,c]),s(o,u,c)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur())}}function c(e){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,i=t[0].clientY;o.push(r,i),n((function(){for(var e=0;e<o.length;e+=2)if(o[e]==r&&o[e+1]==i)return void o.splice(e,e+2)}),2500,!1)}return function(n,a,l){var d,p,f,h,v=e(l.ngClick),m=!1;function g(){m=!1,a.removeClass("ng-click-active")}a.on("touchstart",(function(e){m=!0,3==(d=e.target?e.target:e.srcElement).nodeType&&(d=d.parentNode),a.addClass("ng-click-active"),p=Date.now();var t=e.originalEvent||e,n=(t.touches&&t.touches.length?t.touches:[t])[0];f=n.clientX,h=n.clientY})),a.on("touchcancel",(function(e){g()})),a.on("touchend",(function(e){var n=Date.now()-p,v=e.originalEvent||e,b=(v.changedTouches&&v.changedTouches.length?v.changedTouches:v.touches&&v.touches.length?v.touches:[v])[0],y=b.clientX,w=b.clientY,$=Math.sqrt(Math.pow(y-f,2)+Math.pow(w-h,2));m&&n<750&&$<12&&(!function(e,t){o||(r[0].addEventListener("click",u,!0),r[0].addEventListener("touchstart",c,!0),o=[]),i=Date.now(),s(o,e,t)}(y,w),d&&d.blur(),t.isDefined(l.disabled)&&!1!==l.disabled||a.triggerHandler("click",[e])),g()})),a.onclick=function(e){},a.on("click",(function(e,t){n.$apply((function(){v(n,{$event:t||e})}))})),a.on("mousedown",(function(e){a.addClass("ng-click-active")})),a.on("mousemove mouseup",(function(e){a.removeClass("ng-click-active")}))}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),
/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";var r=t.$$minErr("$sanitize");var i=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,o=/^<\/\s*([\w:-]+)[^>]*>/,a=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,s=/^</,u=/^<\//,c=/<!--(.*?)-->/g,l=/<!DOCTYPE([^>]*?)>/i,d=/<!\[CDATA\[(.*?)]]>/g,p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/([^\#-~| |!])/g,h=E("area,br,col,hr,img,wbr"),v=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m=E("rp,rt"),g=t.extend({},m,v),b=t.extend({},v,E("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),y=t.extend({},m,E("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=E("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),$=E("script,style"),_=t.extend({},h,b,y,g,w),C=E("background,cite,href,longdesc,src,usemap,xlink:href"),x=E("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),k=E("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),S=t.extend({},C,k,x);function E(e,n){var r,i={},o=e.split(",");for(r=0;r<o.length;r++)i[n?t.lowercase(o[r]):o[r]]=!0;return i}var T=document.createElement("pre");function D(e){return e?(T.innerHTML=e.replace(/</g,"&lt;"),T.textContent):""}function A(e){return e.replace(/&/g,"&amp;").replace(p,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(f,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function O(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!r&&$[e]&&(r=e),r||!0!==_[e]||(i("<"),i(e),t.forEach(o,(function(r,o){var a=t.lowercase(o),s="img"===e&&"src"===a||"background"===a;!0!==S[a]||!0===C[a]&&!n(r,s)||(i(" "),i(o),i('="'),i(A(r)),i('"'))})),i(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||!0!==_[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(A(e))}}}t.module("ngSanitize",[]).provider("$sanitize",(function(){this.$get=["$$sanitizeUri",function(e){return function(n){var p=[];return function(e,n){"string"!=typeof e&&(e=null==e?"":""+e);var p,f,v,m,w=[],_=e;w.last=function(){return w[w.length-1]};for(;e;){if(m="",f=!0,w.last()&&$[w.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+w.last()+"[^>]*>","i"),(function(e,t){return t=t.replace(c,"$1").replace(d,"$1"),n.chars&&n.chars(D(t)),""})),x("",w.last())):(0===e.indexOf("\x3c!--")?(p=e.indexOf("--",4))>=0&&e.lastIndexOf("--\x3e",p)===p&&(n.comment&&n.comment(e.substring(4,p)),e=e.substring(p+3),f=!1):l.test(e)?(v=e.match(l))&&(e=e.replace(v[0],""),f=!1):u.test(e)?(v=e.match(o))&&(e=e.substring(v[0].length),v[0].replace(o,x),f=!1):s.test(e)&&((v=e.match(i))?(v[4]&&(e=e.substring(v[0].length),v[0].replace(i,C)),f=!1):(m+="<",e=e.substring(1))),f&&(p=e.indexOf("<"),m+=p<0?e:e.substring(0,p),e=p<0?"":e.substring(p),n.chars&&n.chars(D(m)))),e==_)throw r("badparse","The sanitizer was unable to parse the following block of html: {0}",e);_=e}function C(e,r,i,o){if(r=t.lowercase(r),b[r])for(;w.last()&&y[w.last()];)x("",w.last());g[r]&&w.last()==r&&x("",r),(o=h[r]||!!o)||w.push(r);var s={};i.replace(a,(function(e,t,n,r,i){var o=n||r||i||"";s[t]=D(o)})),n.start&&n.start(r,s,o)}function x(e,r){var i,o=0;if(r=t.lowercase(r))for(o=w.length-1;o>=0&&w[o]!=r;o--);if(o>=0){for(i=w.length-1;i>=o;i--)n.end&&n.end(w[i]);w.length=o}}x()}(n,O(p,(function(t,n){return!/^unsafe/.test(e(t,n))}))),p.join("")}}]})),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i;return function(i,o){if(!i)return i;for(var a,s,u,c=i,l=[];a=c.match(n);)s=a[0],a[2]||a[4]||(s=(a[3]?"http://":"mailto:")+s),u=a.index,d(c.substr(0,u)),p(s,a[0].replace(r,"")),c=c.substring(u+a[0].length);return d(c),e(l.join(""));function d(e){var n,r;e&&l.push((n=e,O(r=[],t.noop).chars(n),r.join("")))}function p(e,n){l.push("<a "),t.isDefined(o)&&l.push('target="',o,'" '),l.push('href="',e.replace(/"/g,"&quot;"),'">'),d(n),l.push("</a>")}}}])}(window,window.angular),
/**
 * State-based routing for AngularJS
 * @version v0.2.18
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";var r,i=t.isDefined,o=t.isFunction,a=t.isString,s=t.isObject,u=t.isArray,c=t.forEach,l=t.extend,d=t.copy,p=t.toJson;function f(e,t){return l(new(l((function(){}),{prototype:e})),t)}function h(e){return c(arguments,(function(t){t!==e&&c(t,(function(t,n){e.hasOwnProperty(n)||(e[n]=t)}))})),e}function v(e){if(Object.keys)return Object.keys(e);var t=[];return c(e,(function(e,n){t.push(n)})),t}function m(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for((r=r<0?Math.ceil(r):Math.floor(r))<0&&(r+=n);r<n;r++)if(r in e&&e[r]===t)return r;return-1}function g(e,t,n,r){var i,o=function(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}(n,r),a={},s=[];for(var u in o)if(o[u]&&o[u].params&&(i=v(o[u].params)).length)for(var c in i)m(s,i[c])>=0||(s.push(i[c]),a[i[c]]=e[i[c]]);return l({},a,t)}function b(e,t,n){if(!n)for(var r in n=[],e)n.push(r);for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function y(e,t){var n={};return c(e,(function(e){n[e]=t[e]})),n}function w(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return c(n,(function(n){n in e&&(t[n]=e[n])})),t}function $(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==m(n,r)&&(t[r]=e[r]);return t}function _(e,t){var n=u(e),r=n?[]:{};return c(e,(function(e,i){t(e,i)&&(r[n?r.length:i]=e)})),r}function C(e,t){var n=u(e)?[]:{};return c(e,(function(e,r){n[r]=t(e,r)})),n}function x(e,t){var n={},r=[],o=n,u=l(e.when(n),{$$promises:n,$$values:n});this.study=function(n){if(!s(n))throw new Error("'invocables' must be an object");var d=v(n||{}),p=[],f=[],g={};function b(e){return s(e)&&e.then&&e.$$promises}return c(n,(function e(i,o){if(2!==g[o]){if(f.push(o),1===g[o])throw f.splice(0,m(f,o)),new Error("Cyclic dependency: "+f.join(" -> "));if(g[o]=1,a(i))p.push(o,[function(){return t.get(i)}],r);else{var s=t.annotate(i);c(s,(function(t){t!==o&&n.hasOwnProperty(t)&&e(n[t],t)})),p.push(o,i,s)}f.pop(),g[o]=2}})),n=f=g=null,function(n,r,a){if(b(n)&&void 0===a&&(a=r,r=n,n=null),n){if(!s(n))throw new Error("'locals' must be an object")}else n=o;if(r){if(!b(r))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else r=u;var f=e.defer(),v=f.promise,m=v.$$promises={},g=l({},n),y=1+p.length/3,w=!1;function _(){--y||(w||h(g,r.$$values),v.$$values=g,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(g))}function C(e){v.$$failure=e,f.reject(e)}if(i(r.$$failure))return C(r.$$failure),v;r.$$inheritedValues&&h(g,$(r.$$inheritedValues,d)),l(m,r.$$promises),r.$$values?(w=h(g,$(r.$$values,d)),v.$$inheritedValues=$(r.$$values,d),_()):(r.$$inheritedValues&&(v.$$inheritedValues=$(r.$$inheritedValues,d)),r.then(_,C));for(var x=0,k=p.length;x<k;x+=3)n.hasOwnProperty(p[x])?_():S(p[x],p[x+1],p[x+2]);function S(r,o,s){var u=e.defer(),l=0;function d(e){u.reject(e),C(e)}function p(){if(!i(v.$$failure))try{u.resolve(t.invoke(o,a,g)),u.promise.then((function(e){g[r]=e,_()}),d)}catch(e){d(e)}}c(s,(function(e){m.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(l++,m[e].then((function(t){g[e]=t,--l||p()}),d))})),l||p(),m[r]=u.promise}return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function k(e,t,n){this.fromConfig=function(e,t,n){return i(e.template)?this.fromString(e.template,t):i(e.templateUrl)?this.fromUrl(e.templateUrl,t):i(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return o(e)?e(t):e},this.fromUrl=function(n,r){return o(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then((function(e){return e.data}))},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function S(e,t,n){t=l({params:{}},s(t)?t:{});var i,o,a,u,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p="^",h=0,v=this.segments=[],m=n?n.params:{},g=this.params=n?n.params.$$new():new r.ParamSet,b=[];function y(t,n,i,o){if(b.push(t),m[t])return m[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new r.Param(t,n,i,o),g[t]}function w(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:o=o.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function $(n,i){var o,a,s,u,c;return o=n[2]||n[3],c=t.params[o],s=e.substring(h,n.index),(a=i?n[4]:n[4]||("*"==n[1]?".*":null))&&(u=r.type(a)||f(r.type("string"),{pattern:new RegExp(a,t.caseInsensitive?"i":void 0)})),{id:o,regexp:a,segment:s,type:u,cfg:c}}for(this.source=e;(i=c.exec(e))&&!((o=$(i,!1)).segment.indexOf("?")>=0);)a=y(o.id,o.type,o.cfg,"path"),p+=w(o.segment,a.type.pattern.source,a.squash,a.isOptional),v.push(o.segment),h=c.lastIndex;var _=(u=e.substring(h)).indexOf("?");if(_>=0){var C=this.sourceSearch=u.substring(_);if(u=u.substring(0,_),this.sourcePath=e.substring(0,h+_),C.length>0)for(h=0;i=d.exec(C);)a=y((o=$(i,!0)).id,o.type,o.cfg,"search"),h=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";p+=w(u)+(!1===t.strict?"/?":"")+"$",v.push(u),this.regexp=new RegExp(p,t.caseInsensitive?"i":void 0),this.prefix=v[0],this.$$paramNames=b}function E(e){l(this,e)}function T(e,n){var r,s=[],c=null,d=!1;function p(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return!i(r)||r}function f(n,i,o,u,l){var p,f=u.baseHref(),h=n.url();function v(e){if(!e||!e.defaultPrevented){p&&n.url();p=void 0;var t,r=s.length;for(t=0;t<r;t++)if(i(s[t]))return;c&&i(c)}function i(e){var t=e(o,n);return!!t&&(a(t)&&n.replace().url(t),!0)}}function m(){return r=r||i.$on("$locationChangeSuccess",v)}return d||m(),{sync:function(){v()},listen:function(){return m()},update:function(e){e?h=n.url():n.url()!==h&&(n.url(h),n.replace())},push:function(e,t,r){var i=e.format(t||{});null!==i&&t&&t["#"]&&(i+="#"+t["#"]),n.url(i),p=r&&r.$$avoidResync?n.url():void 0,r&&r.replace&&n.replace()},href:function(r,i,o){if(!r.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&l.history;var s=r.format(i);if(o=o||{},a||null===s||(s="#"+e.hashPrefix()+s),null!==s&&i&&i["#"]&&(s+="#"+i["#"]),s=function(e,t,n){return"/"===f?e:t?f.slice(0,-1)+e:n?f.slice(1)+e:e}(s,a,o.absolute),!o.absolute||!s)return s;var u=!a&&s?"/":"",c=n.port();return c=80===c||443===c?"":":"+c,[n.protocol(),"://",n.host(),c,u,s].join("")}}}this.rule=function(e){if(!o(e))throw new Error("'rule' must be a function");return s.push(e),this},this.otherwise=function(e){if(a(e)){var t=e;e=function(){return t}}else if(!o(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var r,i=a(t);if(a(e)&&(e=n.compile(e)),!i&&!o(t)&&!u(t))throw new Error("invalid 'handler' in when()");var s={matcher:function(e,t){return i&&(r=n.compile(t),t=["$match",function(e){return r.format(e)}]),l((function(n,r){return p(n,t,e.exec(r.path(),r.search()))}),{prefix:a(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return i&&(r=t,t=["$match",function(e){return t=e,r.replace(/\$(\$|\d{1,2})/,(function(e,n){return t["$"===n?0:Number(n)]}));var t}]),l((function(n,r){return p(n,t,e.exec(r.path()))}),{prefix:(n=e,o=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source),null!=o?o[1].replace(/\\(.)/g,"$1"):"")});var n,o}},c={matcher:n.isMatcher(e),regex:e instanceof RegExp};for(var d in c)if(c[d])return this.rule(s[d](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){void 0===e&&(e=!0),d=e},this.$get=f,f.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function D(e,n){var p,h,$={},_={},x={parent:function(e){if(i(e.parent)&&e.parent)return k(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?k(t[1]):p},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=f(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,r={params:e.params||{}};if(a(t))return"^"==t.charAt(0)?n.compile(t.substring(1),r):(e.parent.navigable||p).url.concat(t,r);if(!t||n.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new r.ParamSet;return c(e.params||{},(function(e,n){t[n]||(t[n]=new r.Param(n,null,e,"config"))})),t},params:function(e){var t=w(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?l(e.parent.params.$$new(),t):new r.ParamSet},views:function(e){var t={};return c(i(e.views)?e.views:{"":e},(function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),t[r]=n})),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?l({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};function k(e,t){if(e){var n,r=a(e),i=r?e:e.name;if(0===(n=i).indexOf(".")||0===n.indexOf("^")){if(!t)throw new Error("No reference point given for path '"+i+"'");t=k(t);for(var o=i.split("."),s=0,u=o.length,c=t;s<u;s++)if(""!==o[s]||0!==s){if("^"!==o[s])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;o=o.slice(s).join("."),i=c.name+(c.name&&o?".":"")+o}var l=$[i];return!l||!r&&(r||l!==e&&l.self!==e)?void 0:l}}function S(t){var n=(t=f(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}})).name;if(!a(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if($.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):a(t.parent)?t.parent:s(t.parent)&&a(t.parent.name)?t.parent.name:"";if(r&&!$[r])return function(e,t){_[e]||(_[e]=[]),_[e].push(t)}(r,t.self);for(var i in x)o(x[i])&&(t[i]=x[i](t,x.$delegates[i]));return $[n]=t,!t.abstract&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){h.$current.navigable==t&&b(e,n)||h.transitionTo(t,e,{inherit:!0,location:!1})}]),function(e){for(var t=_[e]||[];t.length;)S(t.shift())}(n),t}function E(e,n,_,x,S,E,T,D,A){var O=n.reject(new Error("transition superseded")),P=n.reject(new Error("transition prevented")),M=n.reject(new Error("transition aborted")),R=n.reject(new Error("transition failed"));function N(e,r,i,a,s,l){var d=i?r:y(e.params.$$keys(),r),p={$stateParams:d};s.resolve=S.resolve(e.resolve,p,s.resolve,e);var f=[s.resolve.then((function(e){s.globals=e}))];return a&&f.push(a),n.all(f).then((function(){var r=[];return c(e.views,(function(n,i){var a=n.resolve&&n.resolve!==e.resolve?n.resolve:{};a.$template=[function(){return _.load(i,{view:n,locals:s.globals,params:d,notify:l.notify})||""}],r.push(S.resolve(a,s.globals,s.resolve,e).then((function(r){if(o(n.controllerProvider)||u(n.controllerProvider)){var c=t.extend({},a,s.globals);r.$$controller=x.invoke(n.controllerProvider,null,c)}else r.$$controller=n.controller;r.$$state=e,r.$$controllerAs=n.controllerAs,s[i]=r})))})),n.all(r).then((function(){return s.globals}))})).then((function(e){return s}))}return p.locals={resolve:null,globals:{$stateParams:{}}},(h={params:{},current:p.self,$current:p,transition:null}).reload=function(e){return h.transitionTo(h.current,E,{reload:e||!0,inherit:!1,notify:!0})},h.go=function(e,t,n){return h.transitionTo(e,t,l({inherit:!0,relative:h.$current},n))},h.transitionTo=function(t,o,u){o=o||{},u=l({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},u||{});var c=h.$current,v=h.params,m=c.path,b=k(t,u.relative),$=o["#"];if(!i(b)){var _={to:t,toParams:o,options:u},C=function(t,r,i,o){var a=e.$broadcast("$stateNotFound",t,r,i);if(a.defaultPrevented)return T.update(),M;if(!a.retry)return null;if(o.$retry)return T.update(),R;var s=h.transition=n.when(a.retry);return s.then((function(){return s!==h.transition?O:(t.options.$retry=!0,h.transitionTo(t.to,t.toParams,t.options))}),(function(){return M})),T.update(),s}(_,c.self,v,u);if(C)return C;if(o=_.toParams,b=k(t=_.to,(u=_.options).relative),!i(b)){if(!u.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+u.relative+"'")}}if(b.abstract)throw new Error("Cannot transition to abstract state '"+t+"'");if(u.inherit&&(o=g(E,o||{},h.$current,b)),!b.params.$$validates(o))return R;o=b.params.$$values(o);var S=(t=b).path,D=0,A=S[D],j=p.locals,I=[];if(u.reload){if(a(u.reload)||s(u.reload)){if(s(u.reload)&&!u.reload.name)throw new Error("Invalid reload state object");var L=!0===u.reload?m[0]:k(u.reload);if(u.reload&&!L)throw new Error("No such reload state '"+(a(u.reload)?u.reload:u.reload.name)+"'");for(;A&&A===m[D]&&A!==L;)j=I[D]=A.locals,D++,A=S[D]}}else for(;A&&A===m[D]&&A.ownParams.$$equals(o,v);)j=I[D]=A.locals,D++,A=S[D];if(function(e,t,n,i,o,a){if(!a.reload&&e===n&&(o===n.locals||!1===e.self.reloadOnSearch&&function(e,t,n){var i=e.params.$$keys().filter((function(t){return"search"!=e.params[t].location})),o=w.apply({},[e.params].concat(i));return new r.ParamSet(o).$$equals(t,n)}(n,i,t)))return!0}(t,o,c,v,j,u))return $&&(o["#"]=$),h.params=o,d(h.params,E),d(y(t.params.$$keys(),E),t.locals.globals.$stateParams),u.location&&t.navigable&&t.navigable.url&&(T.push(t.navigable.url,o,{$$avoidResync:!0,replace:"replace"===u.location}),T.update(!0)),h.transition=null,n.when(h.current);if(o=y(t.params.$$keys(),o||{}),$&&(o["#"]=$),u.notify&&e.$broadcast("$stateChangeStart",t.self,o,c.self,v,u).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,o,c.self,v),null==h.transition&&T.update(),P;for(var U=n.when(j),q=D;q<S.length;q++,A=S[q])j=I[q]=f(j),U=N(A,o,A===t,U,j,u);var F=h.transition=U.then((function(){var n,r,i;if(h.transition!==F)return O;for(n=m.length-1;n>=D;n--)(i=m[n]).self.onExit&&x.invoke(i.self.onExit,i.self,i.locals.globals),i.locals=null;for(n=D;n<S.length;n++)(r=S[n]).locals=I[n],r.self.onEnter&&x.invoke(r.self.onEnter,r.self,r.locals.globals);return h.transition!==F?O:(h.$current=t,h.current=t.self,h.params=o,d(h.params,E),h.transition=null,u.location&&t.navigable&&T.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===u.location}),u.notify&&e.$broadcast("$stateChangeSuccess",t.self,o,c.self,v),T.update(!0),h.current)}),(function(r){return h.transition!==F?O:(h.transition=null,e.$broadcast("$stateChangeError",t.self,o,c.self,v,r).defaultPrevented||T.update(),n.reject(r))}));return F},h.is=function(e,t,n){var r=k(e,(n=l({relative:h.$current},n||{})).relative);if(i(r))return h.$current===r&&(!t||b(r.params.$$values(t),E))},h.includes=function(e,t,n){if(n=l({relative:h.$current},n||{}),a(e)&&e.indexOf("*")>-1){if(!function(e){for(var t=e.split("."),n=h.$current.name.split("."),r=0,i=t.length;r<i;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(m(n,t[1]))).unshift("**"),"**"===t[t.length-1]&&(n.splice(m(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}(e))return!1;e=h.$current.name}var r=k(e,n.relative);if(i(r))return!!i(h.$current.includes[r.name])&&(!t||b(r.params.$$values(t),E,v(t)))},h.href=function(e,t,n){var r=k(e,(n=l({lossy:!0,inherit:!0,absolute:!1,relative:h.$current},n||{})).relative);if(!i(r))return null;n.inherit&&(t=g(E,t||{},h.$current,r));var o=r&&n.lossy?r.navigable:r;return o&&void 0!==o.url&&null!==o.url?T.href(o.url,y(r.params.$$keys().concat("#"),t||{}),{absolute:n.absolute}):null},h.get=function(e,t){if(0===arguments.length)return C(v($),(function(e){return $[e].self}));var n=k(e,t||h.$current);return n&&n.self?n.self:null},h}(p=S({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(e,t){if(a(e)&&!i(t))return x[e];if(!o(t)||!a(e))return this;x[e]&&!x.$delegates[e]&&(x.$delegates[e]=x[e]);return x[e]=t,this},this.state=function(e,t){s(e)?t=e:t.name=e;return S(t),this},this.$get=E,E.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function A(){function e(e,t){return{load:function(e,n){var r;return(n=l({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},n)).view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),x.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",x),k.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",k),S.prototype.concat=function(e,t){var n={caseInsensitive:r.caseInsensitive(),strict:r.strictMode(),squash:r.defaultSquashPolicy()};return new S(this.sourcePath+e+this.sourceSearch,l(n,t),this)},S.prototype.toString=function(){return this.source},S.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var r,o,a,s,u,c=this.parameters(),l=c.length,d=this.segments.length-1,p={};if(d!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function f(e){function t(e){return e.split("").reverse().join("")}var n=C(t(e).split(/-(?!\\)/),t);return C(n,(function(e){return e.replace(/\\-/g,"-")})).reverse()}for(r=0;r<d;r++){for(a=c[r],s=this.params[a],u=n[r+1],o=0;o<s.replace.length;o++)s.replace[o].from===u&&(u=s.replace[o].to);u&&!0===s.array&&(u=f(u)),i(u)&&(u=s.type.decode(u)),p[a]=s.value(u)}for(;r<l;r++){for(p[a=c[r]]=this.params[a].value(t[a]),s=this.params[a],u=t[a],o=0;o<s.replace.length;o++)s.replace[o].from===u&&(u=s.replace[o].to);i(u)&&(u=s.type.decode(u)),p[a]=s.value(u)}return p},S.prototype.parameters=function(e){return i(e)?this.params[e]||null:this.$$paramNames},S.prototype.validates=function(e){return this.params.$$validates(e)},S.prototype.format=function(e){e=e||{};var t=this.segments,n=this.parameters(),r=this.params;if(!this.validates(e))return null;var i,o=!1,s=t.length-1,c=n.length,l=t[0];function d(e){return encodeURIComponent(e).replace(/-/g,(function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()}))}for(i=0;i<c;i++){var p=i<s,f=n[i],h=r[f],v=h.value(e[f]),m=h.isOptional&&h.type.equals(h.value(),v),g=!!m&&h.squash,b=h.type.encode(v);if(p){var y=t[i+1],w=i+1===s;if(!1===g)null!=b&&(u(b)?l+=C(b,d).join("-"):l+=encodeURIComponent(b)),l+=y;else if(!0===g){var $=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=y.match($)[1]}else a(g)&&(l+=g+y);w&&!0===h.squash&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==b||m&&!1!==g)continue;if(u(b)||(b=[b]),0===b.length)continue;l+=(o?"&":"?")+f+"="+(b=C(b,encodeURIComponent).join("&"+f+"=")),o=!0}}return l},E.prototype.is=function(e,t){return!0},E.prototype.encode=function(e,t){return e},E.prototype.decode=function(e,t){return e},E.prototype.equals=function(e,t){return e==t},E.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},E.prototype.pattern=/.*/,E.prototype.toString=function(){return"{Type:"+this.name+"}"},E.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},E.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,t){function n(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return u(e)?e:i(e)?[e]:[]}function o(e){return!e}function a(e,n){return function(i){if(u(i)&&0===i.length)return i;var a=C(i=r(i),e);return!0===n?0===_(a,o).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}(a)}}var s;this.encode=a(n(e,"encode")),this.decode=a(n(e,"decode")),this.is=a(n(e,"is"),!0),this.equals=(s=n(e,"equals"),function(e,t){var n=r(e),i=r(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!s(n[o],i[o]))return!1;return!0}),this.pattern=e.pattern,this.$normalize=a(n(e,"$normalize")),this.name=e.name,this.$arrayMode=t}(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",(function e(){r=this;var n=!1,d=!0,p=!1;function h(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}var g,b={},y=!0,w=[],$={string:{encode:h,decode:function(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e},is:function(e){return null==e||!i(e)||"string"==typeof e},pattern:/[^/]*/},int:{encode:h,decode:function(e){return parseInt(e,10)},is:function(e){return i(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){if(this.is(e))return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};function x(e){return o(e)||u(e)&&o(e[e.length-1])}function k(){for(;w.length;){var e=w.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(b[e.name],g.invoke(e.def))}}function T(e){l(this,e||{})}e.$$getDefaultValue=function(e){if(!x(e.value))return e.value;if(!g)throw new Error("Injectable functions cannot be called at configuration time");return g.invoke(e.value)},this.caseInsensitive=function(e){return i(e)&&(n=e),n},this.strictMode=function(e){return i(e)&&(d=e),d},this.defaultSquashPolicy=function(e){if(!i(e))return p;if(!0!==e&&!1!==e&&!a(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return p=e,e},this.compile=function(e,t){return new S(e,l({strict:d,caseInsensitive:n},t))},this.isMatcher=function(e){if(!s(e))return!1;var t=!0;return c(S.prototype,(function(n,r){o(n)&&(t=t&&i(e[r])&&o(e[r]))})),t},this.type=function(e,t,n){if(!i(t))return b[e];if(b.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return b[e]=new E(l({name:e},t)),n&&(w.push({name:e,def:n}),y||k()),this},c($,(function(e,t){b[t]=new E(l({name:t},e))})),b=f(b,{}),this.$get=["$injector",function(e){return g=e,y=!1,k(),c($,(function(e,t){b[t]||(b[t]=new E(e))})),this}],this.Param=function(e,n,r,o){var c=this;r=function(e){var t=s(e)?v(e):[];-1===m(t,"value")&&-1===m(t,"type")&&-1===m(t,"squash")&&-1===m(t,"array")&&(e={value:e});return e.$$fn=x(e.value)?e.value:function(){return e.value},e}(r),n=function(n,r,i){if(n.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r||(n.type?t.isString(n.type)?b[n.type]:n.type instanceof E?n.type:new E(n.type):"config"===i?b.any:b.string)}(r,n,o);var d,f,h=(d={array:"search"===o&&"auto"},f=e.match(/\[\]$/)?{array:!0}:{},l(d,f,r).array);"string"!==(n=h?n.$asArray(h,"search"===o):n).name||h||"path"!==o||void 0!==r.value||(r.value="");var y=void 0!==r.value,w=function(e,t){var n=e.squash;if(!t||!1===n)return!1;if(!i(n)||null==n)return p;if(!0===n||a(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(r,y),$=function(e,t,n,r){var i,o,s=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}];i=u(e.replace)?e.replace:[],a(r)&&i.push({from:r,to:void 0});return o=C(i,(function(e){return e.from})),_(s,(function(e){return-1===m(o,e.from)})).concat(i)}(r,h,y,w);l(this,{id:e,type:n,location:o,array:h,squash:w,replace:$,isOptional:y,value:function(e){return e=function(e){var t,n=C(_(c.replace,(t=e,function(e){return e.from===t})),(function(e){return e.to}));return n.length?n[0]:e}(e),i(e)?c.type.$normalize(e):function(){if(!g)throw new Error("Injectable functions cannot be called at configuration time");var e=g.invoke(r.$$fn);if(null!=e&&!c.type.is(e))throw new Error("Default value ("+e+") for parameter '"+c.id+"' is not an instance of Type ("+c.type.name+")");return e}()},dynamic:void 0,config:r,toString:function(){return"{Param:"+e+" "+n+" squash: '"+w+"' optional: "+y+"}"}})},T.prototype={$$new:function(){return f(this,l(new T,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=v(T.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),c(t,(function(t){c(v(t),(function(t){-1===m(e,t)&&-1===m(r,t)&&e.push(t)}))})),e},$$values:function(e){var t={},n=this;return c(n.$$keys(),(function(r){t[r]=n[r].value(e&&e[r])})),t},$$equals:function(e,t){var n=!0,r=this;return c(r.$$keys(),(function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)})),n},$$validates:function(e){var n,r,i,o,a,s=this.$$keys();for(n=0;n<s.length&&(r=this[s[n]],null!=(i=e[s[n]])||!r.isOptional);n++){if(o=r.type.$normalize(i),!r.type.is(o))return!1;if(a=r.type.encode(o),t.isString(a)&&!r.type.pattern.exec(a))return!1}return!0},$$parent:void 0},this.ParamSet=T})),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),T.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",T),D.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",(function(){return{}})).provider("$state",D),A.$inject=[],t.module("ui.router.state").provider("$view",A),t.module("ui.router.state").provider("$uiViewScroll",(function(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n((function(){e[0].scrollIntoView()}),0,!1)}}]}));var O=t.version.major,P=t.version.minor;function M(e,n,r,i){var o=n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}},a=o("$animator"),s=o("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,u){return function(n,o,c){var l,d,p,f,h=c.onload||"",v=c.autoscroll,m=function(e,n){var r={enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}};if(e.noanimation)return r;function i(e){return 1===O&&P>=4?!!s.enabled(e):1===O&&P>=2?!!s.enabled():!!a}if(s)return{enter:function(e,n,o){i(e)?t.version.minor>2?s.enter(e,null,n).then(o):s.enter(e,null,n,o):r.enter(e,n,o)},leave:function(e,n){i(e)?t.version.minor>2?s.leave(e).then(n):s.leave(e,n):r.leave(e,n)}};if(a){var o=a&&a(n,e);return{enter:function(e,t,n){o.enter(e,null,t),n()},leave:function(e,t){o.leave(e),t()}}}return r}(c,n);function g(a){var s,g=N(n,c,o,i),b=g&&e.$current&&e.$current.locals[g];if((a||b!==f)&&!n._willBeDestroyed){s=n.$new(),f=e.$current.locals[g],s.$emit("$viewContentLoading",g);var y=u(s,(function(e){m.enter(e,o,(function(){p&&p.$emit("$viewContentAnimationEnded"),(t.isDefined(v)&&!v||n.$eval(v))&&r(e)})),function(){var e=l,t=p;function n(){e&&e.remove(),t&&t.$destroy()}t&&(t._willBeDestroyed=!0),d?(m.leave(d,(function(){n(),l=null})),l=d):(n(),l=null),d=null,p=null}()}));d=y,(p=s).$emit("$viewContentLoaded",g),p.$eval(h)}}n.$on("$stateChangeSuccess",(function(){g(!1)})),g(!0)}}}}function R(e,t,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var u=n.$current,c=N(i,s,a,r),l=u&&u.locals[c];if(l){a.data("$uiView",{name:c,state:l.$$state}),a.html(l.$template?l.$template:o);var d=e(a.contents());if(l.$$controller){l.$scope=i,l.$element=a;var p=t(l.$$controller,l);l.$$controllerAs&&(i[l.$$controllerAs]=p),a.data("$ngControllerController",p),a.children().data("$ngControllerController",p)}d(i)}}}}}function N(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function j(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),!(n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function I(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function L(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function U(e,t,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var u=n((function(){t.go(s.state,s.params,s.options)}));o.preventDefault();var c=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&n.cancel(u)}}}}function q(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){var s=j(o.uiSref,e.current.name),u={state:s.state,href:null,params:null},c=L(i),d=a[1]||a[0];u.options=l(function(e,t){return{relative:I(e)||t.$current,inherit:!0}}(i,e),o.uiSrefOpts?r.$eval(o.uiSrefOpts):{});var p=function(n){n&&(u.params=t.copy(n)),u.href=e.href(s.state,u.params,u.options),d&&d.$$addStateInfo(s.state,u.params),null!==u.href&&o.$set(c.attr,u.href)};s.paramExpr&&(r.$watch(s.paramExpr,(function(e){e!==u.params&&p(e)}),!0),u.params=t.copy(r.$eval(s.paramExpr))),p(),c.clickable&&i.bind("click",U(i,e,n,c,(function(){return u})))}}}function F(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,o){var a=L(r),s=o[1]||o[0],u="["+[i.uiState,i.uiStateParams||null,i.uiStateOpts||null].map((function(e){return e||"null"})).join(", ")+"]",c={state:null,params:null,options:null,href:null};function l(t){c.state=t[0],c.params=t[1],c.options=t[2],c.href=e.href(c.state,c.params,c.options),s&&s.$$addStateInfo(c.state,c.params),c.href&&i.$set(a.attr,c.href)}n.$watch(u,l,!0),l(n.$eval(u)),a.clickable&&r.bind("click",U(r,e,t,a,(function(){return c})))}}}function J(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,i,o){var u,l,d=[],f={};u=n(i.uiSrefActiveEq||"",!1)(t);try{l=t.$eval(i.uiSrefActive)}catch(e){}function h(n,i,o){var u=e.get(n,I(r)),c=function(e,n){if(!a(e))throw new Error("state should be a string");if(s(n))return e+p(n);if(n=t.$eval(n),s(n))return e+p(n);return e}(n,i);d.push({state:u||{name:n},params:i,hash:c}),f[c]=o}function v(){for(var t=0;t<d.length;t++)n=d[t].state,i=d[t].params,e.includes(n.name,i)?m(r,f[d[t].hash]):g(r,f[d[t].hash]),b(d[t].state,d[t].params)?m(r,u):g(r,u);var n,i}function m(e,t){o((function(){e.addClass(t)}))}function g(e,t){e.removeClass(t)}function b(t,n){return e.is(t.name,n)}l=l||n(i.uiSrefActive||"",!1)(t),s(l)&&c(l,(function(n,r){if(a(n)){var i=j(n,e.current.name);h(i.state,t.$eval(i.paramExpr),r)}})),this.$$addStateInfo=function(e,t){s(l)&&d.length>0||(h(e,t,l),v())},t.$on("$stateChangeSuccess",v),v()}]}}function V(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function z(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}M.$inject=["$state","$injector","$uiViewScroll","$interpolate"],R.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",M),t.module("ui.router.state").directive("uiView",R),q.$inject=["$state","$timeout"],F.$inject=["$state","$timeout"],J.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",q).directive("uiSrefActive",J).directive("uiSrefActiveEq",J).directive("uiState",F),V.$inject=["$state"],z.$inject=["$state"],t.module("ui.router.state").filter("isState",V).filter("includedByState",z)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(e,t){var n=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,r,i){function o(){r.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function a(){r.css({height:"0"}),r.removeClass("collapsing").addClass("collapse")}t.$watch(i.uibCollapse,(function(t){t?function(){if(!r.hasClass("collapse")&&!r.hasClass("in"))return a();r.css({height:r[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),n?n(r,{removeClass:"in",to:{height:"0"}}).start().finally(a):e.removeClass(r,"in",{to:{height:"0"}}).then(a)}():(r.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),n?n(r,{addClass:"in",easing:"ease",to:{height:r[0].scrollHeight+"px"}}).start().finally(o):e.addClass(r,"in",{to:{height:r[0].scrollHeight+"px"}}).then(o))}))}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(e,t,n,r){var i=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,o,a){function s(){o.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function u(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse")}r||n.warn("collapse is now deprecated. Use uib-collapse instead."),t.$watch(a.collapse,(function(t){t?function(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return u();o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{to:{height:"0"}}).start().done(u):e.animate(o,{},{height:"0"}).then(u)}():(o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start().done(s):e.animate(o,{},{height:o[0].scrollHeight+"px"}).then(s))}))}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,(function(e){e!==r&&(e.isOpen=!1)}))},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",(function(n){t.removeGroup(e)}))},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",(function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}})).directive("uibAccordionGroup",(function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",(function(n){t.toggleClass(e.openClass,!!n),n&&r.closeOthers(e)})),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}})).directive("uibAccordionHeading",(function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}})).directive("uibAccordionTransclude",(function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(e,t,n,r){r=r[0]?r[0]:r[1],e.$watch((function(){return r[n.uibAccordionTransclude]}),(function(e){e&&(t.find("span").html(""),t.find("span").append(e))}))}}})),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(e,t,n,r,i){i||r.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,n("UibAccordionController",{$scope:e,$attrs:t}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"},link:function(){t||e.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(n,r,i,o){t||e.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),o.addGroup(n),n.openClass=i.openClass||"panel-open",n.panelClass=i.panelClass,n.$watch("isOpen",(function(e){r.toggleClass(n.openClass,!!e),e&&o.closeOthers(n)})),n.toggleOpen=function(e){n.isDisabled||e&&32!==e.which||(n.isOpen=!n.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,r,i,o,a){t||e.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),o.setHeading(a(n,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(e,t){return{require:"^accordionGroup",link:function(n,r,i,o){t||e.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),n.$watch((function(){return o[i.accordionTransclude]}),(function(e){e&&(r.find("span").html(""),r.find("span").append(e))}))}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,r){e.closeable=!!t.close;var i=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;i&&r((function(){e.close()}),parseInt(i,10))}]).directive("uibAlert",(function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}})),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,t,n,r,i){i||r.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,n("UibAlertController",{$scope:e,$attrs:t}))}]).directive("alert",["$log","$alertSuppressWarning",function(e,t){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){t||e.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",(function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,t,n,r){var i=r[0],o=r[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.uibBtnRadio)))},t.on(i.toggleEvent,(function(){if(!n.disabled){var r=t.hasClass(i.activeClass);r&&!angular.isDefined(n.uncheckable)||e.$apply((function(){o.$setViewValue(r?null:e.$eval(n.uibBtnRadio)),o.$render()}))}}))}}})).directive("uibBtnCheckbox",(function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,r){var i=r[0],o=r[1];function a(){return s(n.btnCheckboxTrue,!0)}function s(t,n){return angular.isDefined(t)?e.$eval(t):n}t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,a()))},t.on(i.toggleEvent,(function(){n.disabled||e.$apply((function(){o.$setViewValue(t.hasClass(i.activeClass)?s(n.btnCheckboxFalse,!1):a()),o.$render()}))}))}}})),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,t,n){n||t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,e("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(e,t){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(n,r,i,o){t||e.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var a=o[0],s=o[1];r.find("input").css({display:"none"}),s.$render=function(){r.toggleClass(a.activeClass,angular.equals(s.$modelValue,n.$eval(i.btnRadio)))},r.bind(a.toggleEvent,(function(){if(!i.disabled){var e=r.hasClass(a.activeClass);e&&!angular.isDefined(i.uncheckable)||n.$apply((function(){s.$setViewValue(e?null:n.$eval(i.btnRadio)),s.$render()}))}}))}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(e,t,n){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(r,i,o,a){n||t.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var s=a[0],u=a[1];function c(){return d(o.btnCheckboxTrue,!0)}function l(){return d(o.btnCheckboxFalse,!1)}function d(e,t){var n=r.$eval(e);return angular.isDefined(n)?n:t}i.find("input").css({display:"none"}),u.$render=function(){i.toggleClass(s.activeClass,angular.equals(u.$modelValue,c()))},i.bind(s.toggleEvent,(function(){o.disabled||r.$apply((function(){u.$setViewValue(i.hasClass(s.activeClass)?l():c()),u.$render()}))})),i.on("keypress",(function(t){o.disabled||32!==t.which||e[0].activeElement!==i[0]||r.$apply((function(){u.$setViewValue(i.hasClass(s.activeClass)?l():c()),u.$render()}))}))}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(e,t,n,r){var i,o,a=this,s=a.slides=e.slides=[],u=angular.version.minor>=4,c=-1;a.currentSlide=null;var l=!1;function d(e){if(angular.isUndefined(s[e].index))return s[e];var t;s.length;for(t=0;t<s.length;++t)if(s[t].index==e)return s[t]}function p(){f();var t=+e.interval;!isNaN(t)&&t>0&&(i=n(h,t))}function f(){i&&(n.cancel(i),i=null)}function h(){var t=+e.interval;o&&!isNaN(t)&&t>0&&s.length?e.next():e.pause()}a.select=e.select=function(t,n){var i=e.indexOfSlide(t);void 0===n&&(n=i>a.getCurrentIndex()?"next":"prev"),t&&t!==a.currentSlide&&!e.$currentTransition&&function(t,n,i){if(l)return;angular.extend(t,{direction:i,active:!0}),angular.extend(a.currentSlide||{},{direction:i,active:!1}),r.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&a.slides.length>1&&(t.$element.data("uib-slideDirection",t.direction),a.currentSlide&&a.currentSlide.$element&&a.currentSlide.$element.data("uib-slideDirection",t.direction),e.$currentTransition=!0,u?r.on("addClass",t.$element,(function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))})):t.$element.one("$animate:close",(function(){e.$currentTransition=null})));a.currentSlide=t,c=n,p()}(t,i,n)},e.$on("$destroy",(function(){l=!0})),a.getCurrentIndex=function(){return a.currentSlide&&angular.isDefined(a.currentSlide.index)?+a.currentSlide.index:c},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:s.indexOf(e)},e.next=function(){var t=(a.getCurrentIndex()+1)%s.length;if(0!==t||!e.noWrap())return a.select(d(t),"next");e.pause()},e.prev=function(){var t=a.getCurrentIndex()-1<0?s.length-1:a.getCurrentIndex()-1;if(!e.noWrap()||t!==s.length-1)return a.select(d(t),"prev");e.pause()},e.isActive=function(e){return a.currentSlide===e},e.$watch("interval",p),e.$watchCollection("slides",(function(t){t.length||(e.$currentTransition=null)})),e.$on("$destroy",f),e.play=function(){o||(o=!0,p())},e.pause=function(){e.noPause||(o=!1,f())},a.addSlide=function(t,n){t.$element=n,s.push(t),1===s.length||t.active?(a.select(s[s.length-1]),1===s.length&&e.play()):t.active=!1},a.removeSlide=function(e){angular.isDefined(e.index)&&s.sort((function(e,t){return+e.index>+t.index}));var t=s.indexOf(e);s.splice(t,1),s.length>0&&e.active?t>=s.length?a.select(s[t-1]):a.select(s[t]):c>t&&c--,0===s.length&&(a.currentSlide=null)},e.$watch("noTransition",(function(e){t.data("uib-noTransition",e)}))}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",(function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",(function(){r.removeSlide(e)})),e.$watch("active",(function(t){t&&r.select(e)}))}}})).animation(".item",["$injector","$animate",function(e,t){var n=null;function r(e,t,n){e.removeClass(t),n&&n()}return e.has("$animateCss")&&(n=e.get("$animateCss")),{beforeAddClass:function(e,i,o){if("active"==i&&e.parent()&&e.parent().parent()&&!e.parent().parent().data("uib-noTransition")){var a=!1,s=e.data("uib-slideDirection"),u="next"==s?"left":"right",c=r.bind(this,e,u+" "+s,o);return e.addClass(s),n?n(e,{addClass:u}).start().done(c):t.addClass(e,u).then((function(){a||c(),o()})),function(){a=!0}}o()},beforeRemoveClass:function(e,i,o){if("active"===i&&e.parent()&&e.parent().parent()&&!e.parent().parent().data("uib-noTransition")){var a=!1,s="next"==e.data("uib-slideDirection")?"left":"right",u=r.bind(this,e,s,o);return n?n(e,{addClass:s}).start().done(u):t.addClass(e,s).then((function(){a||u(),o()})),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(e,t,n,r,i){i||r.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,n("UibCarouselController",{$scope:e,$element:t}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(e,t){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){t||e.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(e,t){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(n,r,i,o){t||e.warn("slide is now deprecated. Use uib-slide instead."),o.addSlide(n,r),n.$on("$destroy",(function(){o.removeSlide(n)})),n.$watch("active",(function(e){e&&o.select(n)}))}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(e,t,n){var r,i,o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){r=t.id,this.parsers={},i={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}}},this.init(),this.parse=function(a,s,u){if(!angular.isString(a)||!s)return a;s=(s=t.DATETIME_FORMATS[s]||s).replace(o,"\\$&"),t.id!==r&&this.init(),this.parsers[s]||(this.parsers[s]=function(e){var t=[],r=e.split("");return angular.forEach(i,(function(n,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),r[o]="("+n.regex+")",e[o]="$";for(var a=o+1,s=o+i.length;a<s;a++)r[a]="",e[a]="$";e=e.join(""),t.push({index:o,apply:n.apply})}})),{regex:new RegExp("^"+r.join("")+"$"),map:n(t,"index")}}(s));var c=this.parsers[s],l=c.regex,d=c.map,p=a.match(l);if(p&&p.length){var f,h;angular.isDate(u)&&!isNaN(u.getTime())?f={year:u.getFullYear(),month:u.getMonth(),date:u.getDate(),hours:u.getHours(),minutes:u.getMinutes(),seconds:u.getSeconds(),milliseconds:u.getMilliseconds()}:(u&&e.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var v=1,m=p.length;v<m;v++){var g=d[v-1];g.apply&&g.apply.call(f,p[v])}return function(e,t,n){if(n<1)return!1;if(1===t&&n>28)return 29===n&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return n<31;return!0}(f.year,f.month,f.date)&&(angular.isDate(u)&&!isNaN(u.getTime())?(h=new Date(u)).setFullYear(f.year,f.month,f.date,f.hours,f.minutes,f.seconds,f.milliseconds||0):h=new Date(f.year,f.month,f.date,f.hours,f.minutes,f.seconds,f.milliseconds||0)),h}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(e,t,n){t||e.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){function n(e){return"static"===(r="position",((n=e).currentStyle?n.currentStyle[r]:t.getComputedStyle?t.getComputedStyle(n)[r]:n.style[r])||"static");var n,r}return{position:function(t){var r=this.offset(t),i={top:0,left:0},o=function(t){for(var r=e[0],i=t.offsetParent||r;i&&i!==r&&n(i);)i=i.offsetParent;return i||r}(t[0]);o!=e[0]&&((i=this.offset(angular.element(o))).top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:r.top-i.top,left:r.left-i.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,r){var i,o,a,s,u=n.split("-"),c=u[0],l=u[1]||"center";i=r?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[l](),left:d[c]()};break;case"left":s={top:p[l](),left:i.left-o};break;case"bottom":s={top:p[c](),left:d[l]()};break;default:s={top:i.top-a,left:d[l]()}}return s}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(e,t,n,r,i,o,a,s){var u=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],(function(n,i){u[n]=angular.isDefined(t[n])?i<6?r(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]})),angular.forEach(["minDate","maxDate"],(function(r){t[r]?e.$parent.$watch(n(t[r]),(function(e){u[r]=e?new Date(e):null,u.refreshView()})):u[r]=a[r]?new Date(a[r]):null})),angular.forEach(["minMode","maxMode"],(function(r){t[r]?e.$parent.$watch(n(t[r]),(function(n){u[r]=angular.isDefined(n)?n:t[r],e[r]=u[r],("minMode"==r&&u.modes.indexOf(e.datepickerMode)<u.modes.indexOf(u[r])||"maxMode"==r&&u.modes.indexOf(e.datepickerMode)>u.modes.indexOf(u[r]))&&(e.datepickerMode=u[r])})):(u[r]=a[r]||null,e[r]=u[r])})),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,(function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(u.activeDate=e,u.refreshView())}))):this.activeDate=new Date,e.isActive=function(t){return 0===u.compare(t.date,u.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){(c=e).$render=function(){u.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue);!isNaN(e)?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===u.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else u.activeDate=t,e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=u.activeDate.getFullYear()+e*(u.step.years||0),n=u.activeDate.getMonth()+e*(u.step.months||0);u.activeDate.setFullYear(t,n,1),u.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===u.maxMode&&1===t||e.datepickerMode===u.minMode&&-1===t||(e.datepickerMode=u.modes[u.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};e.$on("uib:datepicker.focus",(function(){u.element[0].focus()})),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),u.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;e.select(u.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,t),u.refreshView()):e.toggleMode("up"===n?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){var r=[31,28,31,30,31,30,31,31,30,31,30,31];function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?r[t]:29}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;o<t;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),i=new Date(this.activeDate);i.setFullYear(t,r,1);var a=this.startingDay-i.getDay(),s=a>0?7-a:-a,u=new Date(i);s>0&&u.setDate(1-s);for(var c=this.getDates(u,42),l=0;l<42;l++)c[l]=angular.extend(this.createDateObject(c[l],this.formatDay),{secondary:c[l].getMonth()!==r,uid:e.uniqueId+"-"+l});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(c[d].date,this.formatDayHeader),full:n(c[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,f=e.rows.length,h=0;h<f;h++)e.weekNumbers.push(o(e.rows[h][p].date))}},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),o=0;o<12;o++)(t=new Date(this.activeDate)).setFullYear(i,o,1),r[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,3)},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){var r;function i(e){return parseInt((e-1)/r,10)*r+1}this.element=t,this.yearpickerInit=function(){r=this.yearRange,this.step={years:r}},this._refreshView=function(){for(var t,n=new Array(r),o=0,a=i(this.activeDate.getFullYear());o<r;o++)(t=new Date(this.activeDate)).setFullYear(a+o,0,1),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[r-1].label].join(" - "),e.rows=this.split(n,5)},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*this.step.years:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",(function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}})).directive("uibDaypicker",(function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0]||r[2];r[1].init(i)}}})).directive("uibMonthpicker",(function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0]||r[2];r[1].init(i)}}})).directive("uibYearpicker",(function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0]||r[2];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}})).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(e,t,n,r,i,o,a,s,u,c,l,d){var p,f,h,v,m,g,b,y,w,$,_={},C=!1;function x(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}function k(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var n=c.parse(t,p,e.date);return isNaN(n)?void 0:n}}function S(e,t){var r=e||t;if(!n.ngRequired&&!r)return!0;if(angular.isNumber(r)&&(r=new Date(r)),r){if(angular.isDate(r)&&!isNaN(r))return!0;if(angular.isString(r)){var i=c.parse(r,p);return!isNaN(i)}return!1}return!0}function E(n){var r=$[0],i=t[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||o||e.$apply((function(){e.isOpen=!1}))}function T(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!1})),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!0})))}e.watchData={},this.init=function(s){if(w=s,f=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):l.closeOnDateSelection,h=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):l.appendToBody,v=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):l.onOpenFocus,m=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:l.datepickerPopupTemplateUrl,g=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:l.datepickerTemplateUrl,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):l.showButtonBar,l.html5Types[n.type]?(p=l.html5Types[n.type],C=!0):(p=n.datepickerPopup||n.uibDatepickerPopup||l.datepickerPopup,n.$observe("uibDatepickerPopup",(function(e,t){var n=e||l.datepickerPopup;if(n!==p&&(p=n,w.$modelValue=null,!p))throw new Error("uibDatepickerPopup must have a date format specified.")}))),!p)throw new Error("uibDatepickerPopup must have a date format specified.");if(C&&n.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if((b=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":m}),(y=angular.element(b.children()[0])).attr("template-url",g),C&&"month"===n.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),n.datepickerOptions){var d=e.$parent.$eval(n.datepickerOptions);d&&d.initDate&&(e.initDate=d.initDate,y.attr("init-date","initDate"),delete d.initDate),angular.forEach(d,(function(e,t){y.attr(x(t),e)}))}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],(function(t){if(n[t]){var r=i(n[t]);if(e.$parent.$watch(r,(function(n){e.watchData[t]=n,"minDate"!==t&&"maxDate"!==t||(_[t]=new Date(n))})),y.attr(x(t),"watchData."+t),"datepickerMode"===t){var o=r.assign;e.$watch("watchData."+t,(function(t,n){angular.isFunction(o)&&t!==n&&o(e.$parent,t)}))}}})),n.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),n.showWeeks&&y.attr("show-weeks",n.showWeeks),n.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),C?w.$formatters.push((function(t){return e.date=t,t})):(w.$$parserName="date",w.$validators.date=S,w.$parsers.unshift(k),w.$formatters.push((function(t){return e.date=t,w.$isEmpty(t)?t:u(t,p)}))),w.$viewChangeListeners.push((function(){e.date=c.parse(w.$viewValue,p,e.date)})),t.bind("keydown",T),$=r(b)(e),b.remove(),h?o.find("body").append($):t.after($),e.$on("$destroy",(function(){!0===e.isOpen&&(a.$$phase||e.$apply((function(){e.isOpen=!1}))),$.remove(),t.unbind("keydown",T),o.unbind("click",E)}))},e.getText=function(t){return e[t+"Text"]||l[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,_.minDate)<0||e.watchData.maxDate&&e.compare(t,_.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var r=e.date?u(e.date,p):null;t.val(r),w.$setViewValue(r),f&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(e.isOpen=!1,t[0].focus())},e.select=function(t){if("today"===t){var n=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(n.getFullYear(),n.getMonth(),n.getDate()):t=new Date(n.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(){e.isOpen=!1,t[0].focus()},e.$watch("isOpen",(function(n){n?(e.position=h?s.offset(t):s.position(t),e.position.top=e.position.top+t.prop("offsetHeight"),d((function(){v&&e.$broadcast("uib:datepicker.focus"),o.bind("click",E)}),0,!1)):o.unbind("click",E)}))}]).directive("uibDatepickerPopup",(function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,r){var i=r[0];r[1].init(i)}}})).directive("uibDatepickerPopupWrap",(function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}})),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(e,t,n,r,i,o,a,s,u){u||i.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var c=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],(function(n,i){c[n]=angular.isDefined(t[n])?i<6?r(t[n])(e.$parent):e.$parent.$eval(t[n]):a[n]})),angular.forEach(["minDate","maxDate"],(function(r){t[r]?e.$parent.$watch(n(t[r]),(function(e){c[r]=e?new Date(e):null,c.refreshView()})):c[r]=a[r]?new Date(a[r]):null})),angular.forEach(["minMode","maxMode"],(function(r){t[r]?e.$parent.$watch(n(t[r]),(function(n){c[r]=angular.isDefined(n)?n:t[r],e[r]=c[r],("minMode"==r&&c.modes.indexOf(e.datepickerMode)<c.modes.indexOf(c[r])||"maxMode"==r&&c.modes.indexOf(e.datepickerMode)>c.modes.indexOf(c[r]))&&(e.datepickerMode=c[r])})):(c[r]=a[r]||null,e[r]=c[r])})),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,(function(e){e&&(l.$isEmpty(l.$modelValue)||l.$invalid)&&(c.activeDate=e,c.refreshView())}))):this.activeDate=new Date,e.isActive=function(t){return 0===c.compare(t.date,c.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){(l=e).$render=function(){c.render()}},this.render=function(){if(l.$viewValue){var e=new Date(l.$viewValue);!isNaN(e)?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=l.$viewValue?new Date(l.$viewValue):null;l.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=l.$viewValue?new Date(l.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===c.minMode){var n=l.$viewValue?new Date(l.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),l.$setViewValue(n),l.$render()}else c.activeDate=t,e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=c.activeDate.getFullYear()+e*(c.step.years||0),n=c.activeDate.getMonth()+e*(c.step.months||0);c.activeDate.setFullYear(t,n,1),c.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===c.maxMode&&1===t||e.datepickerMode===c.minMode&&-1===t||(e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};e.$on("uib:datepicker.focus",(function(){c.element[0].focus()})),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),c.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(c.isDisabled(c.activeDate))return;e.select(c.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(c.handleKeyDown(n,t),c.refreshView()):e.toggleMode("up"===n?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(n,r,i,o){t||e.warn("datepicker is now deprecated. Use uib-datepicker instead.");var a=o[0],s=o[1];a.init(s)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(n,r,i,o){t||e.warn("daypicker is now deprecated. Use uib-daypicker instead.");var a=o[0];o[1].init(a)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(n,r,i,o){t||e.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var a=o[0];o[1].init(a)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(n,r,i,o){t||e.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var a=o[0];angular.extend(a,o[1]),a.yearpickerInit(),a.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(e,t){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(n,r,i,o){t||e.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var a=o[0];o[1].init(a)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"},link:function(){t||e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",r),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",r),e.unbind("keydown",i))};var r=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),r()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,r,i,o,a,s,u,c,l){var d,p,f=this,h=e.$new(),v=i.openClass,m=angular.noop,g=n.onToggle?r(n.onToggle):angular.noop,b=!1,y=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(p=r(n.isOpen),m=p.assign,e.$watch(p,(function(e){h.isOpen=!!e}))),b=angular.isDefined(n.dropdownAppendToBody),y=angular.isDefined(n.uibKeyboardNav),b&&f.dropdownMenu&&(u.find("body").append(f.dropdownMenu),t.on("$destroy",(function(){f.dropdownMenu.remove()})))},this.toggle=function(e){return h.isOpen=arguments.length?!!e:!h.isOpen},this.isOpen=function(){return h.isOpen},h.getToggleElement=function(){return f.toggleElement},h.getAutoClose=function(){return n.autoClose||"always"},h.getElement=function(){return t},h.isKeynavEnabled=function(){return y},h.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},h.getDropdownElement=function(){return f.dropdownMenu},h.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},h.$watch("isOpen",(function(n,r){if(b&&f.dropdownMenu){var i=s.positionElements(t,f.dropdownMenu,"bottom-left",!0),u={top:i.top+"px",display:n?"block":"none"};f.dropdownMenu.hasClass("dropdown-menu-right")?(u.left="auto",u.right=window.innerWidth-(i.left+t.prop("offsetWidth"))+"px"):(u.left=i.left+"px",u.right="auto"),f.dropdownMenu.css(u)}if(a[n?"addClass":"removeClass"](t,v).then((function(){angular.isDefined(n)&&n!==r&&g(e,{open:!!n})})),n)f.dropdownMenuTemplateUrl&&l(f.dropdownMenuTemplateUrl).then((function(e){d=h.$new(),c(e.trim())(d,(function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t}))})),h.focusToggleElement(),o.open(h);else{if(f.dropdownMenuTemplateUrl){d&&d.$destroy();var p=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(p),f.dropdownMenu=p}o.close(h),f.selectedOption=null}angular.isFunction(m)&&m(e,n)})),e.$on("$locationChangeSuccess",(function(){"disabled"!==h.getAutoClose()&&(h.isOpen=!1)}));var w=e.$on("$destroy",(function(){h.$destroy()}));h.$on("$destroy",w)}]).directive("uibDropdown",(function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}})).directive("uibDropdownMenu",(function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,t,n,r){if(r&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}})).directive("uibKeyboardNav",(function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){t.bind("keydown",(function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=r.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(r.selectedOption)?r.selectedOption=r.selectedOption===t.length-1?r.selectedOption:r.selectedOption+1:r.selectedOption=0;break;case 38:angular.isNumber(r.selectedOption)?r.selectedOption=0===r.selectedOption?0:r.selectedOption-1:r.selectedOption=t.length-1}t[r.selectedOption].focus()}}))}}})).directive("uibDropdownToggle",(function(){return{require:"?^uibDropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply((function(){r.toggle()}))};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,(function(e){t.attr("aria-expanded",!!e)})),e.$on("$destroy",(function(){t.unbind("click",i)}))}}}})),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,t,n){t||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,n)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(e,t,n,r,i,o,a,s,u,c,l,d,p){p||d.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var f,h,v=this,m=e.$new(),g=i.openClass,b=angular.noop,y=n.onToggle?r(n.onToggle):angular.noop,w=!1,$=!1;t.addClass("dropdown"),this.init=function(){n.isOpen&&(h=r(n.isOpen),b=h.assign,e.$watch(h,(function(e){m.isOpen=!!e}))),w=angular.isDefined(n.dropdownAppendToBody),$=angular.isDefined(n.uibKeyboardNav),w&&v.dropdownMenu&&(u.find("body").append(v.dropdownMenu),t.on("$destroy",(function(){v.dropdownMenu.remove()})))},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return v.toggleElement},m.getAutoClose=function(){return n.autoClose||"always"},m.getElement=function(){return t},m.isKeynavEnabled=function(){return $},m.focusDropdownEntry=function(e){var n=v.dropdownMenu?angular.element(v.dropdownMenu).find("a"):angular.element(t).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(v.selectedOption)?v.selectedOption=v.selectedOption===n.length-1?v.selectedOption:v.selectedOption+1:v.selectedOption=0;break;case 38:angular.isNumber(v.selectedOption)?v.selectedOption=0===v.selectedOption?0:v.selectedOption-1:v.selectedOption=n.length-1}n[v.selectedOption].focus()},m.getDropdownElement=function(){return v.dropdownMenu},m.focusToggleElement=function(){v.toggleElement&&v.toggleElement[0].focus()},m.$watch("isOpen",(function(n,r){if(w&&v.dropdownMenu){var i=s.positionElements(t,v.dropdownMenu,"bottom-left",!0),u={top:i.top+"px",display:n?"block":"none"};v.dropdownMenu.hasClass("dropdown-menu-right")?(u.left="auto",u.right=window.innerWidth-(i.left+t.prop("offsetWidth"))+"px"):(u.left=i.left+"px",u.right="auto"),v.dropdownMenu.css(u)}if(a[n?"addClass":"removeClass"](t,g).then((function(){angular.isDefined(n)&&n!==r&&y(e,{open:!!n})})),n)v.dropdownMenuTemplateUrl&&l(v.dropdownMenuTemplateUrl).then((function(e){f=m.$new(),c(e.trim())(f,(function(e){var t=e;v.dropdownMenu.replaceWith(t),v.dropdownMenu=t}))})),m.focusToggleElement(),o.open(m);else{if(v.dropdownMenuTemplateUrl){f&&f.$destroy();var d=angular.element('<ul class="dropdown-menu"></ul>');v.dropdownMenu.replaceWith(d),v.dropdownMenu=d}o.close(m),v.selectedOption=null}angular.isFunction(b)&&b(e,n)})),e.$on("$locationChangeSuccess",(function(){"disabled"!==m.getAutoClose()&&(m.isOpen=!1)}));var _=e.$on("$destroy",(function(){m.$destroy()}));m.$on("$destroy",_)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(e,t){return{controller:"DropdownController",link:function(n,r,i,o){t||e.warn("dropdown is now deprecated. Use uib-dropdown instead."),o.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"AC",require:"?^dropdown",link:function(n,r,i,o){if(o&&!angular.isDefined(i.dropdownNested)){t||e.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),r.addClass("dropdown-menu");var a=i.templateUrl;a&&(o.dropdownMenuTemplateUrl=a),o.dropdownMenu||(o.dropdownMenu=r)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(e,t){return{restrict:"A",require:"?^dropdown",link:function(n,r,i,o){t||e.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),r.bind("keydown",(function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=o.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(o.selectedOption)?o.selectedOption=o.selectedOption===t.length-1?o.selectedOption:o.selectedOption+1:o.selectedOption=0;break;case 38:angular.isNumber(o.selectedOption)?o.selectedOption=0===o.selectedOption?0:o.selectedOption-1:o.selectedOption=t.length-1}t[o.selectedOption].focus()}}))}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(e,t){return{require:"?^dropdown",link:function(n,r,i,o){if(t||e.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),o){r.addClass("dropdown-toggle"),o.toggleElement=r;var a=function(e){e.preventDefault(),r.hasClass("disabled")||i.disabled||n.$apply((function(){o.toggle()}))};r.bind("click",a),r.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(o.isOpen,(function(e){r.attr("aria-expanded",!!e)})),n.$on("$destroy",(function(){r.unbind("click",a)}))}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",(function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t==e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}})),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",(function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}})).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){var r=null;return t.has("$animateCss")&&(r=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}};function i(t,i,o){i.addClass("modal-backdrop"),o.modalInClass&&(r?r(i,{addClass:o.modalInClass}).start():e.addClass(i,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,(function(t,n){var a=n();r?r(i,{removeClass:o.modalInClass}).start().then(a):e.removeClass(i,o.modalInClass).then(a)})))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(e,t,n,r){var i=null;return r.has("$animateCss")&&(i=r.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowClass||""),o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=t.defer();a.$observe("modalRender",(function(e){"true"==e&&s.resolve()})),s.promise.then((function(){var s=null;a.modalInClass&&(s=i?i(o,{addClass:a.modalInClass}).start():n.addClass(o,a.modalInClass),r.$on(e.NOW_CLOSING_EVENT,(function(e,t){var r=t();i?i(o,{removeClass:a.modalInClass}).start().then(r):n.removeClass(o,a.modalInClass).then(r)}))),t.when(s).then((function(){var e=o[0].querySelector("[autofocus]");e?e.focus():o[0].focus()}));var u=e.getTop();u&&e.modalRendered(u.key)}))}}}]).directive("uibModalAnimationClass",(function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}})).directive("uibModalTransclude",(function(){return{link:function(e,t,n,r,i){i(e.$parent,(function(e){t.empty(),t.append(e)}))}}})).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,r,i,o,a,s,u){var c=null;a.has("$animateCss")&&(c=a.get("$animateCss"));var l,d,p,f=u.createNew(),h=s.createNew(),v={NOW_CLOSING_EVENT:"modal.stack.now-closing"};function m(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function g(e,t){var r=n.find("body").eq(0),i=f.get(e).value;f.remove(e),y(i.modalDomEl,i.modalScope,(function(){var t=i.openedClass||"modal-open";h.remove(t,e),r.toggleClass(t,h.hasKey(t)),b(!0)})),function(){if(l&&-1==m()){y(l,d,(function(){null})),l=void 0,d=void 0}}(),t&&t.focus?t.focus():r.focus()}function b(e){var t;f.length()>0&&(t=f.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function y(t,n,r){var i,a=null;return n.$broadcast(v.NOW_CLOSING_EVENT,(function(){return i||(i=o.defer(),a=i.promise),function(){i.resolve()}})),o.when(a).then((function i(){if(i.done)return;i.done=!0,c?c(t,{event:"leave"}).start().then((function(){t.remove()})):e.leave(t);n.$destroy(),r&&r()}))}function w(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}return i.$watch(m,(function(e){d&&(d.index=e)})),n.bind("keydown",(function(e){if(e.isDefaultPrevented())return e;var t=f.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply((function(){v.dismiss(t.key,"escape key press")}));break;case 9:v.loadFocusElementList(t);var n=!1;e.shiftKey?v.isFocusInFirstItem(e)&&(n=v.focusLastFocusableElement()):v.isFocusInLastItem(e)&&(n=v.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}})),v.open=function(e,t){var o=n[0].activeElement,a=t.openedClass||"modal-open";b(!1),f.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass}),h.put(a,e);var s=n.find("body").eq(0),u=m();if(u>=0&&!l){(d=i.$new(!0)).index=u;var c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');c.attr("backdrop-class",t.backdropClass),t.animation&&c.attr("modal-animation","true"),l=r(c)(d),s.append(l)}var p=angular.element('<div uib-modal-window="modal-window"></div>');p.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,"window-top-class":t.windowTopClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content),t.animation&&p.attr("modal-animation","true");var g=r(p)(t.scope);f.top().value.modalDomEl=g,f.top().value.modalOpener=o,s.append(g),s.addClass(a),v.clearFocusListCache()},v.close=function(e,t){var n=f.get(e);return n&&w(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),g(e,n.value.modalOpener),!0):!n},v.dismiss=function(e,t){var n=f.get(e);return n&&w(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),g(e,n.value.modalOpener),!0):!n},v.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},v.getTop=function(){return f.top()},v.modalRendered=function(e){var t=f.get(e);t&&t.value.renderDeferred.resolve()},v.focusFirstFocusableElement=function(){return p.length>0&&(p[0].focus(),!0)},v.focusLastFocusableElement=function(){return p.length>0&&(p[p.length-1].focus(),!0)},v.isFocusInFirstItem=function(e){return p.length>0&&(e.target||e.srcElement)==p[0]},v.isFocusInLastItem=function(e){return p.length>0&&(e.target||e.srcElement)==p[p.length-1]},v.clearFocusListCache=function(){p=[],0},v.loadFocusElementList=function(e){if((void 0===p||!p.length)&&e){var t=e.value.modalDomEl;t&&t.length&&(p=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"))}},v}]).provider("$uibModal",(function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(t,n,r,i,o,a,s,u){var c={};var l=null;return c.getPromiseChain=function(){return l},c.open=function(c){var d=r.defer(),p=r.defer(),f=r.defer(),h={result:d.promise,opened:p.promise,rendered:f.promise,close:function(e){return a.close(h,e)},dismiss:function(e){return a.dismiss(h,e)}};if((c=angular.extend({},e.options,c)).resolve=c.resolve||{},!c.template&&!c.templateUrl)throw new Error("One of template or templateUrl options is required.");var v,m,g,b,y=r.all([(g=c,g.template?r.when(g.template):i(angular.isFunction(g.templateUrl)?g.templateUrl():g.templateUrl))].concat((v=c.resolve,m=[],angular.forEach(v,(function(e){angular.isFunction(e)||angular.isArray(e)?m.push(r.when(t.invoke(e))):angular.isString(e)?m.push(r.when(t.get(e))):m.push(r.when(e))})),m)));function w(){return y}return b=l=r.all([l]).then(w,w).then((function(e){var t=(c.scope||n).$new();t.$close=h.close,t.$dismiss=h.dismiss,t.$on("$destroy",(function(){t.$$uibDestructionScheduled||t.$dismiss("$uibUnscheduledDestruction")}));var r,i={},l=1;c.controller&&(i.$scope=t,i.$uibModalInstance=h,Object.defineProperty(i,"$modalInstance",{get:function(){return s||u.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),h}}),angular.forEach(c.resolve,(function(t,n){i[n]=e[l++]})),r=o(c.controller,i),c.controllerAs&&(c.bindToController&&angular.extend(r,t),t[c.controllerAs]=r)),a.open(h,{scope:t,deferred:d,renderDeferred:f,content:e[0],animation:c.animation,backdrop:c.backdrop,keyboard:c.keyboard,backdropClass:c.backdropClass,windowTopClass:c.windowTopClass,windowClass:c.windowClass,windowTemplateUrl:c.windowTemplateUrl,size:c.size,openedClass:c.openedClass}),p.resolve(!0)}),(function(e){p.reject(e),d.reject(e)})).finally((function(){l===b&&(l=null)})),h},c}]};return e})),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(e,t,n,r,i){var o=null;return t.has("$animateCss")&&(o=t.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}};function a(t,a,s){i||r.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),a.addClass("modal-backdrop"),s.modalInClass&&(o?o(a,{addClass:s.modalInClass}).start():e.addClass(a,s.modalInClass),t.$on(n.NOW_CLOSING_EVENT,(function(t,n){var r=n();o?o(a,{removeClass:s.modalInClass}).start().then(r):e.removeClass(a,s.modalInClass).then(r)})))}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(e,t,n,r,i,o){var a=null;return r.has("$animateCss")&&(a=r.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(r,s,u){o||i.warn("modal-window is now deprecated. Use uib-modal-window instead."),s.addClass(u.windowClass||""),s.addClass(u.windowTopClass||""),r.size=u.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},s.on("click",r.close),r.$isRendered=!0;var c=t.defer();u.$observe("modalRender",(function(e){"true"==e&&c.resolve()})),c.promise.then((function(){var i=null;u.modalInClass&&(i=a?a(s,{addClass:u.modalInClass}).start():n.addClass(s,u.modalInClass),r.$on(e.NOW_CLOSING_EVENT,(function(e,t){var r=t();a?a(s,{removeClass:u.modalInClass}).start().then(r):n.removeClass(s,u.modalInClass).then(r)}))),t.when(i).then((function(){var e=s[0].querySelector("[autofocus]");e?e.focus():s[0].focus()}));var o=e.getTop();o&&e.modalRendered(o.key)}))}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(e,t){return{compile:function(n,r){t||e.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),r.modalAnimation&&n.addClass(r.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(e,t){return{link:function(n,r,i,o,a){t||e.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),a(n.$parent,(function(e){r.empty(),r.append(e)}))}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,t,n,r,i,o,a,s,u,c,l,d){d||l.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,c)}]).provider("$modal",["$uibModalProvider",function(e){angular.extend(this,e),this.$get=["$injector","$log","$modalSuppressWarning",function(t,n,r){return r||n.warn("$modal is now deprecated. Use $uibModal instead."),t.invoke(e.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(e,t,n){var r=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,s){i=a,this.config=s,i.$render=function(){r.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),(function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()})):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",(function(){e.totalPages=r.calculateTotalPages()})),e.$watch("totalPages",(function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()}))},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault(),(!e.ngDisabled||!n)&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||r.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,r,i,o){var a=o[0],s=o[1];if(s){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,c=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,a.init(s,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),(function(e){u=parseInt(e,10),a.render()}));var l=a.render;a.render=function(){l(),n.page>0&&n.page<=n.totalPages&&(n.pages=function(e,t){var n=[],r=1,i=t,o=angular.isDefined(u)&&u<t;o&&(c?(i=(r=Math.max(e-Math.floor(u/2),1))+u-1)>t&&(r=(i=t)-u+1):(r=(Math.ceil(e/u)-1)*u+1,i=Math.min(r+u-1,t)));for(var a=r;a<=i;a++){var s=d(a,a,a===e);n.push(s)}if(o&&!c){if(r>1){var l=d(r-1,"...",!1);n.unshift(l)}if(i<t){var p=d(i+1,"...",!1);n.push(p)}}return n}(n.page,n.totalPages))}}function d(e,t,n){return{number:e,text:t,active:n}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,r,i){var o=i[0],a=i[1];a&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):e.align,o.init(a,e))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(e,t,n,r,i){i||r.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var o=this,a={$setViewValue:angular.noop},s=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,i){a=r,this.config=i,a.$render=function(){o.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),(function(t){o.itemsPerPage=parseInt(t,10),e.totalPages=o.calculateTotalPages()})):this.itemsPerPage=i.itemsPerPage,e.$watch("totalItems",(function(){e.totalPages=o.calculateTotalPages()})),e.$watch("totalPages",(function(t){s(e.$parent,t),e.page>t?e.selectPage(t):a.$render()}))},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(a.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault(),(!e.ngDisabled||!n)&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),a.$setViewValue(t),a.$render())},e.getText=function(t){return e[t+"Text"]||o.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(e,t,n,r){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(i,o,a,s){r||n.warn("pagination is now deprecated. Use uib-pagination instead.");var u=s[0],c=s[1];if(c){var l=angular.isDefined(a.maxSize)?i.$parent.$eval(a.maxSize):t.maxSize,d=angular.isDefined(a.rotate)?i.$parent.$eval(a.rotate):t.rotate;i.boundaryLinks=angular.isDefined(a.boundaryLinks)?i.$parent.$eval(a.boundaryLinks):t.boundaryLinks,i.directionLinks=angular.isDefined(a.directionLinks)?i.$parent.$eval(a.directionLinks):t.directionLinks,u.init(c,t),a.maxSize&&i.$parent.$watch(e(a.maxSize),(function(e){l=parseInt(e,10),u.render()}));var p=u.render;u.render=function(){p(),i.page>0&&i.page<=i.totalPages&&(i.pages=function(e,t){var n=[],r=1,i=t,o=angular.isDefined(l)&&l<t;o&&(d?(i=(r=Math.max(e-Math.floor(l/2),1))+l-1)>t&&(r=(i=t)-l+1):(r=(Math.ceil(e/l)-1)*l+1,i=Math.min(r+l-1,t)));for(var a=r;a<=i;a++){var s=f(a,a,a===e);n.push(s)}if(o&&!d){if(r>1){var u=f(r-1,"...",!1);n.unshift(u)}if(i<t){var c=f(i+1,"...",!1);n.push(c)}}return n}(i.page,i.totalPages))}}function f(e,t,n){return{number:e,text:t,active:n}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(e,t,n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(r,i,o,a){n||t.warn("pager is now deprecated. Use uib-pager instead.");var s=a[0],u=a[1];u&&(r.align=angular.isDefined(o.align)?r.$parent.$eval(o.align):e.align,s.init(u,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",(function(){var e={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,i,o,a,s,u,c,l,d){var p=d.createNew();return a.on("keypress",(function(e){if(27===e.which){var t=p.top();t&&(t.value.close(),p.removeTop(),t=null)}})),function(r,c,d,f){function h(e){var n=(e||f.trigger||d).split(" "),r=n.map((function(e){return t[e]||e}));return{show:n,hide:r}}f=angular.extend({},e,n,f);var v=r.replace(/[A-Z]/g,(function(e,t){return(t?"-":"")+e.toLowerCase()})),m=u.startSymbol(),g=u.endSymbol(),b="<div "+v+'-popup title="'+m+"title"+g+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+g+'" ')+'placement="'+m+"placement"+g+'" popup-class="'+m+"popupClass"+g+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(e,t){var n=i(b);return function(e,t,i,u){var d,v,m,g,b,y,w=!!angular.isDefined(f.appendToBody)&&f.appendToBody,$=h(void 0),_=angular.isDefined(i[c+"Enable"]),C=e.$new(!0),x=!1,k=!!angular.isDefined(i[c+"IsOpen"])&&l(i[c+"IsOpen"]),S=!!f.useContentExp&&l(i[r]),E=[],T=function(){d&&d.html()&&(y||(y=o((function(){d.css({top:0,left:0});var e=s.positionElements(t,d,C.placement,w);e.top+="px",e.left+="px",e.visibility="visible",d.css(e),y=null}),0,!1)))};function D(){C.isOpen?O():A()}function A(){_&&!e.$eval(i[c+"Enable"])||(N(),function(){C.title=i[c+"Title"],C.content=S?S(e):i[r];C.popupClass=i[c+"Class"],C.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:f.placement;var t=parseInt(i[c+"PopupDelay"],10),n=parseInt(i[c+"PopupCloseDelay"],10);C.popupDelay=isNaN(t)?f.popupDelay:t,C.popupCloseDelay=isNaN(n)?f.popupCloseDelay:n}(),C.popupDelay?g||(g=o(P,C.popupDelay,!1)):P())}function O(){M(),C.popupCloseDelay?b||(b=o(R,C.popupCloseDelay,!1)):R()}function P(){if(M(),N(),!C.content)return angular.noop;!function(){if(d)return;v=C.$new(),d=n(v,(function(e){w?a.find("body").append(e):t.after(e)})),function(){E.length=0,S?(E.push(e.$watch(S,(function(e){C.content=e,!e&&C.isOpen&&R()}))),E.push(v.$watch((function(){x||(x=!0,v.$$postDigest((function(){x=!1,C&&C.isOpen&&T()})))})))):E.push(i.$observe(r,(function(e){C.content=e,!e&&C.isOpen?R():T()})));E.push(i.$observe(c+"Title",(function(e){C.title=e,C.isOpen&&T()}))),E.push(i.$observe(c+"Placement",(function(e){C.placement=e||f.placement,C.isOpen&&T()})))}()}(),C.$evalAsync((function(){C.isOpen=!0,I(!0),T()}))}function M(){g&&(o.cancel(g),g=null),y&&(o.cancel(y),y=null)}function R(){M(),N(),C&&C.$evalAsync((function(){C.isOpen=!1,I(!1),C.animation?m||(m=o(j,150,!1)):j()}))}function N(){b&&(o.cancel(b),b=null),m&&(o.cancel(m),m=null)}function j(){E.length&&(angular.forEach(E,(function(e){e()})),E.length=0),m=null,d&&(d.remove(),d=null),v&&(v.$destroy(),v=null)}function I(t){k&&angular.isFunction(k.assign)&&k.assign(e,t)}C.origScope=e,C.isOpen=!1,p.add(C,{close:R}),C.contentExp=function(){return C.content},i.$observe("disabled",(function(e){e&&M(),e&&C.isOpen&&R()})),k&&e.$watch(k,(function(e){C&&!e===C.isOpen&&D()}));var L,U=function(){$.show.forEach((function(e){t.unbind(e,A)})),$.hide.forEach((function(e){e.split(" ").forEach((function(e){t[0].removeEventListener(e,O)}))}))};L=i[c+"Trigger"],U(),"none"!==($=h(L)).show&&$.show.forEach((function(e,n){e===$.hide[n]?t[0].addEventListener(e,D):e&&(t[0].addEventListener(e,A),$.hide[n].split(" ").forEach((function(e){t[0].addEventListener(e,O)}))),t.on("keypress",(function(e){27===e.which&&O()}))}));var q=e.$eval(i[c+"Animation"]);C.animation=angular.isDefined(q)?!!q:f.animation;var F=e.$eval(i[c+"AppendToBody"]);(w=angular.isDefined(F)?F:w)&&e.$on("$locationChangeSuccess",(function(){C.isOpen&&R()})),e.$on("$destroy",(function(){M(),N(),U(),j(),p.remove(C),C=null}))}}}}}]})).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,a){var s,u,c,l=i.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){u&&(u.remove(),u=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then((function(){u=null})),u=c,c=null)};i.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),(function(t){var a=++d;t?(r(t,!0).then((function(r){if(a===d){var i=l.$new(),u=n(r)(i,(function(t){p(),e.enter(t,o)}));c=u,(s=i).$emit("$includeContentLoaded",t)}}),(function(){a===d&&(p(),i.$emit("$includeContentError",t))})),i.$emit("$includeContentRequested",t)):p()})),i.$on("$destroy",p)}}}]).directive("uibTooltipClasses",(function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}})).directive("uibTooltipPopup",(function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}})).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",(function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}})).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",(function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}})).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(e){angular.extend(this,e),this.$get=["$log","$tooltipSuppressWarning","$injector",function(t,n,r){return n||t.warn("$tooltip is now deprecated. Use $uibTooltip instead."),r.invoke(e.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(e,t,n,r,i,o){return{link:function(a,s,u){o||i.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var c,l,d,p=a.$eval(u.tooltipTemplateTranscludeScope),f=0,h=function(){l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),d&&(e.leave(d).then((function(){l=null})),l=d,d=null)};a.$watch(t.parseAsResourceUrl(u.tooltipTemplateTransclude),(function(t){var i=++f;t?(r(t,!0).then((function(r){if(i===f){var o=p.$new(),a=n(r)(o,(function(t){h(),e.enter(t,s)}));d=a,(c=o).$emit("$includeContentLoaded",t)}}),(function(){i===f&&(h(),a.$emit("$includeContentError",t))})),a.$emit("$includeContentRequested",t)):h()})),a.$on("$destroy",h)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(e,t){return{restrict:"A",link:function(n,r,i){t||e.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),n.placement&&r.addClass(n.placement),n.popupClass&&r.addClass(n.popupClass),n.animation()&&r.addClass(i.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(n,r){t||e.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),r.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(n,r){t||e.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),r.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(n,r){t||e.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),r.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",(function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}})).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",(function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}})).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",(function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}})).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(n,r){t||e.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),r.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(n,r){t||e.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),r.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(e,t){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(n,r){t||e.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),r.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var r=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,o){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=o&&angular.isDefined(o.title)?o.title:"progressbar",t.$watch("value",(function(e){t.recalculatePercentage()})),t.recalculatePercentage=function(){var e=r.bars.reduce((function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent}),0);e>100&&(t.percent-=e-100)},t.$on("$destroy",(function(){n=null,r.removeBar(t)}))},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach((function(e){e.recalculatePercentage()}))},e.$watch("max",(function(t){r.bars.forEach((function(t){t.max=e.max,t.recalculatePercentage()}))}))}]).directive("uibProgress",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}})).directive("uibBar",(function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}})).directive("uibProgressbar",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}})),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(e,t,n,r,i){i||r.warn("ProgressController is now deprecated. Use UibProgressController instead.");var o=this,a=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n,r){a||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=r&&angular.isDefined(r.title)?r.title:"progressbar",t.$watch("value",(function(e){t.recalculatePercentage()})),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=o.bars.reduce((function(e,t){return e+t.percent}),0);e>100&&(t.percent-=e-100)},t.$on("$destroy",(function(){n=null,o.removeBar(t)}))},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",(function(t){o.bars.forEach((function(t){t.max=e.max,t.recalculatePercentage()}))}))}]).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){t||e.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,r,i,o){t||e.warn("bar is now deprecated. Use uib-bar instead."),o.addBar(n,r)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,r,i,o){t||e.warn("progressbar is now deprecated. Use uib-progressbar instead."),o.addBar(n,angular.element(r.children()[0]),{title:i.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var r={$setViewValue:angular.noop};this.init=function(i){(r=i).$render=this.render,r.$formatters.push((function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e})),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(r.$setViewValue(r.$viewValue===t?0:t),r.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue}}]).directive("uibRating",(function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}})),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(e,t,n,r,i){i||r.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,n("UibRatingController",{$scope:e,$attrs:t}))}]).directive("rating",["$log","$ratingSuppressWarning",function(e,t){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,r,i,o){t||e.warn("rating is now deprecated. Use uib-rating instead.");var a=o[0],s=o[1];a.init(s)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t,n=this,r=n.tabs=e.tabs=[];n.select=function(e){angular.forEach(r,(function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)})),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},n.addTab=function(e){r.push(e),1===r.length&&!1!==e.active?e.active=!0:e.active?n.select(e):e.active=!1},n.removeTab=function(e){var i=r.indexOf(e);if(e.active&&r.length>1&&!t){var o=i==r.length-1?i-1:i+1;n.select(r[o])}r.splice(i,1)},e.$on("$destroy",(function(){t=!0}))}]).directive("uibTabset",(function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}})).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,n,r,i,o){t.$watch("active",(function(e){e&&i.select(t)})),t.disabled=!1,r.disable&&t.$parent.$watch(e(r.disable),(function(e){t.disabled=!!e})),t.select=function(){t.disabled||(t.active=!0)},i.addTab(t),t.$on("$destroy",(function(){i.removeTab(t)})),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",(function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(e,t){e.$watch("headingElement",(function(e){e&&(t.html(""),t.append(e))}))}}})).directive("uibTabContentTransclude",(function(){return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(e,t,n){var r=e.$eval(n.uibTabContentTransclude);r.$transcludeFn(r.$parent,(function(e){angular.forEach(e,(function(e){!function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase()||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):r.headingElement=e}))}))}}})),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(e,t,n,r){r||n.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,t("UibTabsetController",{$scope:e}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,r,i){t||e.warn("tabset is now deprecated. Use uib-tabset instead."),n.vertical=!!angular.isDefined(i.vertical)&&n.$parent.$eval(i.vertical),n.justified=!!angular.isDefined(i.justified)&&n.$parent.$eval(i.justified)}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(e,t,n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(r,i,o,a,s){n||t.warn("tab is now deprecated. Use uib-tab instead."),r.$watch("active",(function(e){e&&a.select(r)})),r.disabled=!1,o.disable&&r.$parent.$watch(e(o.disable),(function(e){r.disabled=!!e})),r.select=function(){r.disabled||(r.active=!0)},a.addTab(r),r.$on("$destroy",(function(){a.removeTab(r)})),r.$transcludeFn=s}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"A",require:"^tab",link:function(n,r){t||e.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),n.$watch("headingElement",(function(e){e&&(r.html(""),r.append(e))}))}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(e,t){return{restrict:"A",require:"^tabset",link:function(n,r,i){t||e.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var o=n.$eval(i.tabContentTransclude);o.$transcludeFn(o.$parent,(function(e){angular.forEach(e,(function(e){!function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}(e)?r.append(e):o.headingElement=e}))}))}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,r,i,o,a){var s=new Date,u={$setViewValue:angular.noop},c=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,r){(u=t).$render=this.render,u.$formatters.unshift((function(e){return e?new Date(e):null}));var i=r.eq(0),o=r.eq(1);(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(i,o),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(i,o),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o)};var l=a.hourStep;n.hourStep&&e.$parent.$watch(r(n.hourStep),(function(e){l=parseInt(e,10)}));var d,p,f=a.minuteStep;function h(){var t=parseInt(e.hours,10);if(e.showMeridian?t>0&&t<13:t>=0&&t<24)return e.showMeridian&&(12===t&&(t=0),e.meridian===c[1]&&(t+=12)),t}function v(){var t=parseInt(e.minutes,10);return t>=0&&t<60?t:void 0}function m(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function g(e){b(),u.$setViewValue(new Date(s)),y(e)}function b(){u.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function y(t){var n=s.getHours(),r=s.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:m(n),"m"!==t&&(e.minutes=m(r)),e.meridian=s.getHours()<12?c[0]:c[1]}function w(e,t){var n=new Date(e.getTime()+6e4*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes()),r}function $(e){s=w(s,e),g()}n.minuteStep&&e.$parent.$watch(r(n.minuteStep),(function(e){f=parseInt(e,10)})),e.$parent.$watch(r(n.min),(function(e){var t=new Date(e);d=isNaN(t)?void 0:t})),e.$parent.$watch(r(n.max),(function(e){var t=new Date(e);p=isNaN(t)?void 0:t})),e.noIncrementHours=function(){var e=w(s,60*l);return e>p||e<s&&e<d},e.noDecrementHours=function(){var e=w(s,60*-l);return e<d||e>s&&e>p},e.noIncrementMinutes=function(){var e=w(s,f);return e>p||e<s&&e<d},e.noDecrementMinutes=function(){var e=w(s,-f);return e<d||e>s&&e>p},e.noToggleMeridian=function(){return s.getHours()<13?w(s,720)>p:w(s,-720)<d},e.showMeridian=a.showMeridian,n.showMeridian&&e.$parent.$watch(r(n.showMeridian),(function(t){if(e.showMeridian=!!t,u.$error.time){var n=h(),r=v();angular.isDefined(n)&&angular.isDefined(r)&&(s.setHours(n),g())}else y()})),this.setupMousewheelEvents=function(t,n){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",(function(t){e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()})),n.bind("mousewheel wheel",(function(t){e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}))},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",(function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())})),n.bind("keydown",(function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())}))},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var r=function(t,n){u.$setViewValue(null),u.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=h(),t=v();angular.isDefined(e)&&angular.isDefined(t)?(s.setHours(e),s<d||s>p?r(!0):g("h")):r(!0)},t.bind("blur",(function(t){!e.invalidHours&&e.hours<10&&e.$apply((function(){e.hours=m(e.hours)}))})),e.updateMinutes=function(){var e=v(),t=h();angular.isDefined(e)&&angular.isDefined(t)?(s.setMinutes(e),s<d||s>p?r(void 0,!0):g("m")):r(void 0,!0)},n.bind("blur",(function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply((function(){e.minutes=m(e.minutes)}))}))},this.render=function(){var t=u.$viewValue;isNaN(t)?(u.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(s=t),s<d||s>p?(u.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):b(),y())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||$(60*l)},e.decrementHours=function(){e.noDecrementHours()||$(60*-l)},e.incrementMinutes=function(){e.noIncrementMinutes()||$(f)},e.decrementMinutes=function(){e.noDecrementMinutes()||$(-f)},e.toggleMeridian=function(){e.noToggleMeridian()||$(720*(s.getHours()<12?1:-1))}}]).directive("uibTimepicker",(function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}})),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(e,t,n,r,i,o){o||i.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,r("UibTimepickerController",{$scope:e,$element:t,$attrs:n}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(e,t){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(n,r,i,o){t||e.warn("timepicker is now deprecated. Use uib-timepicker instead.");var a=o[0],s=o[1];s&&a.init(s,r.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,n,r,i,o,a,s,u,c,l,d){var p,f,h=[9,13,27,38,40],v=e.$eval(n.typeaheadMinLength);v||0===v||(v=1);var m,g,b=e.$eval(n.typeaheadWaitMs)||0,y=!1!==e.$eval(n.typeaheadEditable),w=i(n.typeaheadLoading).assign||angular.noop,$=i(n.typeaheadOnSelect),_=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),C=i(n.typeaheadNoResults).assign||angular.noop,x=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,k=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),S=n.typeaheadAppendToElementId||!1,E=!1!==e.$eval(n.typeaheadFocusFirst),T=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),D=i(n.ngModel),A=i(n.ngModel+"($$$p)"),O=d.parse(n.uibTypeahead),P=e.$new(),M=e.$on("$destroy",(function(){P.$destroy()}));P.$on("$destroy",M);var R="typeahead-"+P.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":R});var N=angular.element("<div uib-typeahead-popup></div>");N.attr({id:R,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&N.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var j=function(){P.matches=[],P.activeIdx=-1,t.attr("aria-expanded",!1)},I=function(e){return R+"-option-"+e};P.$watch("activeIdx",(function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",I(e))}));var L,U,q=function(n){var r={$viewValue:n};w(e,!0),C(e,!1),o.when(O.source(e,r)).then((function(i){var o=n===p.$viewValue;if(o&&m)if(i&&i.length>0){P.activeIdx=E?0:-1,C(e,!1),P.matches.length=0;for(var a=0;a<i.length;a++)r[O.itemName]=i[a],P.matches.push({id:I(a),label:O.viewMapper(P,r),model:i[a]});P.query=n,J(),t.attr("aria-expanded",!0),T&&1===P.matches.length&&function(e,t){return!!(P.matches.length>t&&e)&&e.toUpperCase()===P.matches[t].label.toUpperCase()}(n,0)&&P.select(0)}else j(),C(e,!0);o&&w(e,!1)}),(function(){j(),w(e,!1),C(e,!0)}))};function F(){P.moveInProgress||(P.moveInProgress=!0,P.$digest()),L&&a.cancel(L),L=a((function(){P.matches.length&&J(),P.moveInProgress=!1}),200)}function J(){P.position=k?l.offset(t):l.position(t),P.position.top+=t.prop("offsetHeight")}k&&(angular.element(u).bind("resize",F),s.find("body").bind("scroll",F)),P.moveInProgress=!1,P.query=void 0;var V=function(){U&&a.cancel(U)};j(),P.select=function(r){var i,o,s={};g=!0,s[O.itemName]=o=P.matches[r].model,i=O.modelMapper(e,s),function(t,n){angular.isFunction(D(e))&&f&&f.$options&&f.$options.getterSetter?A(t,{$$$p:n}):D.assign(t,n)}(e,i),p.$setValidity("editable",!0),p.$setValidity("parse",!0),$(e,{$item:o,$model:i,$label:O.viewMapper(e,s)}),j(),!1!==P.$eval(n.typeaheadFocusOnSelect)&&a((function(){t[0].focus()}),0,!1)},t.bind("keydown",(function(e){if(0!==P.matches.length&&-1!==h.indexOf(e.which)){if(-1===P.activeIdx&&(9===e.which||13===e.which))return j(),void P.$digest();e.preventDefault(),40===e.which?(P.activeIdx=(P.activeIdx+1)%P.matches.length,P.$digest()):38===e.which?(P.activeIdx=(P.activeIdx>0?P.activeIdx:P.matches.length)-1,P.$digest()):13===e.which||9===e.which?P.$apply((function(){P.select(P.activeIdx)})):27===e.which&&(e.stopPropagation(),j(),P.$digest())}})),t.bind("blur",(function(){_&&P.matches.length&&-1!==P.activeIdx&&!g&&(g=!0,P.$apply((function(){P.select(P.activeIdx)}))),m=!1,g=!1}));var z=function(e){t[0]!==e.target&&3!==e.which&&0!==P.matches.length&&(j(),c.$$phase||P.$digest())};s.bind("click",z),e.$on("$destroy",(function(){s.unbind("click",z),(k||S)&&H.remove(),k&&(angular.element(u).unbind("resize",F),s.find("body").unbind("scroll",F)),N.remove()}));var H=r(N)(P);k?s.find("body").append(H):!1!==S?angular.element(s[0].getElementById(S)).append(H):t.after(H),this.init=function(t,n){f=n,(p=t).$parsers.unshift((function(t){return m=!0,0===v||t&&t.length>=v?b>0?(V(),function(e){U=a((function(){q(e)}),b)}(t)):q(t):(w(e,!1),V(),j()),y?t:t?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),null)})),p.$formatters.push((function(t){var n,r={};return y||p.$setValidity("editable",!0),x?(r.$model=t,x(e,r)):(r[O.itemName]=t,n=O.viewMapper(e,r),r[O.itemName]=void 0,n!==O.viewMapper(e,r)?n:t)}))}}]).directive("uibTypeahead",(function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,r){r[2].init(r[0],r[1])}}})).directive("uibTypeaheadPopup",(function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}})).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var a=n(o.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e(a).then((function(e){t(e.trim())(r,(function(e){i.replaceWith(e)}))}))}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){var r;return r=t.has("$sanitize"),function(t,i){return!r&&function(e){return/<.*>/g.test(e)}(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=i?(""+t).replace(new RegExp(i.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,r||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,r){return r||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,r,i,o,a,s,u,c,l){var d=[9,13,27,38,40];return{require:["ngModel","^?ngModelOptions"],link:function(p,f,h,v){l||c.warn("typeahead is now deprecated. Use uib-typeahead instead.");var m=v[0],g=v[1],b=p.$eval(h.typeaheadMinLength);b||0===b||(b=1);var y,w,$=p.$eval(h.typeaheadWaitMs)||0,_=!1!==p.$eval(h.typeaheadEditable),C=t(h.typeaheadLoading).assign||angular.noop,x=t(h.typeaheadOnSelect),k=!!angular.isDefined(h.typeaheadSelectOnBlur)&&p.$eval(h.typeaheadSelectOnBlur),S=t(h.typeaheadNoResults).assign||angular.noop,E=h.typeaheadInputFormatter?t(h.typeaheadInputFormatter):void 0,T=!!h.typeaheadAppendToBody&&p.$eval(h.typeaheadAppendToBody),D=h.typeaheadAppendToElementId||!1,A=!1!==p.$eval(h.typeaheadFocusFirst),O=!!h.typeaheadSelectOnExact&&p.$eval(h.typeaheadSelectOnExact),P=t(h.ngModel),M=t(h.ngModel+"($$$p)"),R=u.parse(h.typeahead),N=p.$new(),j=p.$on("$destroy",(function(){N.$destroy()}));N.$on("$destroy",j);var I="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());f.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":I});var L=angular.element("<div typeahead-popup></div>");L.attr({id:I,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&L.attr("template-url",h.typeaheadTemplateUrl),angular.isDefined(h.typeaheadPopupTemplateUrl)&&L.attr("popup-template-url",h.typeaheadPopupTemplateUrl);var U=function(){N.matches=[],N.activeIdx=-1,f.attr("aria-expanded",!1)},q=function(e){return I+"-option-"+e};N.$watch("activeIdx",(function(e){e<0?f.removeAttr("aria-activedescendant"):f.attr("aria-activedescendant",q(e))}));var F,J,V=function(e){var t={$viewValue:e};C(p,!0),S(p,!1),n.when(R.source(p,t)).then((function(n){var r=e===m.$viewValue;if(r&&y)if(n&&n.length>0){N.activeIdx=A?0:-1,S(p,!1),N.matches.length=0;for(var i=0;i<n.length;i++)t[R.itemName]=n[i],N.matches.push({id:q(i),label:R.viewMapper(N,t),model:n[i]});N.query=e,H(),f.attr("aria-expanded",!0),O&&1===N.matches.length&&function(e,t){return!!(N.matches.length>t&&e)&&e.toUpperCase()===N.matches[t].label.toUpperCase()}(e,0)&&N.select(0)}else U(),S(p,!0);r&&C(p,!1)}),(function(){U(),C(p,!1),S(p,!0)}))};function z(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),F&&r.cancel(F),F=r((function(){N.matches.length&&H(),N.moveInProgress=!1}),200)}function H(){N.position=T?s.offset(f):s.position(f),N.position.top+=f.prop("offsetHeight")}T&&(angular.element(o).bind("resize",z),i.find("body").bind("scroll",z)),N.moveInProgress=!1,U(),N.query=void 0;var W=function(){J&&r.cancel(J)};m.$parsers.unshift((function(e){return y=!0,0===b||e&&e.length>=b?$>0?(W(),function(e){J=r((function(){V(e)}),$)}(e)):V(e):(C(p,!1),W(),U()),_?e:e?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)})),m.$formatters.push((function(e){var t,n={};return _||m.$setValidity("editable",!0),E?(n.$model=e,E(p,n)):(n[R.itemName]=e,t=R.viewMapper(p,n),n[R.itemName]=void 0,t!==R.viewMapper(p,n)?t:e)})),N.select=function(e){var t,n,i={};w=!0,i[R.itemName]=n=N.matches[e].model,t=R.modelMapper(p,i),function(e,t){angular.isFunction(P(p))&&g&&g.$options&&g.$options.getterSetter?M(e,{$$$p:t}):P.assign(e,t)}(p,t),m.$setValidity("editable",!0),m.$setValidity("parse",!0),x(p,{$item:n,$model:t,$label:R.viewMapper(p,i)}),U(),!1!==N.$eval(h.typeaheadFocusOnSelect)&&r((function(){f[0].focus()}),0,!1)},f.bind("keydown",(function(e){if(0!==N.matches.length&&-1!==d.indexOf(e.which)){if(-1===N.activeIdx&&(9===e.which||13===e.which))return U(),void N.$digest();e.preventDefault(),40===e.which?(N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest()):38===e.which?(N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest()):13===e.which||9===e.which?N.$apply((function(){N.select(N.activeIdx)})):27===e.which&&(e.stopPropagation(),U(),N.$digest())}})),f.bind("blur",(function(){k&&N.matches.length&&-1!==N.activeIdx&&!w&&(w=!0,N.$apply((function(){N.select(N.activeIdx)}))),y=!1,w=!1}));var B=function(e){f[0]!==e.target&&3!==e.which&&0!==N.matches.length&&(U(),a.$$phase||N.$digest())};i.bind("click",B),p.$on("$destroy",(function(){i.unbind("click",B),(T||D)&&G.remove(),T&&(angular.element(o).unbind("resize",z),i.find("body").unbind("scroll",z)),L.remove()}));var G=e(L)(N);T?i.find("body").append(G):!1!==D?angular.element(i[0].getElementById(D)).append(G):f.after(G)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(e,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(n,r,i){e||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),n.templateUrl=i.templateUrl,n.isOpen=function(){return n.matches.length>0},n.isActive=function(e){return n.active==e},n.selectActive=function(e){n.active=e},n.selectMatch=function(e){n.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(e,t,n,r,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(o,a,s){r||i.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var u=n(s.templateUrl)(o.$parent)||"template/typeahead/typeahead-match.html";e(u).then((function(e){t(e.trim())(o,(function(e){a.replaceWith(e)}))}))}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(e,t,n,r){var i;return i=t.has("$sanitize"),function(t,o){return r||n.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!i&&function(e){return/<.*>/g.test(e)}(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(o.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,i||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).adapter=e()}}((function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("sdp");function i(e,t,n,i,o){var a=r.writeRtpDescription(e.kind,t);if(a+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var u="msid:"+(i?i.id:"-")+" "+s+"\r\n";a+="a="+u,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+u,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+u,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),a}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),a=r(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function u(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}t.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function c(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var l=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){i[e]=o[e].bind(o)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw u("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!n?(n=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},l.prototype.addTrack=function(t,n){if(this._isClosed)throw u("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw u("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},l.prototype.removeTrack=function(t){if(this._isClosed)throw u("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw u("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},l.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:n};var s=e.candidate,u=!s||0===Object.keys(s).length;if(u)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var c=r.writeCandidate(s);a.candidate=Object.assign(a.candidate,r.parseCandidate(c)),a.candidate.candidate=c,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var l=r.getMediaSections(i._localDescription.sdp);l[a.candidate.sdpMLineIndex]+=u?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+l.join("");var d=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),u||i._dispatchEvent("icecandidate",a),d&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout((function(){a.forEach((function(e){o.onlocalcandidate(e)}))}),0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,n,i){var a=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},l.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(u("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(u("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n})),i.transceivers.forEach((function(e,t){i._gather(e.mid,t)}));else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var s=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var a=i.transceivers[t],u=a.iceGatherer,c=a.iceTransport,l=a.dtlsTransport,d=a.localCapabilities,p=a.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var f=r.getIceParameters(e,n),h=r.getDtlsParameters(e,n);s&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===c.state&&c.start(u,f,s?"controlling":"controlled"),"new"===l.state&&l.start(h));var v=o(d,p);i._transceive(a,v.codecs.length>0,!1)}}))}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(i){var l=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(u("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,l.signalingState)||l._isClosed)return Promise.reject(u("InvalidStateError","Can not set remote "+i.type+" in state "+l.signalingState));var d={};l.remoteStreams.forEach((function(e){d[e.id]=e}));var p=[],f=r.splitSections(i.sdp),h=f.shift(),v=r.matchPrefix(h,"a=ice-lite").length>0,m=r.matchPrefix(h,"a=group:BUNDLE ").length>0;l.usingBundle=m;var g=r.matchPrefix(h,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,f.forEach((function(a,u){var c=r.splitLines(a),f=r.getKind(a),g=r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length,b=c[0].substr(2).split(" ")[2],y=r.getDirection(a,h),w=r.parseMsid(a),$=r.getMid(a)||r.generateIdentifier();if(g||"application"===f&&("DTLS/SCTP"===b||"UDP/DTLS/SCTP"===b))l.transceivers[u]={mid:$,kind:f,protocol:b,rejected:!0};else{var _,C,x,k,S,E,T,D,A;!g&&l.transceivers[u]&&l.transceivers[u].rejected&&(l.transceivers[u]=l._createTransceiver(f,!0));var O,P,M=r.parseRtpParameters(a);g||(O=r.getIceParameters(a,h),(P=r.getDtlsParameters(a,h)).role="client"),T=r.parseRtpEncodingParameters(a);var R=r.parseRtcpParameters(a),N=r.matchPrefix(a,"a=end-of-candidates",h).length>0,j=r.matchPrefix(a,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!g&&m&&u>0&&l.transceivers[u]&&(l._disposeIceAndDtlsTransports(u),l.transceivers[u].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[u].iceTransport=l.transceivers[0].iceTransport,l.transceivers[u].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[u].rtpSender&&l.transceivers[u].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[u].rtpReceiver&&l.transceivers[u].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==i.type||g){if("answer"===i.type&&!g){C=(_=l.transceivers[u]).iceGatherer,x=_.iceTransport,k=_.dtlsTransport,S=_.rtpReceiver,E=_.sendEncodingParameters,D=_.localCapabilities,l.transceivers[u].recvEncodingParameters=T,l.transceivers[u].remoteCapabilities=M,l.transceivers[u].rtcpParameters=R,j.length&&"new"===x.state&&(!v&&!N||m&&0!==u?j.forEach((function(e){s(_.iceTransport,e)})):x.setRemoteCandidates(j)),m&&0!==u||("new"===x.state&&x.start(C,O,"controlling"),"new"===k.state&&k.start(P)),!o(_.localCapabilities,_.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&_.sendEncodingParameters[0].rtx&&delete _.sendEncodingParameters[0].rtx,l._transceive(_,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!S||"sendrecv"!==y&&"sendonly"!==y?delete _.rtpReceiver:(A=S.track,w?(d[w.stream]||(d[w.stream]=new e.MediaStream),n(A,d[w.stream]),p.push([A,S,d[w.stream]])):(d.default||(d.default=new e.MediaStream),n(A,d.default),p.push([A,S,d.default])))}}else{(_=l.transceivers[u]||l._createTransceiver(f)).mid=$,_.iceGatherer||(_.iceGatherer=l._createIceGatherer(u,m)),j.length&&"new"===_.iceTransport.state&&(!N||m&&0!==u?j.forEach((function(e){s(_.iceTransport,e)})):_.iceTransport.setRemoteCandidates(j)),D=e.RTCRtpReceiver.getCapabilities(f),t<15019&&(D.codecs=D.codecs.filter((function(e){return"rtx"!==e.name}))),E=_.sendEncodingParameters||[{ssrc:1001*(2*u+2)}];var I,L=!1;if("sendrecv"===y||"sendonly"===y){if(L=!_.rtpReceiver,S=_.rtpReceiver||new e.RTCRtpReceiver(_.dtlsTransport,f),L)A=S.track,w&&"-"===w.stream||(w?(d[w.stream]||(d[w.stream]=new e.MediaStream,Object.defineProperty(d[w.stream],"id",{get:function(){return w.stream}})),Object.defineProperty(A,"id",{get:function(){return w.track}}),I=d[w.stream]):(d.default||(d.default=new e.MediaStream),I=d.default)),I&&(n(A,I),_.associatedRemoteMediaStreams.push(I)),p.push([A,S,I])}else _.rtpReceiver&&_.rtpReceiver.track&&(_.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===_.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),_.associatedRemoteMediaStreams=[]);_.localCapabilities=D,_.remoteCapabilities=M,_.rtpReceiver=S,_.rtcpParameters=R,_.sendEncodingParameters=E,_.recvEncodingParameters=T,l._transceive(l.transceivers[u],!1,L)}}})),void 0===l._dtlsRole&&(l._dtlsRole="offer"===i.type?"active":"passive"),l._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(d).forEach((function(t){var n=d[t];if(n.getTracks().length){if(-1===l.remoteStreams.indexOf(n)){l.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout((function(){l._dispatchEvent("addstream",r)}))}p.forEach((function(e){var t=e[0],r=e[1];n.id===e[2].id&&c(l,t,r,[n])}))}})),p.forEach((function(e){e[2]||c(l,e[0],e[1],[])})),e.setTimeout((function(){l&&l.transceivers&&l.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter((function(e){return"audio"===e.kind})).length,a=n.transceivers.filter((function(e){return"video"===e.kind})).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));o>0||a>0;)o>0&&(n._createTransceiver("audio"),o--),a>0&&(n._createTransceiver("video"),a--);var c=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(i,o){var a=i.track,s=i.kind,u=i.mid||r.generateIdentifier();i.mid=u,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var c=e.RTCRtpSender.getCapabilities(s);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var l=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=c,i.sendEncodingParameters=l})),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){c+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,c+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:c});return Promise.resolve(l)},l.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(u("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var a=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(a+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,r){if(!(r+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var u;if(e.stream)"audio"===e.kind?u=e.stream.getAudioTracks()[0]:"video"===e.kind&&(u=e.stream.getVideoTracks()[0]),u&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var c=o(e.localCapabilities,e.remoteCapabilities);!c.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=i(e,c,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}}));var c=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(c)},l.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,o){if(!n._remoteDescription)return o(u("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<n.transceivers.length;c++)if(n.transceivers[c].mid===e.sdpMid){a=c;break}var l=n.transceivers[a];if(!l)return o(u("OperationError","Can not add ICE candidate"));if(l.rejected)return i();var d=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return i();if(d.component&&1!==d.component)return i();if((0===a||a>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!s(l.iceTransport,d))return o(u("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(d.type?p:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var f=0;f<n.transceivers.length&&(n.transceivers[f].rejected||(n.transceivers[f].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[f]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));f++);i()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw u("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var d=["createOffer","createAnswer"];return d.forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(d=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}},{sdp:2}],2:[function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},r.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=r.parseRtpMap(a),u=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=u.length?r.parseFmtp(u[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach((function(e){t.headerExtensions.push(r.parseExtmap(e))})),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}));var i=0;return t.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach((function(e){n+=r.writeExtmap(e)})),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),u=s.length>0&&s[0].ssrc,c=r.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===u&&(t=c[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10)};u&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:u,mechanism:a?"red+ulpfec":"red"},n.push(r))}})),0===n.length&&u&&n.push({ssrc:u});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach((function(e){e.maxBitrate=l}))),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map((function(e){return r.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||r.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"==typeof t&&(t.exports=r)},{}],3:[function(e,t,n){(function(n){"use strict";var r=e("./adapter_factory.js");t.exports=r({window:n.window})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapter_factory.js":4}],4:[function(e,t,n){"use strict";var r=e("./utils");t.exports=function(t,n){var i=t&&t.window,o={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var a in n)hasOwnProperty.call(n,a)&&(o[a]=n[a]);var s=r.log,u=r.detectBrowser(i),c=e("./chrome/chrome_shim")||null,l=e("./edge/edge_shim")||null,d=e("./firefox/firefox_shim")||null,p=e("./safari/safari_shim")||null,f=e("./common_shim")||null,h={browserDetails:u,commonShim:f,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(u.browser){case"chrome":if(!c||!c.shimPeerConnection||!o.shimChrome)return s("Chrome shim is not included in this adapter release."),h;s("adapter.js shimming chrome."),h.browserShim=c,f.shimCreateObjectURL(i),c.shimGetUserMedia(i),c.shimMediaStream(i),c.shimSourceObject(i),c.shimPeerConnection(i),c.shimOnTrack(i),c.shimAddTrackRemoveTrack(i),c.shimGetSendersWithDtmf(i),c.shimSenderReceiverGetStats(i),c.fixNegotiationNeeded(i),f.shimRTCIceCandidate(i),f.shimMaxMessageSize(i),f.shimSendThrowTypeError(i);break;case"firefox":if(!d||!d.shimPeerConnection||!o.shimFirefox)return s("Firefox shim is not included in this adapter release."),h;s("adapter.js shimming firefox."),h.browserShim=d,f.shimCreateObjectURL(i),d.shimGetUserMedia(i),d.shimSourceObject(i),d.shimPeerConnection(i),d.shimOnTrack(i),d.shimRemoveStream(i),d.shimSenderGetStats(i),d.shimReceiverGetStats(i),d.shimRTCDataChannel(i),f.shimRTCIceCandidate(i),f.shimMaxMessageSize(i),f.shimSendThrowTypeError(i);break;case"edge":if(!l||!l.shimPeerConnection||!o.shimEdge)return s("MS edge shim is not included in this adapter release."),h;s("adapter.js shimming edge."),h.browserShim=l,f.shimCreateObjectURL(i),l.shimGetUserMedia(i),l.shimPeerConnection(i),l.shimReplaceTrack(i),f.shimMaxMessageSize(i),f.shimSendThrowTypeError(i);break;case"safari":if(!p||!o.shimSafari)return s("Safari shim is not included in this adapter release."),h;s("adapter.js shimming safari."),h.browserShim=p,f.shimCreateObjectURL(i),p.shimRTCIceServerUrls(i),p.shimCreateOfferLegacy(i),p.shimCallbacksAPI(i),p.shimLocalStreamsAPI(i),p.shimRemoteStreamsAPI(i),p.shimTrackEventTransceiver(i),p.shimGetUserMedia(i),f.shimRTCIceCandidate(i),f.shimMaxMessageSize(i),f.shimSendThrowTypeError(i);break;default:s("Unsupported browser!")}return h}},{"./chrome/chrome_shim":5,"./common_shim":7,"./edge/edge_shim":8,"./firefox/firefox_shim":11,"./safari/safari_shim":13,"./utils":14}],5:[function(e,t,n){"use strict";var r=e("../utils.js"),i=r.log;function o(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach((function(i){i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach((function(n){e(t,t.get(n),r)}))})))}(e,n,i)}))})),i}t.exports={shimGetUserMedia:e("./getusermedia"),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return n._ontrackpoly||(n._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},n.addEventListener("addstream",n._ontrackpoly)),t.apply(n,arguments)}}else r.wrapPeerConnectionEvent(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))},shimGetSendersWithDtmf:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=this,o=n.apply(i,arguments);return o||(o=t(i,e),i._senders.push(o)),o};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;r.apply(t,arguments);var n=t._senders.indexOf(e);-1!==n&&t._senders.splice(n,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;n._senders=n._senders||[],i.apply(n,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],o.apply(t,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(e,[]);return t.forEach((function(t){t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(e,[]);return n.forEach((function(t){t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(e,[]);return t.forEach((function(t){t._pc=e})),t}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return o(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var t=this;if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var n,r,i,o=arguments[0];return t.getSenders().forEach((function(e){e.track===o&&(n?i=!0:n=e)})),t.getReceivers().forEach((function(e){return e.track===o&&(r?i=!0:r=e),e.track===o})),i||n&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(t,arguments)}}}},shimSourceObject:function(e){var t=e&&e.URL;"object"==typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})),e.addEventListener("removetrack",(function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)}))):this.src=""}})},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=t.getSenders();n.apply(this,arguments);var i=t.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){var t=r.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return this.shimAddTrackRemoveTrackWithNative(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!n._reverseStreams[t.id]){var r=new e.MediaStream(t.getTracks());n._streams[t.id]=r,n._reverseStreams[r.id]=t,t=r}i.apply(n,[t])};var o=e.RTCPeerConnection.prototype.removeStream;function a(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function s(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},o.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===r.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=r.getSenders().find((function(e){return e.track===t}));if(o)throw new DOMException("Track already exists.","InvalidAccessError");r._streams=r._streams||{},r._reverseStreams=r._reverseStreams||{};var a=r._streams[n.id];if(a)a.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([t]);r._streams[n.id]=s,r._reverseStreams[s.id]=n,r.addStream(s)}return r.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments,r=arguments.length&&"function"==typeof arguments[0];return r?n.apply(e,[function(n){var r=a(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(e,arguments).then((function(t){return a(e,t)}))}}));var u=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this;return arguments.length&&arguments[0].type?(arguments[0]=s(e,arguments[0]),u.apply(e,arguments)):u.apply(e,arguments)};var c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=c.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===n))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");n._streams=n._streams||{},Object.keys(n._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?n.removeStream(n._reverseStreams[t.id]):t.removeTrack(e.track),n.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(e){var t=r.detectBrowser(e);!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=function(t,n){return i("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,n)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}}));var n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,r){var i=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return n.apply(this,arguments);if(0===n.length&&(0===arguments.length||"function"!=typeof arguments[0]))return n.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var u=function(e){o[1](s(a(e)))};return n.apply(this,[u,arguments[0]])}return new Promise((function(e,t){n.apply(i,[function(t){e(s(a(t)))},t])})).then(t,r)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,r=new Promise((function(r,i){n.apply(t,[e[0],r,i])}));return e.length<2?r:r.then((function(){e[1].apply(null,[])}),(function(t){e.length>=3&&e[2].apply(null,[t])}))}})),t.version<52&&["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var t=1===arguments.length?arguments[0]:void 0;return new Promise((function(r,i){n.apply(e,[r,i,t])}))}return n.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var o=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}},fixNegotiationNeeded:function(e){r.wrapPeerConnectionEvent(e,"negotiationneeded",(function(e){if("stable"===e.target.signalingState)return e}))},shimGetDisplayMedia:function(e,t){"getDisplayMedia"in e.navigator||("function"==typeof t?navigator.getDisplayMedia=function(e){return t(e).then((function(t){return e.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:e.video.frameRate||3}},navigator.mediaDevices.getUserMedia(e)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}},{"../utils.js":14,"./getusermedia":6}],6:[function(e,t,n){"use strict";var r=e("../utils.js"),i=r.log;t.exports=function(e){var t=r.detectBrowser(e),n=e&&e.navigator,o=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var a=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=o(e.audio)}if(e&&"object"==typeof e.video){var s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});var u,c=t.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?u=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(u=["front"]),u)return n.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return u.some((function(t){return-1!==e.label.toLowerCase().indexOf(t)}))}));return!n&&t.length&&-1!==u.indexOf("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=s.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=o(e.video),i("chrome: "+JSON.stringify(e)),r(e)}));e.video=o(e.video)}return i("chrome: "+JSON.stringify(e)),r(e)},s=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};n.getUserMedia=function(e,t,r){a(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){r&&r(s(e))}))}))};var u=function(e){return new Promise((function(t,r){n.getUserMedia(e,t,r)}))};if(n.mediaDevices||(n.mediaDevices={getUserMedia:u,enumerateDevices:function(){return new Promise((function(t){var n={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources((function(e){t(e.map((function(e){return{label:e.label,kind:n[e.kind],deviceId:e.id,groupId:""}})))}))}))},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),n.mediaDevices.getUserMedia){var c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return a(e,(function(e){return c(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(s(e))}))}))}}else n.mediaDevices.getUserMedia=function(e){return u(e)};void 0===n.mediaDevices.addEventListener&&(n.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===n.mediaDevices.removeEventListener&&(n.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":14}],7:[function(e,t,n){"use strict";var r=e("sdp"),i=e("./utils");t.exports={shimRTCIceCandidate:function(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=r.parseCandidate(e.candidate),o=Object.assign(n,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"==typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var n=t.createObjectURL.bind(t),r=t.revokeObjectURL.bind(t),o=new Map,a=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++a;return o.set(t,e),i.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return n(e)},t.revokeObjectURL=function(e){r(e),o.delete(e)};var s=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return s.get.apply(this)},set:function(e){return this.srcObject=o.get(e)||null,s.set.apply(this,[e])}});var u=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=o.get(arguments[1])||null),u.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=i.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=function(e){var t=r.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=r.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n},a=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},s=function(e,n){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var o=r.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?i=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i},u=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;if(e._sctp=null,n(arguments[0])){var t,r=o(arguments[0]),i=a(r),c=s(arguments[0],r);t=0===i&&0===c?Number.POSITIVE_INFINITY:0===i||0===c?Math.max(i,c):Math.min(i,c);var l={};Object.defineProperty(l,"maxMessageSize",{get:function(){return t}}),e._sctp=l}return u.apply(e,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=this,r=t.apply(e,arguments);return n(r,e),r},i.wrapPeerConnectionEvent(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}}},{"./utils":14,sdp:2}],8:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./filtericeservers"),o=e("rtcpeerconnection-shim");t.exports={shimGetUserMedia:e("./getusermedia"),shimPeerConnection:function(e){var t=r.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var a=o(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=i(e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},shimReplaceTrack:function(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}}},{"../utils":14,"./filtericeservers":9,"./getusermedia":10,"rtcpeerconnection-shim":1}],9:[function(e,t,n){"use strict";var r=e("../utils");t.exports=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var o="string"==typeof i;return o&&(i=[i]),i=i.filter((function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!n?(n=!0,!0):0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp")})),delete e.url,e.urls=o?i[0]:i,!!i.length}}))}},{"../utils":14}],10:[function(e,t,n){"use strict";t.exports=function(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},{}],11:[function(e,t,n){"use strict";var r=e("../utils");t.exports={shimGetUserMedia:e("./getusermedia"),shimOnTrack:function(e){"object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)&&Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.transceiver={receiver:n.receiver},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"==typeof e&&e.HTMLMediaElement&&!("srcObject"in e.HTMLMediaElement.prototype)&&Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}})},shimPeerConnection:function(e){var t=r.detectBrowser(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(n,r){if(t.version<38&&n&&n.iceServers){for(var i=[],o=0;o<n.iceServers.length;o++){var a=n.iceServers[o];if(a.hasOwnProperty("urls"))for(var s=0;s<a.urls.length;s++){var u={url:a.urls[s]};0===a.urls[s].indexOf("turn")&&(u.username=a.username,u.credential=a.credential),i.push(u)}else i.push(n.iceServers[o])}n.iceServers=i}return new e.mozRTCPeerConnection(n,r)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}}));var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,r){return o.apply(this,[e||null]).then((function(e){if(t.version<48&&(e=function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n]),t[n]=e[n]})),t}(e)),t.version<53&&!n)try{e.forEach((function(e){e.type=i[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach((function(t,n){e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(n,r)}}},shimSenderGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(e,[]);return n.forEach((function(t){t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(e,[]);return n.forEach((function(t){t._pc=e})),n}),r.wrapPeerConnectionEvent(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;r.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&-1!==e.getTracks().indexOf(n.track)&&t.removeTrack(n)}))})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,t){"getDisplayMedia"in e.navigator||(navigator.getDisplayMedia=function(e){if(!e||!e.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return!0===e.video?e.video={mediaSource:t}:e.video.mediaSource=t,navigator.mediaDevices.getUserMedia(e)})}}},{"../utils":14,"./getusermedia":12}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=r.log;t.exports=function(e){var t=r.detectBrowser(e),n=e&&e.navigator,o=e&&e.MediaStreamTrack,a=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,r,o){var s=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};"number"==typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}})),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(i("spec: "+JSON.stringify(e)),e.audio&&(e.audio=s(e.audio)),e.video&&(e.video=s(e.video)),i("ff37: "+JSON.stringify(e))),n.mozGetUserMedia(e,r,(function(e){o(a(e))}))};if(n.mediaDevices||(n.mediaDevices={getUserMedia:function(e){return new Promise((function(t,n){s(e,t,n)}))},addEventListener:function(){},removeEventListener:function(){}}),n.mediaDevices.enumerateDevices=n.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])}))},t.version<41){var u=n.mediaDevices.enumerateDevices.bind(n.mediaDevices);n.mediaDevices.enumerateDevices=function(){return u().then(void 0,(function(e){if("NotFoundError"===e.name)return[];throw e}))}}if(t.version<49){var c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return c(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("The object can not be found here.","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}}if(!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var l=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},d=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),l(e.audio,"autoGainControl","mozAutoGainControl"),l(e.audio,"noiseSuppression","mozNoiseSuppression")),d(e)},o&&o.prototype.getSettings){var p=o.prototype.getSettings;o.prototype.getSettings=function(){var e=p.apply(this,arguments);return l(e,"mozAutoGainControl","autoGainControl"),l(e,"mozNoiseSuppression","noiseSuppression"),e}}if(o&&o.prototype.applyConstraints){var f=o.prototype.applyConstraints;o.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),l(e,"autoGainControl","mozAutoGainControl"),l(e,"noiseSuppression","mozNoiseSuppression")),f.apply(this,[e])}}}n.getUserMedia=function(e,i,o){if(t.version<44)return s(e,i,o);r.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(i,o)}}},{"../utils":14}],13:[function(e,t,n){"use strict";var r=e("../utils");t.exports={shimLocalStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach((function(n){n.id===e&&(t=n)})),this._remoteStreams&&this._remoteStreams.forEach((function(n){n.id===e&&(t=n)})),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var n=this;e.getTracks().forEach((function(r){t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e,n){return n&&(this._localStreams?-1===this._localStreams.indexOf(n)&&this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var n=this,r=e.getTracks();this.getSenders().forEach((function(e){-1!==r.indexOf(e.track)&&n.removeTrack(e)}))}})}},shimRemoteStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}},shimCallbacksAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var s=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(r.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,i.push(a)):i.push(e.iceServers[o])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var n=this;if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=n.getTransceivers().find((function(e){return e.sender.track&&"audio"===e.sender.track.kind}));!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||n.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=n.getTransceivers().find((function(e){return e.sender.track&&"video"===e.sender.track.kind}));!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection("sendonly"):"recvonly"===i.direction&&i.setDirection("inactive"):!0!==e.offerToReceiveVideo||i||n.addTransceiver("video")}return t.apply(n,arguments)}}}},{"../utils":14}],14:[function(e,t,n){"use strict";var r=!0,i=!0;function o(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}t.exports={extractVersion:o,wrapPeerConnectionEvent:function(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(r)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=o(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)n.browser="chrome",n.version=o(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=o(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=o(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n}}},{}]},{},[3])(3)})),Janus.sessions={},Janus.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var e=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),t=33;return window.navigator.userAgent.match("Linux")&&(t=35),e>=26&&e<=t||Janus.extension.isInstalled()}return!0};var defaultExtension={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return null!==document.querySelector("#janus-extension-installed")},getScreen:function(e){var t=window.setTimeout((function(){var t=new Error("NavigatorUserMediaError");return t.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',e(t)}),1e3);this.cache[t]=e,window.postMessage({type:"janusGetScreen",id:t},"*")},init:function(){var e={};this.cache=e,window.addEventListener("message",(function(t){if(t.origin==window.location.origin)if("janusGotScreen"==t.data.type&&e[t.data.id]){var n=e[t.data.id];if(delete e[t.data.id],""===t.data.sourceId){var r=new Error("NavigatorUserMediaError");r.name="You cancelled the request for permission, giving up...",n(r)}else n(null,t.data.sourceId)}else"janusGetScreenPending"==t.data.type&&(console.log("clearing ",t.data.id),window.clearTimeout(t.data.id))}))}};function Janus(e){if((e=e||{}).success="function"==typeof e.success?e.success:Janus.noop,e.error="function"==typeof e.error?e.error:Janus.noop,e.destroyed="function"==typeof e.destroyed?e.destroyed:Janus.noop,!Janus.initDone)return e.error("Library not initialized"),{};if(!Janus.isWebrtcSupported())return e.error("WebRTC not supported by this browser"),{};if(Janus.log("Library initialized: "+Janus.initDone),!e.server)return e.error("Invalid server url"),{};var t=!1,n=null,r={},i=null,o=null,a=0,s=e.server;Janus.isArray(s)?(Janus.log("Multiple servers provided ("+s.length+"), will use the first that works"),s=null,o=e.server,Janus.debug(o)):0===s.indexOf("ws")?(t=!0,Janus.log("Using WebSockets to contact Janus: "+s)):(t=!1,Janus.log("Using REST API to contact Janus: "+s));var u=e.iceServers||[{urls:"stun:stun.l.google.com:19302"}],c=e.iceTransportPolicy,l=e.bundlePolicy,d=!0===e.ipv6,p=!1;void 0!==e.withCredentials&&null!==e.withCredentials&&(p=!0===e.withCredentials);var f=10;void 0!==e.max_poll_events&&null!==e.max_poll_events&&(f=e.max_poll_events),f<1&&(f=1);var h=null;void 0!==e.token&&null!==e.token&&(h=e.token);var v=null;void 0!==e.apisecret&&null!==e.apisecret&&(v=e.apisecret),this.destroyOnUnload=!0,void 0!==e.destroyOnUnload&&null!==e.destroyOnUnload&&(this.destroyOnUnload=!0===e.destroyOnUnload);var m=25e3;void 0!==e.keepAlivePeriod&&null!==e.keepAlivePeriod&&(m=e.keepAlivePeriod),isNaN(m)&&(m=25e3);var g=6e4;function b(e){var t={high:9e5,medium:3e5,low:1e5};return null!=e&&(e.high&&(t.high=e.high),e.medium&&(t.medium=e.medium),e.low&&(t.low=e.low)),t}void 0!==e.longPollTimeout&&null!==e.longPollTimeout&&(g=e.longPollTimeout),isNaN(g)&&(g=6e4);var y=!1,w=null,$={},_=this,C=0,x={};function k(){if(null!=w)if(Janus.debug("Long poll..."),y){var t=s+"/"+w+"?rid="+(new Date).getTime();f&&(t=t+"&maxev="+f),h&&(t=t+"&token="+encodeURIComponent(h)),v&&(t=t+"&apisecret="+encodeURIComponent(v)),Janus.httpAPICall(t,{verb:"GET",withCredentials:p,success:S,timeout:g,error:function(t,n){if(Janus.error(t+":",n),++C>3)return y=!1,void e.error("Lost connection to the server (is it down?)");k()}})}else Janus.warn("Is the server down? (connected=false)")}function S(e,r){if(C=0,t||null==w||!0===r||k(),t||!Janus.isArray(e))if("keepalive"!==e.janus)if("ack"!==e.janus)if("success"!==e.janus)if("trickle"===e.janus){if(!(u=e.sender))return void Janus.warn("Missing sender...");if(!(l=$[u]))return void Janus.debug("This handle is not attached to this session");var i=e.candidate;Janus.debug("Got a trickled candidate on session "+w),Janus.debug(i);var o=l.webrtcStuff;o.pc&&o.remoteSdp?(Janus.debug("Adding remote candidate:",i),i&&!0!==i.completed?o.pc.addIceCandidate(i):o.pc.addIceCandidate(Janus.endOfCandidates)):(Janus.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),o.candidates||(o.candidates=[]),o.candidates.push(i),Janus.debug(o.candidates))}else{if("webrtcup"===e.janus)return Janus.debug("Got a webrtcup event on session "+w),Janus.debug(e),(u=e.sender)?(l=$[u])?void l.webrtcState(!0):void Janus.debug("This handle is not attached to this session"):void Janus.warn("Missing sender...");if("hangup"===e.janus){if(Janus.debug("Got a hangup event on session "+w),Janus.debug(e),!(u=e.sender))return void Janus.warn("Missing sender...");if(!(l=$[u]))return void Janus.debug("This handle is not attached to this session");l.webrtcState(!1,e.reason),l.hangup()}else if("detached"===e.janus){if(Janus.debug("Got a detached event on session "+w),Janus.debug(e),!(u=e.sender))return void Janus.warn("Missing sender...");if(!(l=$[u]))return;l.detached=!0,l.ondetached(),l.detach()}else if("media"===e.janus){if(Janus.debug("Got a media event on session "+w),Janus.debug(e),!(u=e.sender))return void Janus.warn("Missing sender...");if(!(l=$[u]))return void Janus.debug("This handle is not attached to this session");l.mediaState(e.type,e.receiving)}else if("slowlink"===e.janus){if(Janus.debug("Got a slowlink event on session "+w),Janus.debug(e),!(u=e.sender))return void Janus.warn("Missing sender...");if(!(l=$[u]))return void Janus.debug("This handle is not attached to this session");l.slowLink(e.uplink,e.lost)}else{if("error"===e.janus){var a,s;if(Janus.error("Ooops: "+e.error.code+" "+e.error.reason),Janus.debug(e),a=e.transaction)(s=x[a])&&s(e),delete x[a];return}if("event"===e.janus){var u;if(Janus.debug("Got a plugin event on session "+w),Janus.debug(e),!(u=e.sender))return void Janus.warn("Missing sender...");var c=e.plugindata;if(!c)return void Janus.warn("Missing plugindata...");Janus.debug("  -- Event is coming from "+u+" ("+c.plugin+")");var l,d=c.data;if(Janus.debug(d),!(l=$[u]))return void Janus.warn("This handle is not attached to this session");var p=e.jsep;p&&(Janus.debug("Handling SDP as well..."),Janus.debug(p));var f=l.onmessage;f?(Janus.debug("Notifying application..."),f(d,p)):Janus.debug("No provided notification callback")}else{if("timeout"===e.janus)return Janus.error("Timeout on session "+w),Janus.debug(e),void(t&&n.close(3504,"Gateway timeout"));Janus.warn("Unknown message/event  '"+e.janus+"' on session "+w),Janus.debug(e)}}}else Janus.debug("Got a success on session "+w),Janus.debug(e),(a=e.transaction)&&((s=x[a])&&s(e),delete x[a]);else Janus.debug("Got an ack on session "+w),Janus.debug(e),(a=e.transaction)&&((s=x[a])&&s(e),delete x[a]);else Janus.vdebug("Got a keepalive on session "+w);else for(var h=0;h<e.length;h++)S(e[h],!0)}function E(){if(s&&t&&y){i=setTimeout(E,m);var e={janus:"keepalive",session_id:w,transaction:Janus.randomString(12)};h&&(e.token=h),v&&(e.apisecret=v),n.send(JSON.stringify(e))}}function T(u){var c=Janus.randomString(12),l={janus:"create",transaction:c};if(u.reconnect&&(y=!1,l.janus="claim",l.session_id=w,n&&(n.onopen=null,n.onerror=null,n.onclose=null,i&&(clearTimeout(i),i=null))),h&&(l.token=h),v&&(l.apisecret=v),!s&&Janus.isArray(o)&&(0===(s=o[a]).indexOf("ws")?(t=!0,Janus.log("Server #"+(a+1)+": trying WebSockets to contact Janus ("+s+")")):(t=!1,Janus.log("Server #"+(a+1)+": trying REST API to contact Janus ("+s+")"))),t)for(var d in n=Janus.newWebSocket(s,"janus-protocol"),r={error:function(){if(Janus.error("Error connecting to the Janus WebSockets server... "+s),Janus.isArray(o)&&!u.reconnect)return++a==o.length?void u.error("Error connecting to any of the provided Janus servers: Is the server down?"):(s=null,void setTimeout((function(){T(u)}),200));u.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){x[c]=function(e){if(Janus.debug(e),"success"!==e.janus)return Janus.error("Ooops: "+e.error.code+" "+e.error.reason),void u.error(e.error.reason);i=setTimeout(E,m),y=!0,w=e.session_id?e.session_id:e.data.id,u.reconnect?Janus.log("Claimed session: "+w):Janus.log("Created session: "+w),Janus.sessions[w]=_,u.success()},n.send(JSON.stringify(l))},message:function(e){S(JSON.parse(e.data))},close:function(){s&&y&&(y=!1,e.error("Lost connection to the server (is it down?)"))}})n.addEventListener(d,r[d]);else Janus.httpAPICall(s,{verb:"POST",withCredentials:p,body:l,success:function(e){if(Janus.debug(e),"success"!==e.janus)return Janus.error("Ooops: "+e.error.code+" "+e.error.reason),void u.error(e.error.reason);y=!0,w=e.session_id?e.session_id:e.data.id,u.reconnect?Janus.log("Claimed session: "+w):Janus.log("Created session: "+w),Janus.sessions[w]=_,k(),u.success()},error:function(e,t){if(Janus.error(e+":",t),Janus.isArray(o)&&!u.reconnect)return++a==o.length?void u.error("Error connecting to any of the provided Janus servers: Is the server down?"):(s=null,void setTimeout((function(){T(u)}),200));""===t?u.error(e+": Is the server down?"):u.error(e+": "+t)}})}function D(e,r){if((r=r||{}).success="function"==typeof r.success?r.success:Janus.noop,r.error="function"==typeof r.error?r.error:Janus.noop,!y)return Janus.warn("Is the server down? (connected=false)"),void r.error("Is the server down? (connected=false)");var i=$[e];if(!i||!i.webrtcStuff)return Janus.warn("Invalid handle"),void r.error("Invalid handle");var o=r.message,a=r.jsep,u=Janus.randomString(12),c={janus:"message",body:o,transaction:u};if(i.token&&(c.token=i.token),v&&(c.apisecret=v),a&&(c.jsep=a),Janus.debug("Sending message to plugin (handle="+e+"):"),Janus.debug(c),t)return c.session_id=w,c.handle_id=e,x[u]=function(e){if(Janus.debug("Message sent!"),Janus.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return Janus.warn("Request succeeded, but missing plugindata..."),void r.success();Janus.log("Synchronous transaction successful ("+t.plugin+")");var n=t.data;return Janus.debug(n),void r.success(n)}"ack"===e.janus?r.success():e.error?(Janus.error("Ooops: "+e.error.code+" "+e.error.reason),r.error(e.error.code+" "+e.error.reason)):(Janus.error("Unknown error"),r.error("Unknown error"))},void n.send(JSON.stringify(c));Janus.httpAPICall(s+"/"+w+"/"+e,{verb:"POST",withCredentials:p,body:c,success:function(e){if(Janus.debug("Message sent!"),Janus.debug(e),"success"===e.janus){var t=e.plugindata;if(!t)return Janus.warn("Request succeeded, but missing plugindata..."),void r.success();Janus.log("Synchronous transaction successful ("+t.plugin+")");var n=t.data;return Janus.debug(n),void r.success(n)}"ack"===e.janus?r.success():e.error?(Janus.error("Ooops: "+e.error.code+" "+e.error.reason),r.error(e.error.code+" "+e.error.reason)):(Janus.error("Unknown error"),r.error("Unknown error"))},error:function(e,t){Janus.error(e+":",t),r.error(e+": "+t)}})}function A(e,r){if(y){var i=$[e];if(i&&i.webrtcStuff){var o={janus:"trickle",candidate:r,transaction:Janus.randomString(12)};if(i.token&&(o.token=i.token),v&&(o.apisecret=v),Janus.vdebug("Sending trickle candidate (handle="+e+"):"),Janus.vdebug(o),t)return o.session_id=w,o.handle_id=e,void n.send(JSON.stringify(o));Janus.httpAPICall(s+"/"+w+"/"+e,{verb:"POST",withCredentials:p,body:o,success:function(e){Janus.vdebug("Candidate sent!"),Janus.vdebug(e),"ack"===e.janus||Janus.error("Ooops: "+e.error.code+" "+e.error.reason)},error:function(e,t){Janus.error(e+":",t)}})}else Janus.warn("Invalid handle")}else Janus.warn("Is the server down? (connected=false)")}function O(e,t,n,r){var i=$[e];if(i&&i.webrtcStuff){var o=i.webrtcStuff,a=function(e){Janus.log("Received state change on data channel:",e);var t=e.target.label,n=o.dataChannel[t]?o.dataChannel[t].readyState:"null";if(Janus.log("State change on <"+t+"> data channel: "+n),"open"===n){if(o.dataChannel[t].pending&&o.dataChannel[t].pending.length>0){for(var r of(Janus.log("Sending pending messages on <"+t+">:",o.dataChannel[t].pending.length),o.dataChannel[t].pending))Janus.log("Sending data on data channel <"+t+">"),Janus.debug(r),o.dataChannel[t].send(r);o.dataChannel[t].pending=[]}i.ondataopen(t)}};o.dataChannel[t]=n||o.pc.createDataChannel(t,{ordered:!0}),o.dataChannel[t].onmessage=function(e){Janus.log("Received message on data channel:",e);var t=e.target.label;i.ondata(e.data,t)},o.dataChannel[t].onopen=a,o.dataChannel[t].onclose=a,o.dataChannel[t].onerror=function(e){Janus.error("Got error on data channel:",e)},o.dataChannel[t].pending=[],r&&o.dataChannel[t].pending.push(r)}else Janus.warn("Invalid handle")}function P(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Janus.noop,t.error="function"==typeof t.error?t.error:Janus.noop;var n=$[e];if(!n||!n.webrtcStuff)return Janus.warn("Invalid handle"),void t.error("Invalid handle");var r=n.webrtcStuff,i=t.text||t.data;if(!i)return Janus.warn("Invalid data"),void t.error("Invalid data");var o=t.label?t.label:Janus.dataChanDefaultLabel;return r.dataChannel[o]?"open"!==r.dataChannel[o].readyState?(r.dataChannel[o].pending.push(i),void t.success()):(Janus.log("Sending data on data channel <"+o+">"),Janus.debug(i),r.dataChannel[o].send(i),void t.success()):(O(e,o,!1,i),void t.success())}function M(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Janus.noop,t.error="function"==typeof t.error?t.error:Janus.noop;var n=$[e];if(!n||!n.webrtcStuff)return Janus.warn("Invalid handle"),void t.error("Invalid handle");var r=n.webrtcStuff;if(!r.dtmfSender){if(r.pc){var i=r.pc.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}));if(!i)return Janus.warn("Invalid DTMF configuration (no audio track)"),void t.error("Invalid DTMF configuration (no audio track)");r.dtmfSender=i.dtmf,r.dtmfSender&&(Janus.log("Created DTMF Sender"),r.dtmfSender.ontonechange=function(e){Janus.debug("Sent DTMF tone: "+e.tone)})}if(!r.dtmfSender)return Janus.warn("Invalid DTMF configuration"),void t.error("Invalid DTMF configuration")}var o=t.dtmf;if(!o)return Janus.warn("Invalid DTMF parameters"),void t.error("Invalid DTMF parameters");var a=o.tones;if(!a)return Janus.warn("Invalid DTMF string"),void t.error("Invalid DTMF string");var s="number"==typeof o.duration?o.duration:500,u="number"==typeof o.gap?o.gap:50;Janus.debug("Sending DTMF string "+a+" (duration "+s+"ms, gap "+u+"ms)"),r.dtmfSender.insertDTMF(a,s,u),t.success()}function R(e,r){(r=r||{}).success="function"==typeof r.success?r.success:Janus.noop,r.error="function"==typeof r.error?r.error:Janus.noop;var i=!0===r.noRequest;Janus.log("Destroying handle "+e+" (only-locally="+i+")"),V(e);var o=$[e];if(!o||o.detached)return delete $[e],void r.success();if(i)return delete $[e],void r.success();if(!y)return Janus.warn("Is the server down? (connected=false)"),void r.error("Is the server down? (connected=false)");var a={janus:"detach",transaction:Janus.randomString(12)};if(o.token&&(a.token=o.token),v&&(a.apisecret=v),t)return a.session_id=w,a.handle_id=e,n.send(JSON.stringify(a)),delete $[e],void r.success();Janus.httpAPICall(s+"/"+w+"/"+e,{verb:"POST",withCredentials:p,body:a,success:function(t){Janus.log("Destroyed handle:"),Janus.debug(t),"success"!==t.janus&&Janus.error("Ooops: "+t.error.code+" "+t.error.reason),delete $[e],r.success()},error:function(t,n){Janus.error(t+":",n),delete $[e],r.success()}})}function N(e,t,n,r,i){var o=$[e];if(!o||!o.webrtcStuff)return Janus.warn("Invalid handle"),void r.error("Invalid handle");var a=o.webrtcStuff;Janus.debug("streamsDone:",i),i&&(Janus.debug("  -- Audio tracks:",i.getAudioTracks()),Janus.debug("  -- Video tracks:",i.getVideoTracks()));var s=!1;if(a.myStream&&n.update&&!a.streamExternal){if((!n.update&&z(n)||n.update&&(n.addAudio||n.replaceAudio))&&i.getAudioTracks()&&i.getAudioTracks().length)if(a.myStream.addTrack(i.getAudioTracks()[0]),Janus.unifiedPlan){Janus.log((n.replaceAudio?"Replacing":"Adding")+" audio track:",i.getAudioTracks()[0]);var p=null;if((h=a.pc.getTransceivers())&&h.length>0)for(var f of h)if(f.sender&&f.sender.track&&"audio"===f.sender.track.kind||f.receiver&&f.receiver.track&&"audio"===f.receiver.track.kind){p=f;break}p&&p.sender?p.sender.replaceTrack(i.getAudioTracks()[0]):a.pc.addTrack(i.getAudioTracks()[0],i)}else Janus.log((n.replaceAudio?"Replacing":"Adding")+" audio track:",i.getAudioTracks()[0]),a.pc.addTrack(i.getAudioTracks()[0],i);if((!n.update&&W(n)||n.update&&(n.addVideo||n.replaceVideo))&&i.getVideoTracks()&&i.getVideoTracks().length)if(a.myStream.addTrack(i.getVideoTracks()[0]),Janus.unifiedPlan){Janus.log((n.replaceVideo?"Replacing":"Adding")+" video track:",i.getVideoTracks()[0]);var h,v=null;if((h=a.pc.getTransceivers())&&h.length>0)for(var f of h)if(f.sender&&f.sender.track&&"video"===f.sender.track.kind||f.receiver&&f.receiver.track&&"video"===f.receiver.track.kind){v=f;break}v&&v.sender?v.sender.replaceTrack(i.getVideoTracks()[0]):a.pc.addTrack(i.getVideoTracks()[0],i)}else Janus.log((n.replaceVideo?"Replacing":"Adding")+" video track:",i.getVideoTracks()[0]),a.pc.addTrack(i.getVideoTracks()[0],i)}else a.myStream=i,s=!0;if(!a.pc){var m={iceServers:u,iceTransportPolicy:c,bundlePolicy:l};"chrome"===Janus.webRTCAdapter.browserDetails.browser&&(m.sdpSemantics=Janus.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var g={optional:[{DtlsSrtpKeyAgreement:!0}]};if(d&&g.optional.push({googIPv6:!0}),r.rtcConstraints&&"object"==typeof r.rtcConstraints)for(var y in Janus.debug("Adding custom PeerConnection constraints:",r.rtcConstraints),r.rtcConstraints)g.optional.push(r.rtcConstraints[y]);"edge"===Janus.webRTCAdapter.browserDetails.browser&&(m.bundlePolicy="max-bundle"),Janus.log("Creating PeerConnection"),Janus.debug(g),a.pc=new RTCPeerConnection(m,g),Janus.debug(a.pc),a.pc.getStats&&(a.volume={},a.bitrate.value="0 kbits/sec"),Janus.log("Preparing local SDP and gathering candidates (trickle="+a.trickle+")"),a.pc.oniceconnectionstatechange=function(e){a.pc&&o.iceState(a.pc.iceConnectionState)},a.pc.onicecandidate=function(t){if(!t.candidate||"edge"===Janus.webRTCAdapter.browserDetails.browser&&t.candidate.candidate.indexOf("endOfCandidates")>0)Janus.log("End of candidates."),a.iceDone=!0,!0===a.trickle?A(e,{completed:!0}):function(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Janus.noop,t.error="function"==typeof t.error?t.error:Janus.noop;var n=$[e];if(!n||!n.webrtcStuff)return void Janus.warn("Invalid handle, not sending anything");var r=n.webrtcStuff;if(Janus.log("Sending offer/answer SDP..."),!r.mySdp)return void Janus.warn("Local SDP instance is invalid, not sending anything...");r.mySdp={type:r.pc.localDescription.type,sdp:r.pc.localDescription.sdp},!1===r.trickle&&(r.mySdp.trickle=!1);Janus.debug(t),r.sdpSent=!0,t.success(r.mySdp)}(e,r);else{var n={candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex};!0===a.trickle&&A(e,n)}},a.pc.ontrack=function(e){Janus.log("Handling Remote Track"),Janus.debug(e),e.streams&&(a.remoteStream=e.streams[0],o.onremotestream(a.remoteStream),e.track.onended||(Janus.log("Adding onended callback to track:",e.track),e.track.onended=function(e){Janus.log("Remote track muted/removed:",e),a.remoteStream&&(a.remoteStream.removeTrack(e.target),o.onremotestream(a.remoteStream))},e.track.onmute=e.track.onended,e.track.onunmute=function(e){Janus.log("Remote track flowing again:",e);try{a.remoteStream.addTrack(e.target),o.onremotestream(a.remoteStream)}catch(e){Janus.error(e)}}))}}if(s&&i){Janus.log("Adding local stream");var w=!0===r.simulcast2;i.getTracks().forEach((function(e){if(Janus.log("Adding local track:",e),w)if("audio"===e.kind)a.pc.addTrack(e,i);else{Janus.log("Enabling rid-based simulcasting:",e);const t=b(r.simulcastMaxBitrates);a.pc.addTransceiver(e,{direction:"sendrecv",streams:[i],sendEncodings:[{rid:"h",active:!0,maxBitrate:t.high},{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:t.low,scaleResolutionDownBy:4}]})}else a.pc.addTrack(e,i)}))}(function(e){if(Janus.debug("isDataEnabled:",e),"edge"===Janus.webRTCAdapter.browserDetails.browser)return Janus.warn("Edge doesn't support data channels yet"),!1;return null!=e&&!0===e.data})(n)&&!a.dataChannel[Janus.dataChanDefaultLabel]&&(Janus.log("Creating data channel"),O(e,Janus.dataChanDefaultLabel,!1),a.pc.ondatachannel=function(t){Janus.log("Data channel created by Janus:",t),O(e,t.channel.label,t.channel)}),a.myStream&&o.onlocalstream(a.myStream),t?a.pc.setRemoteDescription(t).then((function(){if(Janus.log("Remote description accepted!"),a.remoteSdp=t.sdp,a.candidates&&a.candidates.length>0){for(var i=0;i<a.candidates.length;i++){var o=a.candidates[i];Janus.debug("Adding remote candidate:",o),o&&!0!==o.completed?a.pc.addIceCandidate(o):a.pc.addIceCandidate(Janus.endOfCandidates)}a.candidates=[]}!function(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:Janus.noop,n.error="function"==typeof n.error?n.error:Janus.noop,n.customizeSdp="function"==typeof n.customizeSdp?n.customizeSdp:Janus.noop;var r=$[e];if(!r||!r.webrtcStuff)return Janus.warn("Invalid handle"),void n.error("Invalid handle");var i=r.webrtcStuff,o=!0===n.simulcast;o?Janus.log("Creating answer (iceDone="+i.iceDone+", simulcast="+o+")"):Janus.log("Creating answer (iceDone="+i.iceDone+")");var a=null;if(Janus.unifiedPlan){a={};var s=null,u=null,c=i.pc.getTransceivers();if(c&&c.length>0)for(var l of c)l.sender&&l.sender.track&&"audio"===l.sender.track.kind||l.receiver&&l.receiver.track&&"audio"===l.receiver.track.kind?s||(s=l):(l.sender&&l.sender.track&&"video"===l.sender.track.kind||l.receiver&&l.receiver.track&&"video"===l.receiver.track.kind)&&(u||(u=l));var d=z(t),p=H(t);if(d||p){if(d&&p){if(s)try{s.setDirection?s.setDirection("sendrecv"):s.direction="sendrecv",Janus.log("Setting audio transceiver to sendrecv:",s)}catch(e){Janus.error(e)}}else if(d&&!p)try{s&&(s.setDirection?s.setDirection("sendonly"):s.direction="sendonly",Janus.log("Setting audio transceiver to sendonly:",s))}catch(e){Janus.error(e)}else if(!d&&p)if(s)try{s.setDirection?s.setDirection("recvonly"):s.direction="recvonly",Janus.log("Setting audio transceiver to recvonly:",s)}catch(e){Janus.error(e)}else s=i.pc.addTransceiver("audio",{direction:"recvonly"}),Janus.log("Adding recvonly audio transceiver:",s)}else if(t.removeAudio&&s)try{s.setDirection?s.setDirection("inactive"):s.direction="inactive",Janus.log("Setting audio transceiver to inactive:",s)}catch(e){Janus.error(e)}var f=W(t),h=B(t);if(f||h){if(f&&h){if(u)try{u.setDirection?u.setDirection("sendrecv"):u.direction="sendrecv",Janus.log("Setting video transceiver to sendrecv:",u)}catch(e){Janus.error(e)}}else if(f&&!h){if(u)try{u.setDirection?u.setDirection("sendonly"):u.direction="sendonly",Janus.log("Setting video transceiver to sendonly:",u)}catch(e){Janus.error(e)}}else if(!f&&h)if(u)try{u.setDirection?u.setDirection("recvonly"):u.direction="recvonly",Janus.log("Setting video transceiver to recvonly:",u)}catch(e){Janus.error(e)}else u=i.pc.addTransceiver("video",{direction:"recvonly"}),Janus.log("Adding recvonly video transceiver:",u)}else if(t.removeVideo&&u)try{u.setDirection?u.setDirection("inactive"):u.direction="inactive",Janus.log("Setting video transceiver to inactive:",u)}catch(e){Janus.error(e)}}else a="firefox"===Janus.webRTCAdapter.browserDetails.browser||"edge"===Janus.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:H(t),offerToReceiveVideo:B(t)}:{mandatory:{OfferToReceiveAudio:H(t),OfferToReceiveVideo:B(t)}};Janus.debug(a);var v=W(t);if(v&&o&&"firefox"===Janus.webRTCAdapter.browserDetails.browser){Janus.log("Enabling Simulcasting for Firefox (RID)");var m=i.pc.getSenders()[1];Janus.log(m);var g=m.getParameters();Janus.log(g);const e=b(n.simulcastMaxBitrates);m.setParameters({encodings:[{rid:"high",active:!0,priority:"high",maxBitrate:e.high},{rid:"medium",active:!0,priority:"medium",maxBitrate:e.medium},{rid:"low",active:!0,priority:"low",maxBitrate:e.low}]})}i.pc.createAnswer(a).then((function(e){Janus.debug(e);var t={type:e.type,sdp:e.sdp};n.customizeSdp(t),e.sdp=t.sdp,Janus.log("Setting local description"),v&&o&&("chrome"===Janus.webRTCAdapter.browserDetails.browser?Janus.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):"firefox"!==Janus.webRTCAdapter.browserDetails.browser&&Janus.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),i.mySdp=e.sdp,i.pc.setLocalDescription(e).catch(n.error),i.mediaConstraints=a,i.iceDone||i.trickle?n.success(e):Janus.log("Waiting for all candidates...")}),n.error)}(e,n,r)}),r.error):function(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:Janus.noop,n.error="function"==typeof n.error?n.error:Janus.noop,n.customizeSdp="function"==typeof n.customizeSdp?n.customizeSdp:Janus.noop;var r=$[e];if(!r||!r.webrtcStuff)return Janus.warn("Invalid handle"),void n.error("Invalid handle");var i=r.webrtcStuff,o=!0===n.simulcast;o?Janus.log("Creating offer (iceDone="+i.iceDone+", simulcast="+o+")"):Janus.log("Creating offer (iceDone="+i.iceDone+")");var a={};if(Janus.unifiedPlan){var s=null,u=null,c=i.pc.getTransceivers();if(c&&c.length>0)for(var l of c)l.sender&&l.sender.track&&"audio"===l.sender.track.kind||l.receiver&&l.receiver.track&&"audio"===l.receiver.track.kind?s||(s=l):(l.sender&&l.sender.track&&"video"===l.sender.track.kind||l.receiver&&l.receiver.track&&"video"===l.receiver.track.kind)&&(u||(u=l));var d=z(t),p=H(t);d||p?d&&p?s&&(s.setDirection?s.setDirection("sendrecv"):s.direction="sendrecv",Janus.log("Setting audio transceiver to sendrecv:",s)):d&&!p?s&&(s.setDirection?s.setDirection("sendonly"):s.direction="sendonly",Janus.log("Setting audio transceiver to sendonly:",s)):!d&&p&&(s?(s.setDirection?s.setDirection("recvonly"):s.direction="recvonly",Janus.log("Setting audio transceiver to recvonly:",s)):(s=i.pc.addTransceiver("audio",{direction:"recvonly"}),Janus.log("Adding recvonly audio transceiver:",s))):t.removeAudio&&s&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive",Janus.log("Setting audio transceiver to inactive:",s));var f=W(t),h=B(t);f||h?f&&h?u&&(u.setDirection?u.setDirection("sendrecv"):u.direction="sendrecv",Janus.log("Setting video transceiver to sendrecv:",u)):f&&!h?u&&(u.setDirection?u.setDirection("sendonly"):u.direction="sendonly",Janus.log("Setting video transceiver to sendonly:",u)):!f&&h&&(u?(u.setDirection?u.setDirection("recvonly"):u.direction="recvonly",Janus.log("Setting video transceiver to recvonly:",u)):(u=i.pc.addTransceiver("video",{direction:"recvonly"}),Janus.log("Adding recvonly video transceiver:",u))):t.removeVideo&&u&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive",Janus.log("Setting video transceiver to inactive:",u))}else a.offerToReceiveAudio=H(t),a.offerToReceiveVideo=B(t);!0===n.iceRestart&&(a.iceRestart=!0);Janus.debug(a);var v=W(t);if(v&&o&&"firefox"===Janus.webRTCAdapter.browserDetails.browser){Janus.log("Enabling Simulcasting for Firefox (RID)");var m=i.pc.getSenders().find((function(e){return"video"==e.track.kind}));if(m){var g=m.getParameters();g||(g={});const e=b(n.simulcastMaxBitrates);g.encodings=[{rid:"h",active:!0,maxBitrate:e.high},{rid:"m",active:!0,maxBitrate:e.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:e.low,scaleResolutionDownBy:4}],m.setParameters(g)}}i.pc.createOffer(a).then((function(e){Janus.debug(e);var t={type:e.type,sdp:e.sdp};n.customizeSdp(t),e.sdp=t.sdp,Janus.log("Setting local description"),v&&o&&("chrome"===Janus.webRTCAdapter.browserDetails.browser||"safari"===Janus.webRTCAdapter.browserDetails.browser?(Janus.log("Enabling Simulcasting for Chrome (SDP munging)"),e.sdp=function(e){for(var t=e.split("\r\n"),n=!1,r=[-1],i=[-1],o=null,a=null,s=null,u=null,c=-1,l=0;l<t.length;l++){if(p=t[l].match(/m=(\w+) */)){if("video"===p[1]){if(!(r[0]<0)){c=l;break}n=!0}else if(r[0]>-1){c=l;break}}else if(n){var d=t[l].match(/a=ssrc-group:FID (\d+) (\d+)/);if(d)r[0]=d[1],i[0]=d[2],t.splice(l,1),l--;else{if(r[0]){if((h=t[l].match("a=ssrc:"+r[0]+" cname:(.+)"))&&(o=h[1]),(h=t[l].match("a=ssrc:"+r[0]+" msid:(.+)"))&&(a=h[1]),(h=t[l].match("a=ssrc:"+r[0]+" mslabel:(.+)"))&&(s=h[1]),(h=t[l].match("a=ssrc:"+r[0]+" label:(.+)"))&&(u=h[1]),0===t[l].indexOf("a=ssrc:"+i[0])){t.splice(l,1),l--;continue}if(0===t[l].indexOf("a=ssrc:"+r[0])){t.splice(l,1),l--;continue}}0!=t[l].length||(t.splice(l,1),l--)}}}if(r[0]<0){c=-1,n=!1;for(l=0;l<t.length;l++){var p;if(p=t[l].match(/m=(\w+) */)){if("video"===p[1]){if(!(r[0]<0)){c=l;break}n=!0}else if(r[0]>-1){c=l;break}}else if(n){if(r[0]<0){var f=t[l].match(/a=ssrc:(\d+)/);if(f){r[0]=f[1],t.splice(l,1),l--;continue}}else{var h;if((h=t[l].match("a=ssrc:"+r[0]+" cname:(.+)"))&&(o=h[1]),(h=t[l].match("a=ssrc:"+r[0]+" msid:(.+)"))&&(a=h[1]),(h=t[l].match("a=ssrc:"+r[0]+" mslabel:(.+)"))&&(s=h[1]),(h=t[l].match("a=ssrc:"+r[0]+" label:(.+)"))&&(u=h[1]),0===t[l].indexOf("a=ssrc:"+i[0])){t.splice(l,1),l--;continue}if(0===t[l].indexOf("a=ssrc:"+r[0])){t.splice(l,1),l--;continue}}0!=t[l].length||(t.splice(l,1),l--)}}}if(r[0]<0)return Janus.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),e;c<0&&(c=t.length);r[1]=Math.floor(4294967295*Math.random()),r[2]=Math.floor(4294967295*Math.random()),i[1]=Math.floor(4294967295*Math.random()),i[2]=Math.floor(4294967295*Math.random());for(l=0;l<r.length;l++)o&&(t.splice(c,0,"a=ssrc:"+r[l]+" cname:"+o),c++),a&&(t.splice(c,0,"a=ssrc:"+r[l]+" msid:"+a),c++),s&&(t.splice(c,0,"a=ssrc:"+r[l]+" mslabel:"+s),c++),u&&(t.splice(c,0,"a=ssrc:"+r[l]+" label:"+u),c++),o&&(t.splice(c,0,"a=ssrc:"+i[l]+" cname:"+o),c++),a&&(t.splice(c,0,"a=ssrc:"+i[l]+" msid:"+a),c++),s&&(t.splice(c,0,"a=ssrc:"+i[l]+" mslabel:"+s),c++),u&&(t.splice(c,0,"a=ssrc:"+i[l]+" label:"+u),c++);t.splice(c,0,"a=ssrc-group:FID "+r[2]+" "+i[2]),t.splice(c,0,"a=ssrc-group:FID "+r[1]+" "+i[1]),t.splice(c,0,"a=ssrc-group:FID "+r[0]+" "+i[0]),t.splice(c,0,"a=ssrc-group:SIM "+r[0]+" "+r[1]+" "+r[2]),(e=t.join("\r\n")).endsWith("\r\n")||(e+="\r\n");return e}(e.sdp)):"firefox"!==Janus.webRTCAdapter.browserDetails.browser&&Janus.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),i.mySdp=e.sdp,i.pc.setLocalDescription(e).catch(n.error),i.mediaConstraints=a,i.iceDone||i.trickle?(Janus.log("Offer ready"),Janus.debug(n),n.success(e)):Janus.log("Waiting for all candidates...")}),n.error)}(e,n,r)}function j(e,t,n){(n=n||{}).success="function"==typeof n.success?n.success:Janus.noop,n.error="function"==typeof n.error?n.error:J;var r=n.jsep;if(t&&r)return Janus.error("Provided a JSEP to a createOffer"),void n.error("Provided a JSEP to a createOffer");if(!(t||r&&r.type&&r.sdp))return Janus.error("A valid JSEP is required for createAnswer"),void n.error("A valid JSEP is required for createAnswer");n.media="object"==typeof n.media&&n.media?n.media:{audio:!0,video:!0};var i=n.media,o=$[e];if(!o||!o.webrtcStuff)return Janus.warn("Invalid handle"),void n.error("Invalid handle");var a,s=o.webrtcStuff;if(s.trickle=(a=n.trickle,Janus.debug("isTrickleEnabled:",a),!1!==a),s.pc){if(Janus.log("Updating existing media session"),i.update=!0,n.stream)n.stream!==s.myStream&&Janus.log("Renegotiation involves a new external stream");else{if(i.addAudio){if(i.keepAudio=!1,i.replaceAudio=!1,i.removeAudio=!1,i.audioSend=!0,s.myStream&&s.myStream.getAudioTracks()&&s.myStream.getAudioTracks().length)return Janus.error("Can't add audio stream, there already is one"),void n.error("Can't add audio stream, there already is one")}else i.removeAudio?(i.keepAudio=!1,i.replaceAudio=!1,i.addAudio=!1,i.audioSend=!1):i.replaceAudio&&(i.keepAudio=!1,i.addAudio=!1,i.removeAudio=!1,i.audioSend=!0);if(s.myStream?s.myStream.getAudioTracks()&&0!==s.myStream.getAudioTracks().length?!z(i)||i.removeAudio||i.replaceAudio||(i.keepAudio=!0):(i.replaceAudio&&(i.keepAudio=!1,i.replaceAudio=!1,i.addAudio=!0,i.audioSend=!0),z(i)&&(i.keepVideo=!1,i.addAudio=!0)):(i.replaceAudio&&(i.keepAudio=!1,i.replaceAudio=!1,i.addAudio=!0,i.audioSend=!0),z(i)&&(i.keepAudio=!1,i.addAudio=!0)),i.addVideo){if(i.keepVideo=!1,i.replaceVideo=!1,i.removeVideo=!1,i.videoSend=!0,s.myStream&&s.myStream.getVideoTracks()&&s.myStream.getVideoTracks().length)return Janus.error("Can't add video stream, there already is one"),void n.error("Can't add video stream, there already is one")}else i.removeVideo?(i.keepVideo=!1,i.replaceVideo=!1,i.addVideo=!1,i.videoSend=!1):i.replaceVideo&&(i.keepVideo=!1,i.addVideo=!1,i.removeVideo=!1,i.videoSend=!0);s.myStream&&s.myStream.getVideoTracks()&&0!==s.myStream.getVideoTracks().length?!W(i)||i.removeVideo||i.replaceVideo||(i.keepVideo=!0):(i.replaceVideo&&(i.keepVideo=!1,i.replaceVideo=!1,i.addVideo=!0,i.videoSend=!0),W(i)&&(i.keepVideo=!1,i.addVideo=!0)),i.addData&&(i.data=!0)}if(z(i)&&i.keepAudio&&W(i)&&i.keepVideo)return o.consentDialog(!1),void N(e,r,i,n,s.myStream)}else i.update=!1,i.keepAudio=!1,i.keepVideo=!1;if(i.update&&!s.streamExternal){if(i.removeAudio||i.replaceAudio){if(s.myStream&&s.myStream.getAudioTracks()&&s.myStream.getAudioTracks().length){var u=s.myStream.getAudioTracks()[0];Janus.log("Removing audio track:",u),s.myStream.removeTrack(u);try{u.stop()}catch(e){}}if(s.pc.getSenders()&&s.pc.getSenders().length){var c=!0;if(i.replaceAudio&&Janus.unifiedPlan&&(c=!1),c)for(var u of s.pc.getSenders())u&&u.track&&"audio"===u.track.kind&&(Janus.log("Removing audio sender:",u),s.pc.removeTrack(u))}}if(i.removeVideo||i.replaceVideo){if(s.myStream&&s.myStream.getVideoTracks()&&s.myStream.getVideoTracks().length){u=s.myStream.getVideoTracks()[0];Janus.log("Removing video track:",u),s.myStream.removeTrack(u);try{u.stop()}catch(e){}}if(s.pc.getSenders()&&s.pc.getSenders().length){var l=!0;if(i.replaceVideo&&Janus.unifiedPlan&&(l=!1),l)for(var u of s.pc.getSenders())u&&u.track&&"video"===u.track.kind&&(Janus.log("Removing video sender:",u),s.pc.removeTrack(u))}}}if(n.stream){var d=n.stream;if(Janus.log("MediaStream provided by the application"),Janus.debug(d),i.update&&s.myStream&&s.myStream!==n.stream&&!s.streamExternal){try{var p=s.myStream.getTracks();for(var f of p)Janus.log(f),f&&f.stop()}catch(e){}s.myStream=null}return s.streamExternal=!0,o.consentDialog(!1),void N(e,r,i,n,d)}if(z(i)||W(i)){if(!Janus.isGetUserMediaAvailable())return void n.error("getUserMedia not available");var h={mandatory:{},optional:[]};o.consentDialog(!0);var v=z(i);v&&i&&"object"==typeof i.audio&&(v=i.audio);var m=W(i);if(m&&i){var g=!0===n.simulcast,b=!0===n.simulcast2;if(!g&&!b||r||i.video||(i.video="hires"),i.video&&"screen"!=i.video&&"window"!=i.video)if("object"==typeof i.video)m=i.video;else{var y=0,w=0;"lowres"===i.video?(w=240,240,y=320):"lowres-16:9"===i.video?(w=180,180,y=320):"hires"===i.video||"hires-16:9"===i.video||"hdres"===i.video?(w=720,720,y=1280):"fhdres"===i.video?(w=1080,1080,y=1920):"4kres"===i.video?(w=2160,2160,y=3840):"stdres"===i.video?(w=480,480,y=640):"stdres-16:9"===i.video?(w=360,360,y=640):(Janus.log("Default video setting is stdres 4:3"),w=480,480,y=640),Janus.log("Adding media constraint:",i.video),m={height:{ideal:w},width:{ideal:y}},Janus.log("Adding video constraint:",m)}else if("screen"===i.video||"window"===i.video){if(i.screenshareFrameRate||(i.screenshareFrameRate=3),navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return void navigator.mediaDevices.getDisplayMedia({video:!0,audio:i.captureDesktopAudio}).then((function(t){o.consentDialog(!1),z(i)&&!i.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(o){t.addTrack(o.getAudioTracks()[0]),N(e,r,i,n,t)})):N(e,r,i,n,t)}),(function(e){o.consentDialog(!1),n.error(e)}));function _(t,a){o.consentDialog(!1),t?n.error(t):N(e,r,i,n,a)}function C(e,t,n){Janus.log("Adding media constraint (screen capture)"),Janus.debug(e),navigator.mediaDevices.getUserMedia(e).then((function(e){n?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(n){e.addTrack(n.getAudioTracks()[0]),t(null,e)})):t(null,e)})).catch((function(e){o.consentDialog(!1),t(e)}))}if("chrome"===Janus.webRTCAdapter.browserDetails.browser){var x=Janus.webRTCAdapter.browserDetails.version,k=33;window.navigator.userAgent.match("Linux")&&(k=35),x>=26&&x<=k?C(h={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:i.screenshareFrameRate,maxFrameRate:i.screenshareFrameRate,chromeMediaSource:"screen"}},audio:z(i)&&!i.keepAudio},_):Janus.extension.getScreen((function(e,t){if(e)return o.consentDialog(!1),n.error(e);(h={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:i.screenshareFrameRate,maxFrameRate:i.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=t,C(h,_,z(i)&&!i.keepAudio)}))}else if("firefox"===Janus.webRTCAdapter.browserDetails.browser){if(!(Janus.webRTCAdapter.browserDetails.version>=33)){var S=new Error("NavigatorUserMediaError");return S.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",o.consentDialog(!1),void n.error(S)}C(h={video:{mozMediaSource:i.video,mediaSource:i.video},audio:z(i)&&!i.keepAudio},(function(e,t){if(_(e,t),!e)var n=t.currentTime,r=window.setInterval((function(){t||window.clearInterval(r),t.currentTime==n&&(window.clearInterval(r),t.onended&&t.onended()),n=t.currentTime}),500)}))}return}}i&&"screen"===i.video||navigator.mediaDevices.enumerateDevices().then((function(t){var a=t.some((function(e){return"audioinput"===e.kind})),s=function(e){if(Janus.debug("isScreenSendEnabled:",e),!e)return!1;if("object"!=typeof e.video||"object"!=typeof e.video.mandatory)return!1;var t=e.video.mandatory;if(t.chromeMediaSource)return"desktop"===t.chromeMediaSource||"screen"===t.chromeMediaSource;if(t.mozMediaSource)return"window"===t.mozMediaSource||"screen"===t.mozMediaSource;if(t.mediaSource)return"window"===t.mediaSource||"screen"===t.mediaSource;return!1}(i)||t.some((function(e){return"videoinput"===e.kind})),u=z(i),c=W(i),l=function(e){return Janus.debug("isAudioSendRequired:",e),!!e&&(!1!==e.audio&&!1!==e.audioSend&&(void 0!==e.failIfNoAudio&&null!==e.failIfNoAudio&&!0===e.failIfNoAudio))}(i),p=function(e){return Janus.debug("isVideoSendRequired:",e),!!e&&(!1!==e.video&&!1!==e.videoSend&&(void 0!==e.failIfNoVideo&&null!==e.failIfNoVideo&&!0===e.failIfNoVideo))}(i);if(u||c||l||p){var f=!!u&&a,h=!!c&&s;if(!f&&!h)return o.consentDialog(!1),n.error("No capture device found"),!1;if(!f&&l)return o.consentDialog(!1),n.error("Audio capture is required, but no capture device found"),!1;if(!h&&p)return o.consentDialog(!1),n.error("Video capture is required, but no capture device found"),!1}var g={audio:!(!a||i.keepAudio)&&v,video:!(!s||i.keepVideo)&&m};Janus.debug("getUserMedia constraints",g),g.audio||g.video?navigator.mediaDevices.getUserMedia(g).then((function(t){o.consentDialog(!1),N(e,r,i,n,t)})).catch((function(e){o.consentDialog(!1),n.error({code:e.code,name:e.name,message:e.message})})):(o.consentDialog(!1),N(e,r,i,n,d))})).catch((function(e){o.consentDialog(!1),n.error("enumerateDevices error",e)}))}else N(e,r,i,n)}function I(e,t){(t=t||{}).success="function"==typeof t.success?t.success:Janus.noop,t.error="function"==typeof t.error?t.error:J;var n=t.jsep,r=$[e];if(!r||!r.webrtcStuff)return Janus.warn("Invalid handle"),void t.error("Invalid handle");var i=r.webrtcStuff;if(n){if(!i.pc)return Janus.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),void t.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");i.pc.setRemoteDescription(n).then((function(){if(Janus.log("Remote description accepted!"),i.remoteSdp=n.sdp,i.candidates&&i.candidates.length>0){for(var e=0;e<i.candidates.length;e++){var r=i.candidates[e];Janus.debug("Adding remote candidate:",r),r&&!0!==r.completed?i.pc.addIceCandidate(r):i.pc.addIceCandidate(Janus.endOfCandidates)}i.candidates=[]}t.success()}),t.error)}else t.error("Invalid JSEP")}function L(e,t){var n=$[e];if(!n||!n.webrtcStuff)return Janus.warn("Invalid handle"),0;var r=t?"remote":"local",i=n.webrtcStuff;return i.volume[r]||(i.volume[r]={value:0}),i.pc.getStats&&"chrome"===Janus.webRTCAdapter.browserDetails.browser?t&&!i.remoteStream?(Janus.warn("Remote stream unavailable"),0):t||i.myStream?i.volume[r].timer?i.volume[r].value:(Janus.log("Starting "+r+" volume monitor"),i.volume[r].timer=setInterval((function(){i.pc.getStats().then((function(e){for(var n=e.result(),o=0;o<n.length;o++){var a=n[o];"ssrc"==a.type&&(t&&a.stat("audioOutputLevel")?i.volume[r].value=parseInt(a.stat("audioOutputLevel")):!t&&a.stat("audioInputLevel")&&(i.volume[r].value=parseInt(a.stat("audioInputLevel"))))}}))}),200),0):(Janus.warn("Local stream unavailable"),0):(Janus.warn("Getting the "+r+" volume unsupported by browser"),0)}function U(e,t){var n=$[e];if(!n||!n.webrtcStuff)return Janus.warn("Invalid handle"),!0;var r=n.webrtcStuff;return r.pc?r.myStream?t?r.myStream.getVideoTracks()&&0!==r.myStream.getVideoTracks().length?!r.myStream.getVideoTracks()[0].enabled:(Janus.warn("No video track"),!0):r.myStream.getAudioTracks()&&0!==r.myStream.getAudioTracks().length?!r.myStream.getAudioTracks()[0].enabled:(Janus.warn("No audio track"),!0):(Janus.warn("Invalid local MediaStream"),!0):(Janus.warn("Invalid PeerConnection"),!0)}function q(e,t,n){var r=$[e];if(!r||!r.webrtcStuff)return Janus.warn("Invalid handle"),!1;var i=r.webrtcStuff;return i.pc?i.myStream?t?i.myStream.getVideoTracks()&&0!==i.myStream.getVideoTracks().length?(i.myStream.getVideoTracks()[0].enabled=!n,!0):(Janus.warn("No video track"),!1):i.myStream.getAudioTracks()&&0!==i.myStream.getAudioTracks().length?(i.myStream.getAudioTracks()[0].enabled=!n,!0):(Janus.warn("No audio track"),!1):(Janus.warn("Invalid local MediaStream"),!1):(Janus.warn("Invalid PeerConnection"),!1)}function F(e){var t=$[e];if(!t||!t.webrtcStuff)return Janus.warn("Invalid handle"),"Invalid handle";var n=t.webrtcStuff;return n.pc?n.pc.getStats?n.bitrate.timer?n.bitrate.value:(Janus.log("Starting bitrate timer (via getStats)"),n.bitrate.timer=setInterval((function(){n.pc.getStats().then((function(e){e.forEach((function(e){if(e){var t=!1;if(("video"===e.mediaType||e.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===e.type&&e.id.indexOf("rtcp")<0?t=!0:"ssrc"!=e.type||!e.bytesReceived||"VP8"!==e.googCodecName&&""!==e.googCodecName||(t=!0),t)if(n.bitrate.bsnow=e.bytesReceived,n.bitrate.tsnow=e.timestamp,null===n.bitrate.bsbefore||null===n.bitrate.tsbefore)n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow;else{var r=n.bitrate.tsnow-n.bitrate.tsbefore;"safari"===Janus.webRTCAdapter.browserDetails.browser&&(r/=1e3);var i=Math.round(8*(n.bitrate.bsnow-n.bitrate.bsbefore)/r);"safari"===Janus.webRTCAdapter.browserDetails.browser&&(i=parseInt(i/1e3)),n.bitrate.value=i+" kbits/sec",n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow}}}))}))}),1e3),"0 kbits/sec"):(Janus.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser"):"Invalid PeerConnection"}function J(e){Janus.error("WebRTC error:",e)}function V(e,r){Janus.log("Cleaning WebRTC stuff");var i=$[e];if(i){var o=i.webrtcStuff;if(o){if(!0===r){var a={janus:"hangup",transaction:Janus.randomString(12)};i.token&&(a.token=i.token),v&&(a.apisecret=v),Janus.debug("Sending hangup request (handle="+e+"):"),Janus.debug(a),t?(a.session_id=w,a.handle_id=e,n.send(JSON.stringify(a))):Janus.httpAPICall(s+"/"+w+"/"+e,{verb:"POST",withCredentials:p,body:a})}o.remoteStream=null,o.volume&&(o.volume.local&&o.volume.local.timer&&clearInterval(o.volume.local.timer),o.volume.remote&&o.volume.remote.timer&&clearInterval(o.volume.remote.timer)),o.volume={},o.bitrate.timer&&clearInterval(o.bitrate.timer),o.bitrate.timer=null,o.bitrate.bsnow=null,o.bitrate.bsbefore=null,o.bitrate.tsnow=null,o.bitrate.tsbefore=null,o.bitrate.value=null;try{if(!o.streamExternal&&o.myStream){Janus.log("Stopping local stream tracks");var u=o.myStream.getTracks();for(var c of u)Janus.log(c),c&&c.stop()}}catch(e){}o.streamExternal=!1,o.myStream=null;try{o.pc.close()}catch(e){}o.pc=null,o.candidates=null,o.mySdp=null,o.remoteSdp=null,o.iceDone=!1,o.dataChannel={},o.dtmfSender=null}i.oncleanup()}}function z(e){return Janus.debug("isAudioSendEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioSend||null===e.audioSend||!0===e.audioSend)}function H(e){return Janus.debug("isAudioRecvEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioRecv||null===e.audioRecv||!0===e.audioRecv)}function W(e){return Janus.debug("isVideoSendEnabled:",e),!e||!1!==e.video&&(void 0===e.videoSend||null===e.videoSend||!0===e.videoSend)}function B(e){return Janus.debug("isVideoRecvEnabled:",e),!e||!1!==e.video&&(void 0===e.videoRecv||null===e.videoRecv||!0===e.videoRecv)}T(e),this.getServer=function(){return s},this.isConnected=function(){return y},this.reconnect=function(e){(e=e||{}).success="function"==typeof e.success?e.success:Janus.noop,e.error="function"==typeof e.error?e.error:Janus.noop,e.reconnect=!0,T(e)},this.getSessionId=function(){return w},this.destroy=function(o){!function(o){(o=o||{}).success="function"==typeof o.success?o.success:Janus.noop;var a=!0===o.unload,u=!0;void 0!==o.notifyDestroyed&&null!==o.notifyDestroyed&&(u=!0===o.notifyDestroyed);var c=!0===o.cleanupHandles;if(Janus.log("Destroying session "+w+" (unload="+a+")"),!w)return Janus.warn("No session to destroy"),o.success(),void(u&&e.destroyed());if(c)for(var l in $)R(l,{noRequest:!0});if(!y)return Janus.warn("Is the server down? (connected=false)"),w=null,void o.success();var d={janus:"destroy",transaction:Janus.randomString(12)};h&&(d.token=h);v&&(d.apisecret=v);if(a)return t?(n.onclose=null,n.close(),n=null):navigator.sendBeacon(s+"/"+w,JSON.stringify(d)),Janus.log("Destroyed session:"),w=null,y=!1,o.success(),void(u&&e.destroyed());if(t){d.session_id=w;var f=function(){for(var e in r)n.removeEventListener(e,r[e]);n.removeEventListener("message",m),n.removeEventListener("error",g),i&&clearTimeout(i),n.close()},m=function(t){var n=JSON.parse(t.data);n.session_id==d.session_id&&n.transaction==d.transaction&&(f(),o.success(),u&&e.destroyed())},g=function(t){f(),o.error("Failed to destroy the server: Is the server down?"),u&&e.destroyed()};return n.addEventListener("message",m),n.addEventListener("error",g),void n.send(JSON.stringify(d))}Janus.httpAPICall(s+"/"+w,{verb:"POST",withCredentials:p,body:d,success:function(t){Janus.log("Destroyed session:"),Janus.debug(t),w=null,y=!1,"success"!==t.janus&&Janus.error("Ooops: "+t.error.code+" "+t.error.reason),o.success(),u&&e.destroyed()},error:function(t,n){Janus.error(t+":",n),w=null,y=!1,o.success(),u&&e.destroyed()}})}(o)},this.attach=function(e){!function(e){if((e=e||{}).success="function"==typeof e.success?e.success:Janus.noop,e.error="function"==typeof e.error?e.error:Janus.noop,e.consentDialog="function"==typeof e.consentDialog?e.consentDialog:Janus.noop,e.iceState="function"==typeof e.iceState?e.iceState:Janus.noop,e.mediaState="function"==typeof e.mediaState?e.mediaState:Janus.noop,e.webrtcState="function"==typeof e.webrtcState?e.webrtcState:Janus.noop,e.slowLink="function"==typeof e.slowLink?e.slowLink:Janus.noop,e.onmessage="function"==typeof e.onmessage?e.onmessage:Janus.noop,e.onlocalstream="function"==typeof e.onlocalstream?e.onlocalstream:Janus.noop,e.onremotestream="function"==typeof e.onremotestream?e.onremotestream:Janus.noop,e.ondata="function"==typeof e.ondata?e.ondata:Janus.noop,e.ondataopen="function"==typeof e.ondataopen?e.ondataopen:Janus.noop,e.oncleanup="function"==typeof e.oncleanup?e.oncleanup:Janus.noop,e.ondetached="function"==typeof e.ondetached?e.ondetached:Janus.noop,!y)return Janus.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var r=e.plugin;if(!r)return Janus.error("Invalid plugin"),void e.error("Invalid plugin");var i=e.opaqueId,o=e.token?e.token:h,a=Janus.randomString(12),u={janus:"attach",plugin:r,opaque_id:i,transaction:a};o&&(u.token=o);v&&(u.apisecret=v);if(t)return x[a]=function(t){if(Janus.debug(t),"success"!==t.janus)return Janus.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var n=t.data.id;Janus.log("Created handle: "+n);var i={session:_,plugin:r,id:n,token:o,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return n},getPlugin:function(){return r},getVolume:function(){return L(n,!0)},getRemoteVolume:function(){return L(n,!0)},getLocalVolume:function(){return L(n,!1)},isAudioMuted:function(){return U(n,!1)},muteAudio:function(){return q(n,!1,!0)},unmuteAudio:function(){return q(n,!1,!1)},isVideoMuted:function(){return U(n,!0)},muteVideo:function(){return q(n,!0,!0)},unmuteVideo:function(){return q(n,!0,!1)},getBitrate:function(){return F(n)},send:function(e){D(n,e)},data:function(e){P(n,e)},dtmf:function(e){M(n,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){j(n,!0,e)},createAnswer:function(e){j(n,!1,e)},handleRemoteJsep:function(e){I(n,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){V(n,!0===e)},detach:function(e){R(n,e)}};$[n]=i,e.success(i)},u.session_id=w,void n.send(JSON.stringify(u));Janus.httpAPICall(s+"/"+w,{verb:"POST",withCredentials:p,body:u,success:function(t){if(Janus.debug(t),"success"!==t.janus)return Janus.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error("Ooops: "+t.error.code+" "+t.error.reason);var n=t.data.id;Janus.log("Created handle: "+n);var i={session:_,plugin:r,id:n,token:o,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return n},getPlugin:function(){return r},getVolume:function(){return L(n,!0)},getRemoteVolume:function(){return L(n,!0)},getLocalVolume:function(){return L(n,!1)},isAudioMuted:function(){return U(n,!1)},muteAudio:function(){return q(n,!1,!0)},unmuteAudio:function(){return q(n,!1,!1)},isVideoMuted:function(){return U(n,!0)},muteVideo:function(){return q(n,!0,!0)},unmuteVideo:function(){return q(n,!0,!1)},getBitrate:function(){return F(n)},send:function(e){D(n,e)},data:function(e){P(n,e)},dtmf:function(e){M(n,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){j(n,!0,e)},createAnswer:function(e){j(n,!1,e)},handleRemoteJsep:function(e){I(n,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){V(n,!0===e)},detach:function(e){R(n,e)}};$[n]=i,e.success(i)},error:function(e,t){Janus.error(e+":",t)}})}(e)}}Janus.useDefaultDependencies=function(e){var t=e&&e.fetch||fetch,n=e&&e.Promise||Promise,r=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new r(e,t)},extension:e&&e.extension||defaultExtension,isArray:function(e){return Array.isArray(e)},webRTCAdapter:e&&e.adapter||adapter,httpAPICall:function(e,r){var i={method:r.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};"POST"===r.verb&&(i.headers["Content-Type"]="application/json"),void 0!==r.withCredentials&&(i.credentials=!0===r.withCredentials?"include":r.withCredentials?r.withCredentials:"omit"),r.body&&(i.body=JSON.stringify(r.body));var o=t(e,i).catch((function(e){return n.reject({message:"Probably a network error, is the server down?",error:e})}));if(r.timeout){var a=new n((function(e,t){var n=setTimeout((function(){return clearTimeout(n),t({message:"Request timed out",timeout:r.timeout})}),r.timeout)}));o=n.race([o,a])}return o.then((function(e){return e.ok?typeof r.success==typeof Janus.noop?e.json().then((function(e){r.success(e)})).catch((function(t){return n.reject({message:"Failed to parse response body",error:t,response:e})})):void 0:n.reject({message:"API call failed",response:e})})).catch((function(e){typeof r.error==typeof Janus.noop&&r.error(e.message||"<< internal error >>",e)})),o}}},Janus.useOldDependencies=function(e){var t=e&&e.jQuery||jQuery,n=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new n(e,t)},isArray:function(e){return t.isArray(e)},extension:e&&e.extension||defaultExtension,webRTCAdapter:e&&e.adapter||adapter,httpAPICall:function(e,n){var r=void 0!==n.body?{contentType:"application/json",data:JSON.stringify(n.body)}:{},i=void 0!==n.withCredentials?{xhrFields:{withCredentials:n.withCredentials}}:{};return t.ajax(t.extend(r,i,{url:e,type:n.verb,cache:!1,dataType:"json",async:n.async,timeout:n.timeout,success:function(e){typeof n.success==typeof Janus.noop&&n.success(e)},error:function(e,t,r){typeof n.error==typeof Janus.noop&&n.error(t,r)}}))}}},Janus.noop=function(){},Janus.dataChanDefaultLabel="JanusDataChannel",Janus.endOfCandidates=null,Janus.init=function(e){if((e=e||{}).callback="function"==typeof e.callback?e.callback:Janus.noop,Janus.initDone)e.callback();else{if("undefined"!=typeof console&&void 0!==console.log||(console={log:function(){}}),Janus.trace=Janus.noop,Janus.debug=Janus.noop,Janus.vdebug=Janus.noop,Janus.log=Janus.noop,Janus.warn=Janus.noop,Janus.error=Janus.noop,!0===e.debug||"all"===e.debug)Janus.trace=console.trace.bind(console),Janus.debug=console.debug.bind(console),Janus.vdebug=console.debug.bind(console),Janus.log=console.log.bind(console),Janus.warn=console.warn.bind(console),Janus.error=console.error.bind(console);else if(Array.isArray(e.debug))for(var t of e.debug)switch(t){case"trace":Janus.trace=console.trace.bind(console);break;case"debug":Janus.debug=console.debug.bind(console);break;case"vdebug":Janus.vdebug=console.debug.bind(console);break;case"log":Janus.log=console.log.bind(console);break;case"warn":Janus.warn=console.warn.bind(console);break;case"error":Janus.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+t+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')")}Janus.log("Initializing library");var n=e.dependencies||Janus.useDefaultDependencies();Janus.isArray=n.isArray,Janus.webRTCAdapter=n.webRTCAdapter,Janus.httpAPICall=n.httpAPICall,Janus.newWebSocket=n.newWebSocket,Janus.extension=n.extension,Janus.extension.init(),Janus.listDevices=function(e,t){e="function"==typeof e?e:Janus.noop,null==t&&(t={audio:!0,video:!0}),Janus.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(t).then((function(t){navigator.mediaDevices.enumerateDevices().then((function(n){Janus.debug(n),e(n);try{var r=t.getTracks();for(var i of r)i&&i.stop()}catch(e){}}))})).catch((function(t){Janus.error(t),e([])})):(Janus.warn("navigator.mediaDevices unavailable"),e([]))},Janus.attachMediaStream=function(e,t){try{e.srcObject=t}catch(n){try{e.src=URL.createObjectURL(t)}catch(e){Janus.error("Error attaching stream to element")}}},Janus.reattachMediaStream=function(e,t){try{e.srcObject=t.srcObject}catch(n){try{e.src=t.src}catch(e){Janus.error("Error reattaching stream to element")}}};var r=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0?"pagehide":"beforeunload",i=window["on"+r];if(window.addEventListener(r,(function(e){for(var t in Janus.log("Closing window"),Janus.sessions)Janus.sessions[t]&&Janus.sessions[t].destroyOnUnload&&(Janus.log("Destroying session "+t),Janus.sessions[t].destroy({unload:!0,notifyDestroyed:!1}));i&&"function"==typeof i&&i()})),Janus.safariVp8=!1,"safari"===Janus.webRTCAdapter.browserDetails.browser&&Janus.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){for(var o of RTCRtpSender.getCapabilities("video").codecs)if(o&&o.mimeType&&"video/vp8"===o.mimeType.toLowerCase()){Janus.safariVp8=!0;break}Janus.safariVp8?Janus.log("This version of Safari supports VP8"):Janus.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var a=new RTCPeerConnection({},{});a.createOffer({offerToReceiveVideo:!0}).then((function(e){Janus.safariVp8=-1!==e.sdp.indexOf("VP8"),Janus.safariVp8?Janus.log("This version of Safari supports VP8"):Janus.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),a.close(),a=null}))}if(Janus.unifiedPlan=!1,"firefox"===Janus.webRTCAdapter.browserDetails.browser&&Janus.webRTCAdapter.browserDetails.version>=59)Janus.unifiedPlan=!0;else if("chrome"===Janus.webRTCAdapter.browserDetails.browser&&Janus.webRTCAdapter.browserDetails.version<72)Janus.unifiedPlan=!1;else if(window.RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype){const e=new RTCPeerConnection;try{e.addTransceiver("audio"),Janus.unifiedPlan=!0}catch(e){}e.close()}else Janus.unifiedPlan=!1;Janus.initDone=!0,e.callback()}},Janus.isWebrtcSupported=function(){return!!window.RTCPeerConnection},Janus.isGetUserMediaAvailable=function(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)},Janus.randomString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++){var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n},
/*!
   angular-block-ui v0.2.1
   (c) 2015 (null) McNull https://github.com/McNull/angular-block-ui
   License: MIT
*/
function(e){var t=e.module("blockUI",[]);t.config(["$provide","$httpProvider",function(e,t){e.decorator("$exceptionHandler",["$delegate","$injector",function(e,t){var n,r;return function(i,o){if((r=r||t.get("blockUIConfig")).resetOnException)try{(n=n||t.get("blockUI")).instances.reset()}catch(e){console.log("$exceptionHandler",i)}e(i,o)}}]),t.interceptors.push("blockUIHttpInterceptor")}]),t.run(["$document","blockUIConfig","$templateCache",function(e,t,n){t.autoInjectBodyBlock&&e.find("body").attr("block-ui","main"),t.template&&(t.templateUrl="$$block-ui-template$$",n.put(t.templateUrl,t.template))}]),t.config(["$provide",function(e){e.decorator("$location",n)}]);var n=["$delegate","blockUI","blockUIConfig",function(t,n,r){if(r.blockBrowserNavigation){n.$_blockLocationChange=!0;e.forEach(["url","path","search","hash","state"],(function(e){var r=t[e];t[e]=function(){var e=r.apply(t,arguments);return e===t&&(n.$_blockLocationChange=!1),e}}))}return t}];function r(t,n,r){if(r.blockBrowserNavigation){function i(){t.$on("$locationChangeStart",(function(e){n.$_blockLocationChange&&n.state().blockCount>0&&e.preventDefault()})),t.$on("$locationChangeSuccess",(function(){n.$_blockLocationChange=r.blockBrowserNavigation}))}if(function(t){try{e.module(t)}catch(e){return!1}return!0}("ngRoute"))var o=t.$on("$viewContentLoaded",(function(){o(),i()}));else i()}}t.directive("blockUiContainer",["blockUIConfig","blockUiContainerLinkFn",function(e,t){return{scope:!0,restrict:"A",templateUrl:e.templateUrl,compile:function(e){return t}}}]).factory("blockUiContainerLinkFn",["blockUI","blockUIUtils",function(e,t){return function(e,t,n){var r=t.inheritedData("block-ui");if(!r)throw new Error("No parent block-ui service instance located.");e.state=r.state()}}]),t.directive("blockUi",["blockUiCompileFn",function(e){return{scope:!0,restrict:"A",compile:e}}]).factory("blockUiCompileFn",["blockUiPreLinkFn",function(e){return function(t,n){return t.append('<div block-ui-container class="block-ui-container"></div>'),{pre:e}}}]).factory("blockUiPreLinkFn",["blockUI","blockUIUtils","blockUIConfig",function(e,t,n){return function(i,o,a){o.hasClass("block-ui")||o.addClass(n.cssClass),a.$observe("blockUiMessageClass",(function(e){i.$_blockUiMessageClass=e}));var s=a.blockUi||"_"+i.$id,u=e.instances.get(s);if("main"===s)r(i,u,n);else{var c=o.inheritedData("block-ui");c&&(u._parent=c)}i.$on("$destroy",(function(){u.release()})),u.addRef(),i.$_blockUiState=u.state(),i.$watch("$_blockUiState.blocking",(function(e){o.attr("aria-busy",!!e),o.toggleClass("block-ui-visible",!!e)})),i.$watch("$_blockUiState.blockCount > 0",(function(e){o.toggleClass("block-ui-active",!!e)}));var l=a.blockUiPattern;if(l){var d=t.buildRegExp(l);u.pattern(d)}o.data("block-ui",u)}}]),t.constant("blockUIConfig",{templateUrl:"angular-block-ui/angular-block-ui.ng.html",delay:250,message:"Loading ...",autoBlock:!0,resetOnException:!0,requestFilter:e.noop,autoInjectBodyBlock:!0,cssClass:"block-ui block-ui-anim-fade",blockBrowserNavigation:!1}),t.factory("blockUIHttpInterceptor",["$q","$injector","blockUIConfig","$templateCache",function(e,t,n,r){var i;function o(){i=i||t.get("blockUI")}function a(e){n.autoBlock&&e&&!e.$_noBlock&&e.$_blocks&&(o(),e.$_blocks.stop())}function s(t){try{a(t.config)}catch(e){console.log("httpRequestError",e)}return e.reject(t)}return{request:function(e){if(n.autoBlock&&("GET"!=e.method||!r.get(e.url))){var t=n.requestFilter(e);!1===t?e.$_noBlock=!0:(o(),e.$_blocks=i.instances.locate(e),e.$_blocks.start(t))}return e},requestError:s,response:function(e){return e&&a(e.config),e},responseError:s}}]),t.factory("blockUI",["blockUIConfig","$timeout","blockUIUtils","$document",function(t,n,r,i){var o=i.find("body"),a=["id","blockCount","blocking"];function s(s){var u,l=this,d={id:s,blockCount:0,message:t.message,blocking:!1},p=[];this._id=s,this._refs=0,this.start=function(s){s=s||{},e.isString(s)?s={message:s}:e.forEach(a,(function(e){if(s[e])throw new Error("The property "+e+" is reserved for the block state.")})),e.extend(d,s),d.blockCount>0?d.message=s.message||d.message||t.message:d.message=s.message||t.message,d.blockCount++;var c=e.element(i[0].activeElement);function p(){u=null,d.blocking=!0}c.length&&r.isElementInBlockScope(c,l)&&(l._restoreFocus=c[0],n((function(){l._restoreFocus&&l._restoreFocus!==o[0]&&l._restoreFocus.blur()}))),u||0===t.delay?0===t.delay&&p():u=n(p,t.delay)},this._cancelStartTimeout=function(){u&&(n.cancel(u),u=null)},this.stop=function(){d.blockCount=Math.max(0,--d.blockCount),0===d.blockCount&&l.reset(!0)},this.isBlocking=function(){return d.blocking},this.message=function(e){d.message=e},this.pattern=function(e){return void 0!==e&&(l._pattern=e),l._pattern},this.reset=function(t){if(l._cancelStartTimeout(),d.blockCount=0,d.blocking=!1,l._restoreFocus&&(!i[0].activeElement||i[0].activeElement===o[0])){try{l._restoreFocus.focus()}catch(e){r=l._restoreFocus,n((function(){if(r)try{r.focus()}catch(e){}}),100)}l._restoreFocus=null}var r;try{t&&e.forEach(p,(function(e){e()}))}finally{p.length=0}},this.done=function(e){p.push(e)},this.state=function(){return d},this.addRef=function(){l._refs+=1},this.release=function(){--l._refs<=0&&c.instances._destroy(l)}}var u=[];u.get=function(e){if(!isNaN(e))throw new Error("BlockUI id cannot be a number");var t=u[e];return t||(t=u[e]=new s(e),u.push(t)),t},u._destroy=function(t){if(e.isString(t)&&(t=u[t]),t){t.reset();var n=r.indexOf(u,t);u.splice(n,1),delete u[t.state().id]}},u.locate=function(e){var t=[];r.forEachFnHook(t,"start"),r.forEachFnHook(t,"stop");for(var n=u.length;n--;){var i=u[n],o=i._pattern;o&&o.test(e.url)&&t.push(i)}return 0===t.length&&t.push(c),t},r.forEachFnHook(u,"reset");var c=u.get("main");return c.addRef(),c.instances=u,c}]),t.factory("blockUIUtils",(function(){var t=e.element,n={buildRegExp:function(e){var t=e.match(/^\/(.*)\/([gim]*)$/);if(!t)throw Error("Incorrect regular expression format: "+e);return new RegExp(t[1],t[2])},forEachFn:function(e,t,n){for(var r=e.length;r--;){var i=e[r];i[t].apply(i,n)}},forEachFnHook:function(e,t){e[t]=function(){n.forEachFn(this,t,arguments)}},isElementInBlockScope:function(e,t){for(var n=e.inheritedData("block-ui");n;){if(n===t)return!0;n=n._parent}return!1},findElement:function(e,r,i){var o=null;if(r(e))o=e;else for(var a,s=(a=i?e.parent():e.children()).length;!o&&s--;)o=n.findElement(t(a[s]),r,i);return o},indexOf:function(e,t,n){for(var r=n||0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}};return n})),e.module("blockUI").run(["$templateCache",function(e){e.put("angular-block-ui/angular-block-ui.ng.html",'<div class="block-ui-overlay"></div><div class="block-ui-message-container" aria-live="assertive" aria-atomic="true"><div class="block-ui-message" ng-class="$_blockUiMessageClass">{{ state.message }}</div></div>')}])}(angular),function(){var e,t,n="Expected a function",r="__lodash_placeholder__",i="[object Arguments]",o="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",l="[object Number]",d="[object Object]",p="[object RegExp]",f="[object String]",h="[object Float32Array]",v="[object Float64Array]",m="[object Int8Array]",g="[object Int16Array]",b="[object Int32Array]",y="[object Uint8Array]",w="[object Uint16Array]",$="[object Uint32Array]",_=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,k=/&(?:amp|lt|gt|quot|#39|#96);/g,S=/[&<>"'`]/g,E=RegExp(k.source),T=RegExp(S.source),D=/<%-([\s\S]+?)%>/g,A=/<%([\s\S]+?)%>/g,O=/<%=([\s\S]+?)%>/g,P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,M=/^\w*$/,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,N=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,j=RegExp(N.source),I=/[\u0300-\u036f\ufe20-\ufe23]/g,L=/\\(\\)?/g,U=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,q=/\w*$/,F=/^0[xX]/,J=/^\[object .+?Constructor\]$/,V=/^\d+$/,z=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,H=/($^)/,W=/['\n\r\u2028\u2029\\]/g,B=(e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")),G=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Y=-1,X={};X[h]=X[v]=X[m]=X[g]=X[b]=X[y]=X["[object Uint8ClampedArray]"]=X[w]=X[$]=!0,X[i]=X[o]=X["[object ArrayBuffer]"]=X[a]=X[s]=X[u]=X[c]=X["[object Map]"]=X[l]=X[d]=X[p]=X["[object Set]"]=X[f]=X["[object WeakMap]"]=!1;var K={};K[i]=K[o]=K["[object ArrayBuffer]"]=K[a]=K[s]=K[h]=K[v]=K[m]=K[g]=K[b]=K[l]=K[d]=K[p]=K[f]=K[y]=K["[object Uint8ClampedArray]"]=K[w]=K[$]=!0,K[u]=K[c]=K["[object Map]"]=K["[object Set]"]=K["[object WeakMap]"]=!1;var Z={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},ee={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},te={function:!0,object:!0},ne={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},re={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ie=te[typeof exports]&&exports&&!exports.nodeType&&exports,oe=te[typeof module]&&module&&!module.nodeType&&module,ae=ie&&oe&&"object"==typeof global&&global&&global.Object&&global,se=te[typeof self]&&self&&self.Object&&self,ue=te[typeof window]&&window&&window.Object&&window,ce=oe&&oe.exports===ie&&ie,le=ae||ue!==(this&&this.window)&&ue||se||this;function de(e,t){if(e!==t){var n=null===e,r=void 0===e,i=e==e,o=null===t,a=void 0===t,s=t==t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(e<t&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function pe(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function fe(e,t,n){if(t!=t)return Ce(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function he(e){return"function"==typeof e||!1}function ve(e){return null==e?"":e+""}function me(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function ge(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function be(e,t){return de(e.criteria,t.criteria)||e.index-t.index}function ye(e){return Z[e]}function we(e){return Q[e]}function $e(e,t,n){return t?e=ne[e]:n&&(e=re[e]),"\\"+e}function _e(e){return"\\"+re[e]}function Ce(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!=o)return i}return-1}function xe(e){return!!e&&"object"==typeof e}function ke(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Se(e,t){for(var n=-1,i=e.length,o=-1,a=[];++n<i;)e[n]===t&&(e[n]=r,a[++o]=n);return a}function Ee(e){for(var t=-1,n=e.length;++t<n&&ke(e.charCodeAt(t)););return t}function Te(e){for(var t=e.length;t--&&ke(e.charCodeAt(t)););return t}function De(e){return ee[e]}var Ae=function e(t){var Z=(t=t?Ae.defaults(le.Object(),t,Ae.pick(le,G)):le).Array,Q=t.Date,ee=t.Error,te=t.Function,ne=t.Math,re=t.Number,ie=t.Object,oe=t.RegExp,ae=t.String,se=t.TypeError,ue=Z.prototype,ce=ie.prototype,ke=ae.prototype,Oe=te.prototype.toString,Pe=ce.hasOwnProperty,Me=0,Re=ce.toString,Ne=le._,je=oe("^"+Oe.call(Pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=t.ArrayBuffer,Le=t.clearTimeout,Ue=t.parseFloat,qe=ne.pow,Fe=ce.propertyIsEnumerable,Je=Zn(t,"Set"),Ve=t.setTimeout,ze=ue.splice,He=t.Uint8Array,We=Zn(t,"WeakMap"),Be=ne.ceil,Ge=Zn(ie,"create"),Ye=ne.floor,Xe=Zn(Z,"isArray"),Ke=t.isFinite,Ze=Zn(ie,"keys"),Qe=ne.max,et=ne.min,tt=Zn(Q,"now"),nt=t.parseInt,rt=ne.random,it=re.NEGATIVE_INFINITY,ot=re.POSITIVE_INFINITY,at=We&&new We,st={};function ut(e){if(xe(e)&&!Ei(e)&&!(e instanceof dt)){if(e instanceof lt)return e;if(Pe.call(e,"__chain__")&&Pe.call(e,"__wrapped__"))return gr(e)}return new lt(e)}function ct(){}function lt(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function dt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ot,this.__views__=[]}function pt(){this.__data__={}}function ft(e){var t=e?e.length:0;for(this.data={hash:Ge(null),set:new Je};t--;)this.push(e[t])}function ht(e,t){var n=e.data;return("string"==typeof t||Oi(t)?n.set.has(t):n.hash[t])?0:-1}function vt(e,t){var n=-1,r=e.length;for(t||(t=Z(r));++n<r;)t[n]=e[n];return t}function mt(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function gt(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function bt(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function yt(e,t){for(var n=-1,r=e.length,i=Z(r);++n<r;)i[n]=t(e[n],n,e);return i}function wt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function $t(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function _t(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Ct(e,t,n,r){return void 0!==e&&Pe.call(r,n)?e:t}function xt(e,t,n){for(var r=-1,i=Zi(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);((u==u?u!==s:s==s)||void 0===s&&!(a in e))&&(e[a]=u)}return e}function kt(e,t){return null==t?e:Et(t,Zi(t),e)}function St(e,t){for(var n=-1,r=null==e,i=!r&&er(e),o=i?e.length:0,a=t.length,s=Z(a);++n<a;){var u=t[n];s[n]=i?tr(u,o)?e[u]:void 0:r?void 0:e[u]}return s}function Et(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function Tt(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:fn(e,t,n):null==e?yo:"object"==r?Yt(e):void 0===t?ko(e):Xt(e,t)}function Dt(e,t,n,r,o,u,_){var C;if(n&&(C=o?n(e,r,o):n(e)),void 0!==C)return C;if(!Oi(e))return e;var x=Ei(e);if(x){if(C=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Pe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return vt(e,C)}else{var k=Re.call(e),S=k==c;if(k!=d&&k!=i&&(!S||o))return K[k]?function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return hn(e);case a:case s:return new r(+e);case h:case v:case m:case g:case b:case y:case"[object Uint8ClampedArray]":case w:case $:var i=e.buffer;return new r(n?hn(i):i,e.byteOffset,e.length);case l:case f:return new r(e);case p:var o=new r(e.source,q.exec(e));o.lastIndex=e.lastIndex}return o}(e,k,t):o?e:{};if(C=function(e){var t=e.constructor;"function"==typeof t&&t instanceof t||(t=ie);return new t}(S?{}:e),!t)return kt(C,e)}u||(u=[]),_||(_=[]);for(var E=u.length;E--;)if(u[E]==e)return _[E];return u.push(e),_.push(C),(x?mt:Jt)(e,(function(r,i){C[i]=Dt(r,t,n,i,e,u,_)})),C}ut.support={},ut.templateSettings={escape:D,evaluate:A,interpolate:O,variable:"",imports:{_:ut}};var At=function(){function e(){}return function(t){if(Oi(t)){e.prototype=t;var n=new e;e.prototype=void 0}return n||{}}}();function Ot(e,t,r){if("function"!=typeof e)throw new se(n);return Ve((function(){e.apply(void 0,r)}),t)}function Pt(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,o=Yn(),a=o===fe,s=a&&t.length>=200?$n(t):null,u=t.length;s&&(o=ht,a=!1,t=s);e:for(;++i<n;){var c=e[i];if(a&&c==c){for(var l=u;l--;)if(t[l]===c)continue e;r.push(c)}else o(t,c,0)<0&&r.push(c)}return r}var Mt=yn(Jt),Rt=yn(Vt,!0);function Nt(e,t){var n=!0;return Mt(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function jt(e,t){var n=[];return Mt(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function It(e,t,n,r){var i;return n(e,(function(e,n,o){if(t(e,n,o))return i=r?n:e,!1})),i}function Lt(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];xe(a)&&er(a)&&(n||Ei(a)||Si(a))?t?Lt(a,t,n,r):wt(r,a):n||(r[r.length]=a)}return r}var Ut=wn(),qt=wn(!0);function Ft(e,t){return Ut(e,t,Qi)}function Jt(e,t){return Ut(e,t,Zi)}function Vt(e,t){return qt(e,t,Zi)}function zt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Ai(e[a])&&(o[++i]=a)}return o}function Ht(e,t,n){if(null!=e){void 0!==n&&n in vr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:void 0}}function Wt(e,t,n,r,c,h){return e===t||(null==e||null==t||!Oi(e)&&!xe(t)?e!=e&&t!=t:function(e,t,n,r,c,h,v){var m=Ei(e),g=Ei(t),b=o,y=o;m||((b=Re.call(e))==i?b=d:b!=d&&(m=Ii(e)));g||((y=Re.call(t))==i?y=d:y!=d&&(g=Ii(t)));var w=b==d,$=y==d,_=b==y;if(_&&!m&&!w)return function(e,t,n){switch(n){case a:case s:return+e==+t;case u:return e.name==t.name&&e.message==t.message;case l:return e!=+e?t!=+t:e==+t;case p:case f:return e==t+""}return!1}(e,t,b);if(!c){var C=w&&Pe.call(e,"__wrapped__"),x=$&&Pe.call(t,"__wrapped__");if(C||x)return n(C?e.value():e,x?t.value():t,r,c,h,v)}if(!_)return!1;h||(h=[]),v||(v=[]);var k=h.length;for(;k--;)if(h[k]==e)return v[k]==t;h.push(e),v.push(t);var S=(m?zn:Hn)(e,t,n,r,c,h,v);return h.pop(),v.pop(),S}(e,t,Wt,n,r,c,h))}function Bt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=vr(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){var s=(a=t[r])[0],u=e[s],c=a[1];if(o&&a[2]){if(void 0===u&&!(s in e))return!1}else{var l=n?n(u,c,s):void 0;if(!(void 0===l?Wt(c,u,n,!0):l))return!1}}return!0}function Gt(e,t){var n=-1,r=er(e)?Z(e.length):[];return Mt(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Yt(e){var t=Kn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e[n]===r&&(void 0!==r||n in vr(e)))}}return function(e){return Bt(e,t)}}function Xt(e,t){var n=Ei(e),r=rr(e)&&ar(t),i=e+"";return e=mr(e),function(o){if(null==o)return!1;var a=i;if(o=vr(o),(n||!r)&&!(a in o)){if(null==(o=1==e.length?o:Ht(o,nn(e,0,-1))))return!1;a=Sr(e),o=vr(o)}return o[a]===t?void 0!==t||a in o:Wt(t,o[a],void 0,!0)}}function Kt(e){return function(t){return null==t?void 0:t[e]}}function Zt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&tr(r)){var i=r;ze.call(e,r,1)}}return e}function Qt(e,t){return e+Ye(rt()*(t-e+1))}function en(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}var tn=at?function(e,t){return at.set(e,t),e}:yo;function nn(e,t,n){var r=-1,i=e.length;(t=null==t?0:+t||0)<0&&(t=-t>i?0:i+t),(n=void 0===n||n>i?i:+n||0)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Z(i);++r<i;)o[r]=e[r+t];return o}function rn(e,t){var n;return Mt(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function on(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function an(e,t,n){var r=Wn(),i=-1;return t=yt(t,(function(e){return r(e)})),on(Gt(e,(function(e){return{criteria:yt(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=de(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("asc"===c||!0===c?1:-1)}}return e.index-t.index}(e,t,n)}))}function sn(e,t){var n=-1,r=Yn(),i=e.length,o=r===fe,a=o&&i>=200,s=a?$n():null,u=[];s?(r=ht,o=!1):(a=!1,s=t?[]:u);e:for(;++n<i;){var c=e[n],l=t?t(c,n,e):c;if(o&&c==c){for(var d=s.length;d--;)if(s[d]===l)continue e;t&&s.push(l),u.push(c)}else r(s,l,0)<0&&((t||a)&&s.push(l),u.push(c))}return u}function un(e,t){for(var n=-1,r=t.length,i=Z(r);++n<r;)i[n]=e[t[n]];return i}function cn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?nn(e,r?0:o,r?o+1:i):nn(e,r?o+1:0,r?i:o)}function ln(e,t){var n=e;n instanceof dt&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,wt([n],o.args))}return n}function dn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];(n?a<=t:a<t)&&null!==a?r=o+1:i=o}return i}return pn(e,t,yo,n)}function pn(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!=t,s=null===t,u=void 0===t;i<o;){var c=Ye((i+o)/2),l=n(e[c]),d=void 0!==l,p=l==l;if(a)var f=p||r;else f=s?p&&d&&(r||null!=l):u?p&&(r||d):null!=l&&(r?l<=t:l<t);f?i=c+1:o=c}return et(o,4294967294)}function fn(e,t,n){if("function"!=typeof e)return yo;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function hn(e){var t=new Ie(e.byteLength);return new He(t).set(new He(e)),t}function vn(e,t,n){for(var r=n.length,i=-1,o=Qe(e.length-r,0),a=-1,s=t.length,u=Z(s+o);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function mn(e,t,n){for(var r=-1,i=n.length,o=-1,a=Qe(e.length-i,0),s=-1,u=t.length,c=Z(a+u);++o<a;)c[o]=e[o];for(var l=o;++s<u;)c[l+s]=t[s];for(;++r<i;)c[l+n[r]]=e[o++];return c}function gn(e,t){return function(n,r,i){var o=t?t():{};if(r=Wn(r,i,3),Ei(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,r(u,a,n),n)}else Mt(n,(function(t,n,i){e(o,t,r(t,n,i),i)}));return o}}function bn(e){return xi((function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:void 0,a=i>2?n[2]:void 0,s=i>1?n[i-1]:void 0;for("function"==typeof o?(o=fn(o,s,5),i-=2):i-=(o="function"==typeof s?s:void 0)?1:0,a&&nr(n[0],n[1],a)&&(o=i<3?void 0:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t}))}function yn(e,t){return function(n,r){var i=n?Xn(n):0;if(!or(i))return e(n,r);for(var o=t?i:-1,a=vr(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function wn(e){return function(t,n,r){for(var i=vr(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(!1===n(i[u],u,i))break}return t}}function $n(e){return Ge&&Je?new ft(e):null}function _n(e){return function(t){for(var n=-1,r=mo(so(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function Cn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=At(e.prototype),r=e.apply(n,t);return Oi(r)?r:n}}function xn(e){return function t(n,r,i){i&&nr(n,r,i)&&(r=void 0);var o=Vn(n,e,void 0,void 0,void 0,void 0,void 0,r);return o.placeholder=t.placeholder,o}}function kn(e,t){return xi((function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(void 0,n))}))}function Sn(e,t){return function(n,r,i){if(i&&nr(n,r,i)&&(r=void 0),1==(r=Wn(r,i,3)).length){var o=function(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var u=e[i],c=+t(u);n(c,a)&&(a=c,s=u)}return s}(n=Ei(n)?n:hr(n),r,e,t);if(!n.length||o!==t)return o}return function(e,t,n,r){var i=r,o=i;return Mt(e,(function(e,a,s){var u=+t(e,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=e)})),o}(n,r,e,t)}}function En(e,t){return function(n,r,i){if(r=Wn(r,i,3),Ei(n)){var o=pe(n,r,t);return o>-1?n[o]:void 0}return It(n,r,e)}}function Tn(e){return function(t,n,r){return t&&t.length?pe(t,n=Wn(n,r,3),e):-1}}function Dn(e){return function(t,n,r){return It(t,n=Wn(n,r,3),e,!0)}}function An(e){return function(){for(var t,r=arguments.length,i=e?r:-1,o=0,a=Z(r);e?i--:++i<r;){var s=a[o++]=arguments[i];if("function"!=typeof s)throw new se(n);!t&&lt.prototype.thru&&"wrapper"==Gn(s)&&(t=new lt([],!0))}for(i=t?-1:r;++i<r;){var u=Gn(s=a[i]),c="wrapper"==u?Bn(s):void 0;t=c&&ir(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?t[Gn(c[0])].apply(t,c[3]):1==s.length&&ir(s)?t[u]():t.thru(s)}return function(){var e=arguments,n=e[0];if(t&&1==e.length&&Ei(n)&&n.length>=200)return t.plant(n).value();for(var i=0,o=r?a[i].apply(this,e):n;++i<r;)o=a[i].call(this,o);return o}}}function On(e,t){return function(n,r,i){return"function"==typeof r&&void 0===i&&Ei(n)?e(n,r):t(n,fn(r,i,3))}}function Pn(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=fn(n,r,3)),e(t,n,Qi)}}function Mn(e){return function(t,n,r){return"function"==typeof n&&void 0===r||(n=fn(n,r,3)),e(t,n)}}function Rn(e){return function(t,n,r){var i={};return n=Wn(n,r,3),Jt(t,(function(t,r,o){var a=n(t,r,o);t=e?t:a,i[r=e?a:r]=t})),i}}function Nn(e){return function(t,n,r){return t=ve(t),(e?t:"")+Un(t,n,r)+(e?"":t)}}function jn(e){var t=xi((function(n,r){var i=Se(r,t.placeholder);return Vn(n,e,void 0,r,i)}));return t}function In(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&void 0===o&&Ei(n)?e(n,r,i,a):en(n,Wn(r,o,4),i,a,t)}}function Ln(e,t,n,r,i,o,a,s,u,c){var l=128&t,d=1&t,p=2&t,f=8&t,h=4&t,v=16&t,m=p?void 0:Cn(e);return function g(){for(var b=arguments.length,y=b,w=Z(b);y--;)w[y]=arguments[y];if(r&&(w=vn(w,r,i)),o&&(w=mn(w,o,a)),f||v){var $=g.placeholder,_=Se(w,$);if((b-=_.length)<c){var C=s?vt(s):void 0,x=Qe(c-b,0),k=f?_:void 0,S=f?void 0:_,E=f?w:void 0,T=f?void 0:w;t|=f?32:64,t&=~(f?64:32),h||(t&=-4);var D=[e,t,n,E,k,T,S,C,u,x],A=Ln.apply(void 0,D);return ir(e)&&pr(A,D),A.placeholder=$,A}}var O=d?n:this,P=p?O[e]:e;return s&&(w=cr(w,s)),l&&u<w.length&&(w.length=u),this&&this!==le&&this instanceof g&&(P=m||Cn(e)),P.apply(O,w)}}function Un(e,t,n){var r=e.length;if(r>=(t=+t)||!Ke(t))return"";var i=t-r;return po(n=null==n?" ":n+"",Be(i/n.length)).slice(0,i)}function qn(e,t,n,r){var i=1&t,o=Cn(e);return function t(){for(var a=-1,s=arguments.length,u=-1,c=r.length,l=Z(c+s);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++a];var d=this&&this!==le&&this instanceof t?o:e;return d.apply(i?n:this,l)}}function Fn(e){var t=ne[e];return function(e,n){return(n=void 0===n?0:+n||0)?(n=qe(10,n),t(e*n)/n):t(e)}}function Jn(e){return function(t,n,r,i){var o=Wn(r);return null==r&&o===Tt?dn(t,n,e):pn(t,n,o(r,i,1),e)}}function Vn(e,t,i,o,a,s,u,c){var l=2&t;if(!l&&"function"!=typeof e)throw new se(n);var d=o?o.length:0;if(d||(t&=-97,o=a=void 0),d-=a?a.length:0,64&t){var p=o,f=a;o=a=void 0}var h=l?void 0:Bn(e),v=[e,t,i,o,a,p,f,s,u,c];if(h&&(!function(e,t){var n=e[1],i=t[1],o=n|i,a=o<128,s=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&8==n;if(!a&&!s)return e;1&i&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?vn(c,u,t[4]):vt(u),e[4]=c?Se(e[3],r):vt(t[4])}(u=t[5])&&(c=e[5],e[5]=c?mn(c,u,t[6]):vt(u),e[6]=c?Se(e[5],r):vt(t[6]));(u=t[7])&&(e[7]=vt(u));128&i&&(e[8]=null==e[8]?t[8]:et(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(v,h),t=v[1],c=v[9]),v[9]=null==c?l?0:e.length:Qe(c-d,0)||0,1==t)var m=function(e,t){var n=Cn(e);return function r(){var i=this&&this!==le&&this instanceof r?n:e;return i.apply(t,arguments)}}(v[0],v[2]);else m=32!=t&&33!=t||v[4].length?Ln.apply(void 0,v):qn.apply(void 0,v);return(h?tn:pr)(m,v)}function zn(e,t,n,r,i,o,a){var s=-1,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;for(;++s<u;){var l=e[s],d=t[s],p=r?r(i?d:l,i?l:d,s):void 0;if(void 0!==p){if(p)continue;return!1}if(i){if(!_t(t,(function(e){return l===e||n(l,e,r,i,o,a)})))return!1}else if(l!==d&&!n(l,d,r,i,o,a))return!1}return!0}function Hn(e,t,n,r,i,o,a){var s=Zi(e),u=s.length;if(u!=Zi(t).length&&!i)return!1;for(var c=u;c--;){var l=s[c];if(!(i?l in t:Pe.call(t,l)))return!1}for(var d=i;++c<u;){var p=e[l=s[c]],f=t[l],h=r?r(i?f:p,i?p:f,l):void 0;if(!(void 0===h?n(p,f,r,i,o,a):h))return!1;d||(d="constructor"==l)}if(!d){var v=e.constructor,m=t.constructor;if(v!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m))return!1}return!0}function Wn(e,t,n){var r=ut.callback||bo;return r=r===bo?Tt:r,n?r(e,t,n):r}var Bn=at?function(e){return at.get(e)}:xo;function Gn(e){for(var t=e.name+"",n=st[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Yn(e,t,n){var r=ut.indexOf||xr;return r=r===xr?fe:r,e?r(e,t,n):r}var Xn=Kt("length");function Kn(e){for(var t=ro(e),n=t.length;n--;)t[n][2]=ar(t[n][1]);return t}function Zn(e,t){var n=null==e?void 0:e[t];return Pi(n)?n:void 0}function Qn(e,t,n){null==e||rr(t,e)||(e=1==(t=mr(t)).length?e:Ht(e,nn(t,0,-1)),t=Sr(t));var r=null==e?e:e[t];return null==r?void 0:r.apply(e,n)}function er(e){return null!=e&&or(Xn(e))}function tr(e,t){return t=null==t?9007199254740991:t,(e="number"==typeof e||V.test(e)?+e:-1)>-1&&e%1==0&&e<t}function nr(e,t,n){if(!Oi(n))return!1;var r=typeof t;if("number"==r?er(n)&&tr(t,n.length):"string"==r&&t in n){var i=n[t];return e==e?e===i:i!=i}return!1}function rr(e,t){var n=typeof e;return!!("string"==n&&M.test(e)||"number"==n)||!Ei(e)&&(!P.test(e)||null!=t&&e in vr(t))}function ir(e){var t=Gn(e),n=ut[t];if("function"!=typeof n||!(t in dt.prototype))return!1;if(e===n)return!0;var r=Bn(n);return!!r&&e===r[0]}function or(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ar(e){return e==e&&!Oi(e)}function sr(e,t){e=vr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function ur(e,t){var n={};return Ft(e,(function(e,r,i){t(e,r,i)&&(n[r]=e)})),n}function cr(e,t){for(var n=e.length,r=et(t.length,n),i=vt(e);r--;){var o=t[r];e[r]=tr(o,n)?i[o]:void 0}return e}var lr,dr,pr=(lr=0,dr=0,function(e,t){var n=si(),r=16-(n-dr);if(dr=n,r>0){if(++lr>=150)return e}else lr=0;return tn(e,t)});function fr(e){for(var t=Qi(e),n=t.length,r=n&&e.length,i=!!r&&or(r)&&(Ei(e)||Si(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&tr(s,r)||Pe.call(e,s))&&a.push(s)}return a}function hr(e){return null==e?[]:er(e)?Oi(e)?e:ie(e):oo(e)}function vr(e){return Oi(e)?e:ie(e)}function mr(e){if(Ei(e))return e;var t=[];return ve(e).replace(R,(function(e,n,r,i){t.push(r?i.replace(L,"$1"):n||e)})),t}function gr(e){return e instanceof dt?e.clone():new lt(e.__wrapped__,e.__chain__,vt(e.__actions__))}var br=xi((function(e,t){return xe(e)&&er(e)?Pt(e,Lt(t,!1,!0)):[]}));function yr(e,t,n){return(e?e.length:0)?((n?nr(e,t,n):null==t)&&(t=1),nn(e,t<0?0:t)):[]}function wr(e,t,n){var r=e?e.length:0;return r?((n?nr(e,t,n):null==t)&&(t=1),nn(e,0,(t=r-(+t||0))<0?0:t)):[]}var $r=Tn(),_r=Tn(!0);function Cr(e){return e?e[0]:void 0}function xr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?Qe(r+n,0):n;else if(n){var i=dn(e,t);return i<r&&(t==t?t===e[i]:e[i]!=e[i])?i:-1}return fe(e,t,n||0)}var kr=xi((function(e){for(var t=e.length,n=t,r=Z(l),i=Yn(),o=i===fe,a=[];n--;){var s=e[n]=er(s=e[n])?s:[];r[n]=o&&s.length>=120?$n(n&&s):null}var u=e[0],c=-1,l=u?u.length:0,d=r[0];e:for(;++c<l;)if(s=u[c],(d?ht(d,s):i(a,s,0))<0){for(n=t;--n;){var p=r[n];if((p?ht(p,s):i(e[n],s,0))<0)continue e}d&&d.push(s),a.push(s)}return a}));function Sr(e){var t=e?e.length:0;return t?e[t-1]:void 0}var Er=xi((function(e,t){var n=St(e,t=Lt(t));return Zt(e,t.sort(de)),n}));function Tr(e){return yr(e,1)}var Dr=Jn(),Ar=Jn(!0),Or=xi((function(e){return sn(Lt(e,!1,!0))}));function Pr(e,t,n,r){if(!(e?e.length:0))return[];null!=t&&"boolean"!=typeof t&&(n=nr(e,t,r=n)?void 0:t,t=!1);var i=Wn();return null==n&&i===Tt||(n=i(n,r,3)),t&&Yn()===fe?function(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}(e,n):sn(e,n)}function Mr(e){if(!e||!e.length)return[];var t=-1,n=0;e=bt(e,(function(e){if(er(e))return n=Qe(e.length,n),!0}));for(var r=Z(n);++t<n;)r[t]=yt(e,Kt(t));return r}function Rr(e,t,n){if(!(e?e.length:0))return[];var r=Mr(e);return null==t?r:(t=fn(t,n,4),yt(r,(function(e){return $t(e,t,void 0,!0)})))}var Nr=xi((function(e,t){return er(e)?Pt(e,t):[]})),jr=xi(Mr);function Ir(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ei(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}var Lr=xi((function(e){var t=e.length,n=t>2?e[t-2]:void 0,r=t>1?e[t-1]:void 0;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):void 0,r=void 0),e.length=t,Rr(e,n,r)}));function Ur(e){var t=ut(e);return t.__chain__=!0,t}function qr(e,t,n){return t.call(n,e)}var Fr=xi((function(e){return e=Lt(e),this.thru((function(t){return function(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Z(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}(Ei(t)?t:[vr(t)],e)}))})),Jr=xi((function(e,t){return St(e,Lt(t))})),Vr=gn((function(e,t,n){Pe.call(e,n)?++e[n]:e[n]=1}));function zr(e,t,n){var r=Ei(e)?gt:Nt;return n&&nr(e,t,n)&&(t=void 0),"function"==typeof t&&void 0===n||(t=Wn(t,n,3)),r(e,t)}function Hr(e,t,n){return(Ei(e)?bt:jt)(e,t=Wn(t,n,3))}var Wr=En(Mt),Br=En(Rt,!0),Gr=On(mt,Mt),Yr=On((function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e}),Rt),Xr=gn((function(e,t,n){Pe.call(e,n)?e[n].push(t):e[n]=[t]}));function Kr(e,t,n,r){var i=e?Xn(e):0;return or(i)||(i=(e=oo(e)).length),n="number"!=typeof n||r&&nr(t,n,r)?0:n<0?Qe(i+n,0):n||0,"string"==typeof e||!Ei(e)&&ji(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Yn(e,t,n)>-1}var Zr=gn((function(e,t,n){e[n]=t})),Qr=xi((function(e,t,n){var r=-1,i="function"==typeof t,o=rr(t),a=er(e)?Z(e.length):[];return Mt(e,(function(e){var s=i?t:o&&null!=e?e[t]:void 0;a[++r]=s?s.apply(e,n):Qn(e,t,n)})),a}));function ei(e,t,n){return(Ei(e)?yt:Gt)(e,t=Wn(t,n,3))}var ti=gn((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),ni=In($t,Mt),ri=In((function(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}),Rt);function ii(e,t,n){if(n?nr(e,t,n):null==t)return(r=(e=hr(e)).length)>0?e[Qt(0,r-1)]:void 0;var r,i=-1,o=Ui(e),a=(r=o.length)-1;for(t=et(t<0?0:+t||0,r);++i<t;){var s=Qt(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=t,o}function oi(e,t,n){var r=Ei(e)?_t:rn;return n&&nr(e,t,n)&&(t=void 0),"function"==typeof t&&void 0===n||(t=Wn(t,n,3)),r(e,t)}var ai=xi((function(e,t){if(null==e)return[];var n=t[2];return n&&nr(t[0],t[1],n)&&(t.length=1),an(e,Lt(t),[])})),si=tt||function(){return(new Q).getTime()};function ui(e,t){var r;if("function"!=typeof t){if("function"!=typeof e)throw new se(n);var i=e;e=t,t=i}return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var ci=xi((function(e,t,n){var r=1;if(n.length){var i=Se(n,ci.placeholder);r|=32}return Vn(e,r,t,n,i)})),li=xi((function(e,t){for(var n=-1,r=(t=t.length?Lt(t):Ki(e)).length;++n<r;){var i=t[n];e[i]=Vn(e[i],1,e)}return e})),di=xi((function(e,t,n){var r=3;if(n.length){var i=Se(n,di.placeholder);r|=32}return Vn(t,r,e,n,i)})),pi=xn(8),fi=xn(16);function hi(e,t,r){var i,o,a,s,u,c,l,d=0,p=!1,f=!0;if("function"!=typeof e)throw new se(n);if(t=t<0?0:+t||0,!0===r){var h=!0;f=!1}else Oi(r)&&(h=!!r.leading,p="maxWait"in r&&Qe(+r.maxWait||0,t),f="trailing"in r?!!r.trailing:f);function v(t,n){n&&Le(n),o=c=l=void 0,t&&(d=si(),a=e.apply(u,i),c||o||(i=u=void 0))}function m(){var e=t-(si()-s);e<=0||e>t?v(l,o):c=Ve(m,e)}function g(){v(f,c)}function b(){if(i=arguments,s=si(),u=this,l=f&&(c||!h),!1===p)var n=h&&!c;else{o||h||(d=s);var r=p-(s-d),v=r<=0||r>p;v?(o&&(o=Le(o)),d=s,a=e.apply(u,i)):o||(o=Ve(g,r))}return v&&c?c=Le(c):c||t===p||(c=Ve(m,t)),n&&(v=!0,a=e.apply(u,i)),!v||c||o||(i=u=void 0),a}return b.cancel=function(){c&&Le(c),o&&Le(o),d=0,o=c=l=void 0},b}var vi=xi((function(e,t){return Ot(e,1,t)})),mi=xi((function(e,t,n){return Ot(e,t,n)})),gi=An(),bi=An(!0);function yi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new se(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new yi.Cache,r}var wi=xi((function(e,t){if(t=Lt(t),"function"!=typeof e||!gt(t,he))throw new se(n);var r=t.length;return xi((function(n){for(var i=et(n.length,r);i--;)n[i]=t[i](n[i]);return e.apply(this,n)}))})),$i=jn(32),_i=jn(64),Ci=xi((function(e,t){return Vn(e,256,void 0,void 0,void 0,Lt(t))}));function xi(e,t){if("function"!=typeof e)throw new se(n);return t=Qe(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=Qe(n.length-t,0),o=Z(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Z(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function ki(e,t){return e>t}function Si(e){return xe(e)&&er(e)&&Pe.call(e,"callee")&&!Fe.call(e,"callee")}var Ei=Xe||function(e){return xe(e)&&or(e.length)&&Re.call(e)==o};function Ti(e,t,n,r){var i=(n="function"==typeof n?fn(n,r,3):void 0)?n(e,t):void 0;return void 0===i?Wt(e,t,n):!!i}function Di(e){return xe(e)&&"string"==typeof e.message&&Re.call(e)==u}function Ai(e){return Oi(e)&&Re.call(e)==c}function Oi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Pi(e){return null!=e&&(Ai(e)?je.test(Oe.call(e)):xe(e)&&J.test(e))}function Mi(e){return"number"==typeof e||xe(e)&&Re.call(e)==l}function Ri(e){var t,n;return!(!xe(e)||Re.call(e)!=d||Si(e)||!(Pe.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))&&(Ft(e,(function(e,t){n=t})),void 0===n||Pe.call(e,n))}function Ni(e){return Oi(e)&&Re.call(e)==p}function ji(e){return"string"==typeof e||xe(e)&&Re.call(e)==f}function Ii(e){return xe(e)&&or(e.length)&&!!X[Re.call(e)]}function Li(e,t){return e<t}function Ui(e){var t=e?Xn(e):0;return or(t)?t?vt(e):[]:oo(e)}function qi(e){return Et(e,Qi(e))}var Fi=bn((function e(t,n,r,i,o){if(!Oi(t))return t;var a=er(n)&&(Ei(n)||Ii(n)),s=a?void 0:Zi(n);return mt(s||n,(function(u,c){if(s&&(u=n[c=u]),xe(u))i||(i=[]),o||(o=[]),function(e,t,n,r,i,o,a){var s=o.length,u=t[n];for(;s--;)if(o[s]==u)return void(e[n]=a[s]);var c=e[n],l=i?i(c,u,n,e,t):void 0,d=void 0===l;d&&(l=u,er(u)&&(Ei(u)||Ii(u))?l=Ei(c)?c:er(c)?vt(c):[]:Ri(u)||Si(u)?l=Si(c)?qi(c):Ri(c)?c:{}:d=!1);o.push(u),a.push(l),d?e[n]=r(l,u,i,o,a):(l==l?l!==c:c==c)&&(e[n]=l)}(t,n,c,e,r,i,o);else{var l=t[c],d=r?r(l,u,c,t,n):void 0,p=void 0===d;p&&(d=u),void 0===d&&(!a||c in t)||!p&&(d==d?d===l:l!=l)||(t[c]=d)}})),t})),Ji=bn((function(e,t,n){return n?xt(e,t,n):kt(e,t)})),Vi=kn(Ji,(function(e,t){return void 0===e?t:e})),zi=kn(Fi,(function e(t,n){return void 0===t?n:Fi(t,n,e)})),Hi=Dn(Jt),Wi=Dn(Vt),Bi=Pn(Ut),Gi=Pn(qt),Yi=Mn(Jt),Xi=Mn(Vt);function Ki(e){return zt(e,Qi(e))}var Zi=Ze?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&er(e)?fr(e):Oi(e)?Ze(e):[]}:fr;function Qi(e){if(null==e)return[];Oi(e)||(e=ie(e));var t=e.length;t=t&&or(t)&&(Ei(e)||Si(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Z(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&tr(s,t)||"constructor"==s&&(i||!Pe.call(e,s))||o.push(s);return o}var eo=Rn(!0),to=Rn(),no=xi((function(e,t){if(null==e)return{};if("function"!=typeof t[0]){t=yt(Lt(t),ae);return sr(e,Pt(Qi(e),t))}var n=fn(t[0],t[1],3);return ur(e,(function(e,t,r){return!n(e,t,r)}))}));function ro(e){e=vr(e);for(var t=-1,n=Zi(e),r=n.length,i=Z(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}var io=xi((function(e,t){return null==e?{}:"function"==typeof t[0]?ur(e,fn(t[0],t[1],3)):sr(e,Lt(t))}));function oo(e){return un(e,Zi(e))}var ao=_n((function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}));function so(e){return(e=ve(e))&&e.replace(z,ye).replace(I,"")}var uo=_n((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),co=Nn(),lo=Nn(!0);function po(e,t){var n="";if(e=ve(e),(t=+t)<1||!e||!Ke(t))return n;do{t%2&&(n+=e),t=Ye(t/2),e+=e}while(t);return n}var fo=_n((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),ho=_n((function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}));function vo(e,t,n){var r=e;return(e=ve(e))?(n?nr(r,t,n):null==t)?e.slice(Ee(e),Te(e)+1):(t+="",e.slice(me(e,t),ge(e,t)+1)):e}function mo(e,t,n){return n&&nr(e,t,n)&&(t=void 0),(e=ve(e)).match(t||B)||[]}var go=xi((function(e,t){try{return e.apply(void 0,t)}catch(e){return Di(e)?e:new ee(e)}}));function bo(e,t,n){return n&&nr(e,t,n)&&(t=void 0),xe(e)?wo(e):Tt(e,t)}function yo(e){return e}function wo(e){return Yt(Dt(e,!0))}var $o=xi((function(e,t){return function(n){return Qn(n,e,t)}})),_o=xi((function(e,t){return function(n){return Qn(e,n,t)}}));function Co(e,t,n){if(null==n){var r=Oi(t),i=r?Zi(t):void 0,o=i&&i.length?zt(t,i):void 0;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=zt(t,Zi(t)));var a=!0,s=-1,u=Ai(e),c=o.length;!1===n?a=!1:Oi(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=o[s],d=t[l];e[l]=d,u&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=vt(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,wt([this.value()],arguments))}}(d))}return e}function xo(){}function ko(e){return rr(e)?Kt(e):function(e){var t=e+"";return e=mr(e),function(n){return Ht(n,e,t)}}(e)}var So,Eo=Fn("ceil"),To=Fn("floor"),Do=Sn(ki,it),Ao=Sn(Li,ot),Oo=Fn("round");return ut.prototype=ct.prototype,lt.prototype=At(ct.prototype),lt.prototype.constructor=lt,dt.prototype=At(ct.prototype),dt.prototype.constructor=dt,pt.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},pt.prototype.get=function(e){return"__proto__"==e?void 0:this.__data__[e]},pt.prototype.has=function(e){return"__proto__"!=e&&Pe.call(this.__data__,e)},pt.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},ft.prototype.push=function(e){var t=this.data;"string"==typeof e||Oi(e)?t.set.add(e):t.hash[e]=!0},yi.Cache=pt,ut.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new se(n);var r=e;e=t,t=r}return e=Ke(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},ut.ary=function(e,t,n){return n&&nr(e,t,n)&&(t=void 0),Vn(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:Qe(+t||0,0))},ut.assign=Ji,ut.at=Jr,ut.before=ui,ut.bind=ci,ut.bindAll=li,ut.bindKey=di,ut.callback=bo,ut.chain=Ur,ut.chunk=function(e,t,n){t=(n?nr(e,t,n):null==t)?1:Qe(Ye(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Z(Be(i/t));r<i;)a[++o]=nn(e,r,r+=t);return a},ut.compact=function(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i},ut.constant=function(e){return function(){return e}},ut.countBy=Vr,ut.create=function(e,t,n){var r=At(e);return n&&nr(e,t,n)&&(t=void 0),t?kt(r,t):r},ut.curry=pi,ut.curryRight=fi,ut.debounce=hi,ut.defaults=Vi,ut.defaultsDeep=zi,ut.defer=vi,ut.delay=mi,ut.difference=br,ut.drop=yr,ut.dropRight=wr,ut.dropRightWhile=function(e,t,n){return e&&e.length?cn(e,Wn(t,n,3),!0,!0):[]},ut.dropWhile=function(e,t,n){return e&&e.length?cn(e,Wn(t,n,3),!0):[]},ut.fill=function(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&nr(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=null==n?0:+n||0)<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:+r||0)<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e}(e,t,n,r)):[]},ut.filter=Hr,ut.flatten=function(e,t,n){var r=e?e.length:0;return n&&nr(e,t,n)&&(t=!1),r?Lt(e,t):[]},ut.flattenDeep=function(e){return(e?e.length:0)?Lt(e,!0):[]},ut.flow=gi,ut.flowRight=bi,ut.forEach=Gr,ut.forEachRight=Yr,ut.forIn=Bi,ut.forInRight=Gi,ut.forOwn=Yi,ut.forOwnRight=Xi,ut.functions=Ki,ut.groupBy=Xr,ut.indexBy=Zr,ut.initial=function(e){return wr(e,1)},ut.intersection=kr,ut.invert=function(e,t,n){n&&nr(e,t,n)&&(t=void 0);for(var r=-1,i=Zi(e),o=i.length,a={};++r<o;){var s=i[r],u=e[s];t?Pe.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a},ut.invoke=Qr,ut.keys=Zi,ut.keysIn=Qi,ut.map=ei,ut.mapKeys=eo,ut.mapValues=to,ut.matches=wo,ut.matchesProperty=function(e,t){return Xt(e,Dt(t,!0))},ut.memoize=yi,ut.merge=Fi,ut.method=$o,ut.methodOf=_o,ut.mixin=Co,ut.modArgs=wi,ut.negate=function(e){if("function"!=typeof e)throw new se(n);return function(){return!e.apply(this,arguments)}},ut.omit=no,ut.once=function(e){return ui(2,e)},ut.pairs=ro,ut.partial=$i,ut.partialRight=_i,ut.partition=ti,ut.pick=io,ut.pluck=function(e,t){return ei(e,ko(t))},ut.property=ko,ut.propertyOf=function(e){return function(t){return Ht(e,mr(t),t+"")}},ut.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Yn(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)ze.call(t,o,1);return t},ut.pullAt=Er,ut.range=function(e,t,n){n&&nr(e,t,n)&&(t=n=void 0),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=Qe(Be((t-e)/((n=null==n?1:+n||0)||1)),0),o=Z(i);++r<i;)o[r]=e,e+=n;return o},ut.rearg=Ci,ut.reject=function(e,t,n){var r=Ei(e)?bt:jt;return t=Wn(t,n,3),r(e,(function(e,n,r){return!t(e,n,r)}))},ut.remove=function(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Wn(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Zt(e,o),r},ut.rest=Tr,ut.restParam=xi,ut.set=function(e,t,n){if(null==e)return e;for(var r=t+"",i=-1,o=(t=null!=e[r]||rr(t,e)?[r]:mr(t)).length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];Oi(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=tr(t[i+1])?[]:{})),s=s[u]}return e},ut.shuffle=function(e){return ii(e,ot)},ut.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&nr(e,t,n)&&(t=0,n=r),nn(e,t,n)):[]},ut.sortBy=function(e,t,n){if(null==e)return[];n&&nr(e,t,n)&&(t=void 0);var r=-1;return t=Wn(t,n,3),on(Gt(e,(function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}})),be)},ut.sortByAll=ai,ut.sortByOrder=function(e,t,n,r){return null==e?[]:(r&&nr(t,n,r)&&(n=void 0),Ei(t)||(t=null==t?[]:[t]),Ei(n)||(n=null==n?[]:[n]),an(e,t,n))},ut.spread=function(e){if("function"!=typeof e)throw new se(n);return function(t){return e.apply(this,t)}},ut.take=function(e,t,n){return(e?e.length:0)?((n?nr(e,t,n):null==t)&&(t=1),nn(e,0,t<0?0:t)):[]},ut.takeRight=function(e,t,n){var r=e?e.length:0;return r?((n?nr(e,t,n):null==t)&&(t=1),nn(e,(t=r-(+t||0))<0?0:t)):[]},ut.takeRightWhile=function(e,t,n){return e&&e.length?cn(e,Wn(t,n,3),!1,!0):[]},ut.takeWhile=function(e,t,n){return e&&e.length?cn(e,Wn(t,n,3)):[]},ut.tap=function(e,t,n){return t.call(n,e),e},ut.throttle=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new se(n);return!1===r?i=!1:Oi(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),hi(e,t,{leading:i,maxWait:+t,trailing:o})},ut.thru=qr,ut.times=function(e,t,n){if((e=Ye(e))<1||!Ke(e))return[];var r=-1,i=Z(et(e,4294967295));for(t=fn(t,n,1);++r<e;)r<4294967295?i[r]=t(r):t(r);return i},ut.toArray=Ui,ut.toPlainObject=qi,ut.transform=function(e,t,n,r){var i=Ei(e)||Ii(e);if(t=Wn(t,r,4),null==n)if(i||Oi(e)){var o=e.constructor;n=i?Ei(e)?new o:[]:At(Ai(o)?o.prototype:void 0)}else n={};return(i?mt:Jt)(e,(function(e,r,i){return t(n,e,r,i)})),n},ut.union=Or,ut.uniq=Pr,ut.unzip=Mr,ut.unzipWith=Rr,ut.values=oo,ut.valuesIn=function(e){return un(e,Qi(e))},ut.where=function(e,t){return Hr(e,Yt(t))},ut.without=Nr,ut.wrap=function(e,t){return Vn(t=null==t?yo:t,32,void 0,[e],[])},ut.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(er(n))var r=r?wt(Pt(r,n),Pt(n,r)):n}return r?sn(r):[]},ut.zip=jr,ut.zipObject=Ir,ut.zipWith=Lr,ut.backflow=bi,ut.collect=ei,ut.compose=bi,ut.each=Gr,ut.eachRight=Yr,ut.extend=Ji,ut.iteratee=bo,ut.methods=Ki,ut.object=Ir,ut.select=Hr,ut.tail=Tr,ut.unique=Pr,Co(ut,ut),ut.add=function(e,t){return(+e||0)+(+t||0)},ut.attempt=go,ut.camelCase=ao,ut.capitalize=function(e){return(e=ve(e))&&e.charAt(0).toUpperCase()+e.slice(1)},ut.ceil=Eo,ut.clone=function(e,t,n,r){return t&&"boolean"!=typeof t&&nr(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?Dt(e,t,fn(n,r,3)):Dt(e,t)},ut.cloneDeep=function(e,t,n){return"function"==typeof t?Dt(e,!0,fn(t,n,3)):Dt(e,!0)},ut.deburr=so,ut.endsWith=function(e,t,n){t+="";var r=(e=ve(e)).length;return n=void 0===n?r:et(n<0?0:+n||0,r),(n-=t.length)>=0&&e.indexOf(t,n)==n},ut.escape=function(e){return(e=ve(e))&&T.test(e)?e.replace(S,we):e},ut.escapeRegExp=function(e){return(e=ve(e))&&j.test(e)?e.replace(N,$e):e||"(?:)"},ut.every=zr,ut.find=Wr,ut.findIndex=$r,ut.findKey=Hi,ut.findLast=Br,ut.findLastIndex=_r,ut.findLastKey=Wi,ut.findWhere=function(e,t){return Wr(e,Yt(t))},ut.first=Cr,ut.floor=To,ut.get=function(e,t,n){var r=null==e?void 0:Ht(e,mr(t),t+"");return void 0===r?n:r},ut.gt=ki,ut.gte=function(e,t){return e>=t},ut.has=function(e,t){if(null==e)return!1;var n=Pe.call(e,t);if(!n&&!rr(t)){if(null==(e=1==(t=mr(t)).length?e:Ht(e,nn(t,0,-1))))return!1;t=Sr(t),n=Pe.call(e,t)}return n||or(e.length)&&tr(t,e.length)&&(Ei(e)||Si(e))},ut.identity=yo,ut.includes=Kr,ut.indexOf=xr,ut.inRange=function(e,t,n){return t=+t||0,void 0===n?(n=t,t=0):n=+n||0,e>=et(t,n)&&e<Qe(t,n)},ut.isArguments=Si,ut.isArray=Ei,ut.isBoolean=function(e){return!0===e||!1===e||xe(e)&&Re.call(e)==a},ut.isDate=function(e){return xe(e)&&Re.call(e)==s},ut.isElement=function(e){return!!e&&1===e.nodeType&&xe(e)&&!Ri(e)},ut.isEmpty=function(e){return null==e||(er(e)&&(Ei(e)||ji(e)||Si(e)||xe(e)&&Ai(e.splice))?!e.length:!Zi(e).length)},ut.isEqual=Ti,ut.isError=Di,ut.isFinite=function(e){return"number"==typeof e&&Ke(e)},ut.isFunction=Ai,ut.isMatch=function(e,t,n,r){return n="function"==typeof n?fn(n,r,3):void 0,Bt(e,Kn(t),n)},ut.isNaN=function(e){return Mi(e)&&e!=+e},ut.isNative=Pi,ut.isNull=function(e){return null===e},ut.isNumber=Mi,ut.isObject=Oi,ut.isPlainObject=Ri,ut.isRegExp=Ni,ut.isString=ji,ut.isTypedArray=Ii,ut.isUndefined=function(e){return void 0===e},ut.kebabCase=uo,ut.last=Sr,ut.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?Qe(r+n,0):et(n||0,r-1))+1;else if(n){var o=e[i=dn(e,t,!0)-1];return(t==t?t===o:o!=o)?i:-1}if(t!=t)return Ce(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},ut.lt=Li,ut.lte=function(e,t){return e<=t},ut.max=Do,ut.min=Ao,ut.noConflict=function(){return le._=Ne,this},ut.noop=xo,ut.now=si,ut.pad=function(e,t,n){t=+t;var r=(e=ve(e)).length;if(r>=t||!Ke(t))return e;var i=(t-r)/2,o=Ye(i);return(n=Un("",Be(i),n)).slice(0,o)+e+n},ut.padLeft=co,ut.padRight=lo,ut.parseInt=function(e,t,n){return(n?nr(e,t,n):null==t)?t=0:t&&(t=+t),e=vo(e),nt(e,t||(F.test(e)?16:10))},ut.random=function(e,t,n){n&&nr(e,t,n)&&(t=n=void 0);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=rt();return et(e+o*(t-e+Ue("1e-"+((o+"").length-1))),t)}return Qt(e,t)},ut.reduce=ni,ut.reduceRight=ri,ut.repeat=po,ut.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(null==e||rr(t,e)||(r=null==(e=1==(t=mr(t)).length?e:Ht(e,nn(t,0,-1)))?void 0:e[Sr(t)]),r=void 0===r?n:r),Ai(r)?r.call(e):r},ut.round=Oo,ut.runInContext=e,ut.size=function(e){var t=e?Xn(e):0;return or(t)?t:Zi(e).length},ut.snakeCase=fo,ut.some=oi,ut.sortedIndex=Dr,ut.sortedLastIndex=Ar,ut.startCase=ho,ut.startsWith=function(e,t,n){return e=ve(e),n=null==n?0:et(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n},ut.sum=function(e,t,n){return n&&nr(e,t,n)&&(t=void 0),1==(t=Wn(t,n,3)).length?function(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}(Ei(e)?e:hr(e),t):function(e,t){var n=0;return Mt(e,(function(e,r,i){n+=+t(e,r,i)||0})),n}(e,t)},ut.template=function(e,t,n){var r=ut.templateSettings;n&&nr(e,t,n)&&(t=n=void 0),e=ve(e),t=xt(kt({},n||t),r,Ct);var i,o,a=xt(kt({},t.imports),r.imports,Ct),s=Zi(a),u=un(a,s),c=0,l=t.interpolate||H,d="__p += '",p=oe((t.escape||H).source+"|"+l.source+"|"+(l===O?U:H).source+"|"+(t.evaluate||H).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Y+"]")+"\n";e.replace(p,(function(t,n,r,a,s,u){return r||(r=a),d+=e.slice(c,u).replace(W,_e),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),d+="';\n";var h=t.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(_,""):d).replace(C,"$1").replace(x,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=go((function(){return te(s,f+"return "+d).apply(void 0,u)}));if(v.source=d,Di(v))throw v;return v},ut.trim=vo,ut.trimLeft=function(e,t,n){var r=e;return(e=ve(e))?(n?nr(r,t,n):null==t)?e.slice(Ee(e)):e.slice(me(e,t+"")):e},ut.trimRight=function(e,t,n){var r=e;return(e=ve(e))?(n?nr(r,t,n):null==t)?e.slice(0,Te(e)+1):e.slice(0,ge(e,t+"")+1):e},ut.trunc=function(e,t,n){n&&nr(e,t,n)&&(t=void 0);var r=30,i="...";if(null!=t)if(Oi(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?ve(t.omission):i}else r=+t||0;if(r>=(e=ve(e)).length)return e;var a=r-i.length;if(a<1)return i;var s=e.slice(0,a);if(null==o)return s+i;if(Ni(o)){if(e.slice(a).search(o)){var u,c,l=e.slice(0,a);for(o.global||(o=oe(o.source,(q.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(l);)c=u.index;s=s.slice(0,null==c?a:c)}}else if(e.indexOf(o,a)!=a){var d=s.lastIndexOf(o);d>-1&&(s=s.slice(0,d))}return s+i},ut.unescape=function(e){return(e=ve(e))&&E.test(e)?e.replace(k,De):e},ut.uniqueId=function(e){var t=++Me;return ve(e)+t},ut.words=mo,ut.all=zr,ut.any=oi,ut.contains=Kr,ut.eq=Ti,ut.detect=Wr,ut.foldl=ni,ut.foldr=ri,ut.head=Cr,ut.include=Kr,ut.inject=ni,Co(ut,(So={},Jt(ut,(function(e,t){ut.prototype[t]||(So[t]=e)})),So),!1),ut.sample=ii,ut.prototype.sample=function(e){return this.__chain__||null!=e?this.thru((function(t){return ii(t,e)})):ii(this.value())},ut.VERSION="3.10.1",mt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){ut[e].placeholder=ut})),mt(["drop","take"],(function(e,t){dt.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new dt(this);n=null==n?1:Qe(Ye(n)||0,0);var i=this.clone();return r?i.__takeCount__=et(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},dt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),mt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=2!=n;dt.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Wn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}})),mt(["first","last"],(function(e,t){var n="take"+(t?"Right":"");dt.prototype[e]=function(){return this[n](1).value()[0]}})),mt(["initial","rest"],(function(e,t){var n="drop"+(t?"":"Right");dt.prototype[e]=function(){return this.__filtered__?new dt(this):this[n](1)}})),mt(["pluck","where"],(function(e,t){var n=t?"filter":"map",r=t?Yt:ko;dt.prototype[e]=function(e){return this[n](r(e))}})),dt.prototype.compact=function(){return this.filter(yo)},dt.prototype.reject=function(e,t){return e=Wn(e,t,1),this.filter((function(t){return!e(t)}))},dt.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||t<0)?new dt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=+t||0)<0?n.dropRight(-t):n.take(t-e)),n)},dt.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},dt.prototype.toArray=function(){return this.take(ot)},Jt(dt.prototype,(function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=ut[r?"take"+("last"==t?"Right":""):t];i&&(ut.prototype[t]=function(){var t=r?[1]:arguments,o=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,u=a instanceof dt,c=t[0],l=u||Ei(a);l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=function(e){return r&&o?i(e,1)[0]:i.apply(void 0,wt([e],t))},p={func:qr,args:[d],thisArg:void 0},f=u&&!s;if(r&&!o)return f?((a=a.clone()).__actions__.push(p),e.call(a)):i.call(void 0,this.value())[0];if(!r&&l){a=f?a:new dt(this);var h=e.apply(a,t);return h.__actions__.push(p),new lt(h,o)}return this.thru(d)})})),mt(["join","pop","push","replace","shift","sort","splice","split","unshift"],(function(e){var t=(/^(?:replace|split)$/.test(e)?ke:ue)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);ut.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n]((function(n){return t.apply(n,e)}))}})),Jt(dt.prototype,(function(e,t){var n=ut[t];if(n){var r=n.name+"";(st[r]||(st[r]=[])).push({name:t,func:n})}})),st[Ln(void 0,2).name]=[{name:"wrapper",func:void 0}],dt.prototype.clone=function(){var e=new dt(this.__wrapped__);return e.__actions__=vt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vt(this.__views__),e},dt.prototype.reverse=function(){if(this.__filtered__){var e=new dt(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},dt.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ei(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=et(t,e+a);break;case"takeRight":e=Qe(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,d=l.length,p=0,f=et(u,this.__takeCount__);if(!n||i<200||i==u&&f==u)return ln(e,this.__actions__);var h=[];e:for(;u--&&p<f;){for(var v=-1,m=e[c+=t];++v<d;){var g=l[v],b=g.iteratee,y=g.type,w=b(m);if(2==y)m=w;else if(!w){if(1==y)continue e;break e}}h[p++]=m}return h},ut.prototype.chain=function(){return Ur(this)},ut.prototype.commit=function(){return new lt(this.value(),this.__chain__)},ut.prototype.concat=Fr,ut.prototype.plant=function(e){for(var t,n=this;n instanceof ct;){var r=gr(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},ut.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof dt){var n=e;return this.__actions__.length&&(n=new dt(this)),(n=n.reverse()).__actions__.push({func:qr,args:[t],thisArg:void 0}),new lt(n,this.__chain__)}return this.thru(t)},ut.prototype.toString=function(){return this.value()+""},ut.prototype.run=ut.prototype.toJSON=ut.prototype.valueOf=ut.prototype.value=function(){return ln(this.__wrapped__,this.__actions__)},ut.prototype.collect=ut.prototype.map,ut.prototype.head=ut.prototype.first,ut.prototype.select=ut.prototype.filter,ut.prototype.tail=ut.prototype.rest,ut}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(le._=Ae,define((function(){return Ae}))):ie&&oe?ce?(oe.exports=Ae)._=Ae:ie._=Ae:le._=Ae}.call(this),function(){"use strict";angular.module("ngEmbed",["ngSanitize"]).filter("embed",["$sce",function(e){var t=[{text:":)",class:"smiley",code:"e60a"},{text:":D",class:"happy",code:"e608"},{text:":d",class:"happy",code:"e608"},{text:":(",class:"sad",code:"e60e"},{text:":/",class:"wondering",code:"e620"},{text:":P",class:"tongue",code:"e60c"},{text:":p",class:"tongue",code:"e60c"},{text:"3:)",class:"evil",code:"e618"},{text:"(^)",class:"thumbsup2",code:"e607"},{text:";)",class:"wink",code:"e610"},{text:":o",class:"shocked",code:"e61a"},{text:"-_-",class:"neutral",code:"e61e"},{text:"(y)",class:"thumbs-up",code:"e606"},{text:":*",class:"heart",code:"e604"},{text:"&lt;3",class:"heart",code:"e604"},{text:"<3",class:"heart",code:"e604"},{text:"&lt;/3",class:"heart-broken",code:"e605"},{text:"</3",class:"heart-broken",code:"e605"},{text:"^_^",class:"grin",code:"e612"},{text:"8-)",class:"cool",code:"e614"},{text:"8|",class:"cool",code:"e614"},{text:":S",class:"confused",code:"e61c"},{text:":s",class:"confused",code:"e61c"}],n=["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","winky_face","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","wow","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","\\+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","walking","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface","sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel","bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn","house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","themoreyouknow","tmyk","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de","one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_square","white_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"];return function(r,i){var o={sanitizeHtml:!0,fontSmiley:!0,emoji:!0,link:!0,linkTarget:"_self"};if(function e(t){return angular.forEach(arguments,(function(n){n!==t&&angular.forEach(n,(function(n,r){t[r]&&t[r].constructor&&t[r].constructor===Object?e(t[r],n):t[r]=n}))})),t}(o,i),null!=r){if("object"==typeof r)return r;if(angular.isNumber(r)||(r=r.toString()),o.sanitizeHtml){var a={"&":"&amp;",">":"&gt;","<":"&lt;"};r=r.replace(/[&<>]/g,(function(e){return a[e]}))}var s;return o.fontSmiley&&(s=r.split(" "),angular.forEach(t,(function(e){for(var t=0;t<s.length;t++)s[t]===e.text&&(s[t]='<i class="ne-emoticon" title="'+e.text+'">&#x'+e.code+"</i>")})),r=s.join(" ")),o.emoji&&(r=function(e){var t=new RegExp(":("+n.join("|")+"):","g");return e.replace(t,(function(e,t){return"<i class='emoticon emoticon-"+t+"' title=':"+t+":'></i>"}))}(r)),o.link&&(r=function(e){var t=/^[a-z]+\:\/\//i;return e.replace(/\b(?:(https?|ftp|file):\/\/|www\.)[-A-Z0-9+()&@$#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]/gi,(function(e){var n=e;return t.test(e)||(n="http://"+e),"cordova"==o.linkTarget?'<a href="#" onclick="window.open(\''+n+"', '_system', 'location=yes')\" >"+e+"</a>":'<a href="'+n+'" target="'+o.linkTarget+'">'+e+"</a>"}))}(r)),e.trustAsHtml(r)}}}]).directive("ngEmbed",["$filter","$sce","$http","$timeout","$templateCache",function(e,t,n,r,i){return i.put("",'<div ng-bind-html="neText"></div> <div class="ne-video" ng-if="video.host" class="fade"> <div class="ne-video-preview" ng-hide="nePlayVideo || !options.video.details"> <div class="ne-video-thumb" ng-click="nePlayVideo=!nePlayVideo"> <img ng-src="{{video.thumbnail}}" alt=""/> <i class="fa fa-play-circle-o"></i> </div> <div class="ne-video-detail"> <div class="ne-video-title"> <a ng-href="{{video.url}}">{{video.title}}</a> </div> <div class="ne-video-desc"> {{video.description}} </div> <div class="ne-video-stats"> <span><i class="fa fa-eye"></i> {{video.views}}</span> <span><i class="fa fa-heart"></i> {{video.likes}}</span> </div> </div> </div> <div class="ne-video-player" ng-if="nePlayVideo || !(options.video.details)"> <iframe ng-src="{{video.embedSrc}}" frameBorder="0" width="{{video.width}}" height="{{video.height}}" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> </div> </div> <div class="ne-video" ng-if="video.basic"> <div class="ne-video-player"> <div class="player"> <video ng-src="{{video.basic}}" controls></video> </div> </div> </div> <div ng-init="neImageLong=false" ng-class="{false:\'ne-image\', true:\'ne-image ne-image-long\'}[neImageLong]" ng-if="image.url"> <div class="ne-image-wrapper"> <img ng-src="{{image.url}}" ng-click="neImageLong=!neImageLong" alt=""/> </div> </div> <div class="ne-pdf" ng-if="pdf.url"> <div class="ne-pdf-preview" ng-hide="neShowPdf"> <div class="ne-pdf-icon"> <i class="fa fa-file-pdf-o"></i> </div> <div class="ne-pdf-detail" > <div class="ne-pdf-title"> <a href="">{{pdf.url}}</a> </div> <div class="ne-pdf-view"> <button><i class="fa fa-download"></i> <a ng-href="{{pdf.url}}" target="_blank">Download</a></button> <button ng-click="neShowPdf=!neShowPdf"><i class="fa fa-eye"></i> View PDF</button> </div> </div> </div> <div class="ne-pdf-viewer" ng-if="neShowPdf" ng-show="neShowPdf"> <iframe ng-src="{{pdf.url}}" frameBorder="0"></iframe> </div> </div> <div class="ne-audio" ng-if="audio.url"> <audio ng-src="{{audio.url}}" controls></audio> </div> <div ng-if="tweets" ng-repeat="tweet in tweets"> <div ng-bind-html="tweet"></div> </div> <div ng-if="videoServices" class="ne-video" ng-repeat="v in videoServices"> <div class="ne-video-player"> <div class="player"> <div ng-bind-html="v"></div> </div> </div> </div> <div ng-if="audioServices" class="ne-audio" ng-repeat="a in audioServices"> <div ng-bind-html="a"></div> </div> <div ng-if="codeServices" class="ne-embed" ng-repeat="c in codeServices"> <div ng-bind-html="c"></div> </div> <div ng-if="gist" class="ne-gist" ng-repeat="g in gist"> <ne-gist id="{{g}}"></ne-gist> </div>'),{restrict:"AE",scope:!0,templateUrl:function(e,t){return t.embedTemplateUrl||""},link:function(i,o,a){var s=i.$eval(a.embedData),u=i.$eval(a.embedOptions);i.video={},i.image={},i.pdf={},i.audio={},i.videoServices=[],i.audioServices=[],i.codeServices=[],i.gist=[];var c={sanitizeHtml:!0,fontSmiley:!0,emoji:!0,link:!0,linkTarget:"_self",pdf:{embed:!0},image:{embed:!1},audio:{embed:!0},code:{highlight:!0,lineNumbers:!1},basicVideo:!1,gdevAuth:null,video:{embed:!1,width:null,height:null,ytTheme:"dark",details:!1,thumbnailQuality:"medium"},tweetEmbed:!0,tweetOptions:{maxWidth:550,hideMedia:!1,hideThread:!1,align:"none",lang:"en"},twitchtvEmbed:!0,dailymotionEmbed:!0,tedEmbed:!0,dotsubEmbed:!0,liveleakEmbed:!0,soundCloudEmbed:!0,soundCloudOptions:{height:160,themeColor:"f50000",autoPlay:!1,hideRelated:!1,showComments:!0,showUser:!0,showReposts:!1,visual:!1,download:!1},spotifyEmbed:!0,codepenEmbed:!0,codepenHeight:300,jsfiddleEmbed:!0,jsfiddleHeight:300,jsbinEmbed:!0,jsbinHeight:300,plunkerEmbed:!0,githubgistEmbed:!0,ideoneEmbed:!0,ideoneHeight:300};!function e(t){return angular.forEach(arguments,(function(n){n!==t&&angular.forEach(n,(function(n,r){t[r]&&t[r].constructor&&t[r].constructor===Object?e(t[r],n):t[r]=n}))})),t}(c,u),String.prototype.trunc=function(e,t){var n=this.length>e,r=n?this.substr(0,e-1):this;return r=t&&n?r.substr(0,r.lastIndexOf(" ")):r,n?r+"...":r},Array.prototype.getUnique=function(){for(var e={},t=[],n=0,r=this.length;n<r;++n)e.hasOwnProperty(this[n])||(t.push(this[n]),e[this[n]]=1);return t};var l={calcDimensions:function(e){var t={width:null,height:null};return t.width=e.video.width,t.height=e.video.height,e.video.height&&e.video.width?t:e.video.height?(t.width=e.video.height/390*640,t):e.video.width?(t.height=t.width/640*390,t):(t.width=640,t.height=390,t)},embed:function(e,r){if(e.match(/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]{11})[?=&+%\w-]*/gi)){var o=this.calcDimensions(r);return i.video.id=RegExp.$1,r.video.details?n.get("https://www.googleapis.com/youtube/v3/videos?id="+RegExp.$1+"&key="+r.gdevAuth+"&part=snippet,statistics").success((function(e){var n=void 0===r.video.autoPlay||!0===r.video.autoPlay?"?autoplay=1":"?autoplay=0",a=e.items[0];i.video.host="youtube",i.video.title=a.snippet.title,i.video.thumbnail=a.snippet.thumbnails.medium.url,i.video.description=a.snippet.description.trunc(250,!0).replace(/\n/g," ").replace(/&#10;/g," "),i.video.rawDescription=a.snippet.description,i.video.views=a.statistics.viewCount,i.video.likes=a.statistics.likeCount,i.video.uploader=a.snippet.channelTitle,i.video.uploaderPage="https://www.youtube.com/channel/"+a.snippet.channelId,i.video.uploadDate=a.snippet.publishedAt,i.video.url=t.trustAsResourceUrl("https://www.youtube.com/watch?v="+a.id),i.video.embedSrc=t.trustAsResourceUrl("https://www.youtube.com/embed/"+i.video.id+n),i.video.width=o.width,i.video.height=o.height})):(i.video.width=o.width,i.video.height=o.height,i.video.host="youtube",i.video.embedSrc=t.trustAsResourceUrl("https://www.youtube.com/embed/"+RegExp.$1+"?autoplay=0")),e}if(e.match(/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)*/gi)){var a=this.calcDimensions(r);i.video.id=RegExp.$3,r.video.details?n.get("https://vimeo.com/api/v2/video/"+RegExp.$3+".json").success((function(e){var n=void 0===r.video.autoPlay||!0===r.video.autoPlay?"&autoplay=1":"&autoplay=0";i.video.host="vimeo",i.video.title=e[0].title,i.video.rawDescription=e[0].description.replace(/\n/g,"<br/>").replace(/&#10;/g,"<br/>"),i.video.description=e[0].description.replace(/((<|&lt;)br\s*\/*(>|&gt;)\r\n)/g," ").trunc(250,!0),i.video.thumbnail=e[0].thumbnail_medium,i.video.views=e[0].stats_number_of_plays,i.video.likes=e[0].stats_number_of_likes,i.video.uploader=e[0].user_name,i.video.uploaderPage=e[0].user_url,i.video.uploadDate=e[0].uploadDate,i.video.url=e[0].url,i.video.embedSrc=t.trustAsResourceUrl("//player.vimeo.com/video/"+e[0].id+"?title=0&byline=0&portrait=0"+n),i.video.width=a.width,i.video.height=a.height})):(i.video.width=a.width,i.video.height=a.height,i.video.host="vimeo",i.video.embedSrc=t.trustAsResourceUrl("//player.vimeo.com/video/"+RegExp.$3+"?title=0&byline=0&portrait=0&autoplay=0"))}return e},embedBasic:function(e){return e.match(/((?:https?):\/\/\S*\.(?:ogv|webm|mp4))/gi)&&(i.video.basic=t.trustAsResourceUrl(RegExp.$1)),e},twitchtvEmbed:function(e,n){var r=/www.twitch.tv\/[a-zA_Z0-9_]+/gi,o=e.match(r)?e.match(r).getUnique():null,a=l.calcDimensions(n);if(o)for(var s=0;s<o.length;){var u=t.trustAsHtml('<object bgcolor="#000000" data="//www-cdn.jtvnw.net/swflibs/TwitchPlayer.swf" height="'+a.height+'" id="clip_embed_player_flash" type="application/x-shockwave-flash" width="'+a.width+'"><param name="movie" value="http://www-cdn.jtvnw.net/swflibs/TwitchPlayer.swf" /><param name="allowScriptAccess" value="always" /><param name="allowNetworking" value="all" /><param name="allowFullScreen" value="true" /><param name="flashvars" value="channel='+o[s].split("/")[1]+'&auto_play=false" /></object>');i.videoServices.push(u),s++}return e},dailymotionEmbed:function(e,n){var r=/dailymotion.com\/video\/[a-zA-Z0-9-_]+/gi,o=e.match(r)?e.match(r).getUnique():null,a=l.calcDimensions(n);if(o)for(var s=0;s<o.length;){var u=t.trustAsHtml('<iframe src="http://www.dailymotion.com/embed/video/'+o[s].split("/")[2]+'" height="'+a.height+'" width="'+a.width+'"></iframe>');i.videoServices.push(u),s++}return e},tedEmbed:function(e,n){var r=/ted.com\/talks\/[a-zA-Z0-9_]+/gi,o=e.match(r)?e.match(r).getUnique():null,a=l.calcDimensions(n);if(o)for(var s=0;s<o.length;){var u=t.trustAsHtml('<iframe src="https://embed.ted.com/talks/'+o[s].split("/")[2]+'.html" height="'+a.height+'" width="'+a.width+'"></iframe>');i.videoServices.push(u),s++}return e},dotsubEmbed:function(e,n){var r=/dotsub.com\/view\/[a-zA-Z0-9-]+/gi,o=e.match(r)?e.match(r).getUnique():null,a=l.calcDimensions(n);if(o)for(var s=0;s<o.length;){var u=t.trustAsHtml('<iframe src="https://dotsub.com/media/'+o[s].split("/")[2]+'/embed/" width="'+a.width+'" height="'+a.height+'"></iframe>');i.videoServices.push(u),s++}return e},liveleakEmbed:function(e,n){var r=/liveleak.com\/view\?i=[a-zA-Z0-9_]+/gi,o=e.match(r)?e.match(r).getUnique():null,a=l.calcDimensions(n);if(o)for(var s=0;s<o.length;){var u=t.trustAsHtml('<iframe src="http://www.liveleak.com/e/'+o[s].split("=")[1]+'" height="'+a.height+'" width="'+a.width+'"></iframe></div>');i.videoServices.push(u),s++}return e}},d=function(e){return e.match(/((?:https?):\/\/\S*\.(?:wav|mp3|ogg))/gi)&&(i.audio.url=t.trustAsResourceUrl(RegExp.$1)),e},p=function(e,n){var r=/soundcloud.com\/[a-zA-Z0-9-_]+\/[a-zA-Z0-9-_]+/gi,o=e.match(r)?e.match(r).getUnique():null;if(o)for(var a=0;a<o.length;){var s=t.trustAsHtml('<iframe height="160" scrolling="no" src="https://w.soundcloud.com/player/?url=https://'+o[a]+"&auto_play="+n.soundCloudOptions.autoPlay+"&hide_related="+n.soundCloudOptions.hideRelated+"&show_comments="+n.soundCloudOptions.showComments+"&show_user="+n.soundCloudOptions.showUser+"&show_reposts="+n.soundCloudOptions.showReposts+"&visual="+n.soundCloudOptions.visual+"&download="+n.soundCloudOptions.download+"&color="+n.soundCloudOptions.themeColor+"&theme_color="+n.soundCloudOptions.themeColor+'"></iframe>');i.videoServices.push(s),a++}return e},f=function(e){var n=/spotify.com\/track\/[a-zA-Z0-9_]+/gi,r=e.match(n)?e.match(n).getUnique():null;if(r)for(var o=0;o<r.length;){var a=t.trustAsHtml('<iframe src="https://embed.spotify.com/?uri=spotify:track:'+r[o].split("/")[2]+'" height="80"></iframe>');i.audioServices.push(a),o++}return e},h=function(e){return e.match(/((?:https?):\/\/\S*\.(?:gif|jpg|jpeg|tiff|png|svg|webp))/gi)&&(i.image.url=RegExp.$1),e},v=function(e){return e=e.replace(/(`+)(\s|[a-z]+)\s*([\s\S]*?[^`])\s*\1(?!`)/gm,(function(e,t,n,r){var i=r;i=(i=(i=i.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,"")).replace(/:\/\//g,"~P");var o=[];return n&&o.push(n),'<pre><code class="ne-code hljs '+n+'">'+hljs.highlightAuto(i,o).value+"</code></pre>"}))},m=function(e){return e.match(/((?:https?):\/\/\S*\.(?:pdf|PDF))/gi)&&(i.pdf.url=t.trustAsResourceUrl(RegExp.$1)),e},g=function(e,t){if(!window.twttr)throw new ReferenceError("twttr is not defined. Load http://platform.twitter.com/widgets.js");var o=/https:\/\/twitter\.com\/\w+\/\w+\/\d+/gi,a=e.match(o)?e.match(o).getUnique():null;if(i.tweets=[],a)for(var s=0;s<a.length;){var u="https://api.twitter.com/1/statuses/oembed.json?omit_script=true&callback=JSON_CALLBACK&url="+a[s]+"&maxwidth="+t.tweetOptions.maxWidth+"&hide_media="+t.tweetOptions.hideMedia+"&hide_thread="+t.tweetOptions.hideThread+"&align="+t.tweetOptions.align+"&lang="+t.tweetOptions.lang;n.jsonp(u).success((function(e){i.tweets.push(e.html),i.tweets.length==a.length&&r((function(){twttr.widgets.load()}),10)})),s++}return e},b=function(e,n){var r=/http:\/\/codepen.io\/([A-Za-z0-9_]+)\/pen\/([A-Za-z0-9_]+)/gi,o=e.match(r)?e.match(r).getUnique():null;if(o)for(var a=0;a<o.length;){var s=t.trustAsHtml('<iframe scrolling="no" height="'+n.codepenHeight+'" src="'+o[a].replace(/\/pen\//,"/embed/")+"/?height="+n.codepenHeight+'" frameborder="no" allowtransparency="true" allowfullscreen="true"></iframe>');i.codeServices.push(s),a++}return e},y=function(e,n){var r=/jsfiddle.net\/[a-zA-Z0-9_]+\/[a-zA-Z0-9_]+/gi,o=e.match(r)?e.match(r).getUnique():null;if(o)for(var a=0;a<o.length;){var s=t.trustAsHtml('<iframe height="'+n.jsfiddleHeight+'" src="http://'+o[a]+'/embedded"></iframe>');i.codeServices.push(s),a++}return e},w=function(e,n){var r=/jsbin.com\/[a-zA-Z0-9_]+\/[0-9_]+/gi,o=e.match(r)?e.match(r).getUnique():null;if(o)for(var a=0;a<o.length;){var s=t.trustAsHtml('<iframe height="'+n.jsbinHeight+'" class="jsbin-embed foo" src="http://'+o[a]+'/embed?html,js,output">Simple Animation Tests</iframe>');i.codeServices.push(s),a++}return e},_=function(e,n){var r=/plnkr.co\/edit\/[a-zA-Z0-9\?=]+/gi,o=e.match(r)?e.match(r).getUnique():null;if(o)for(var a=0;a<o.length;){var s=-1===o[a].indexOf("?")?o[a].split("/")[2]:o[a].split("/")[2].split("?")[0],u=t.trustAsHtml('<iframe class="ne-plunker" src="http://embed.plnkr.co/'+s+'" height="'+n.jsbinHeight+'"></iframe>');i.codeServices.push(u),a++}return e},C=function(e){var t=/gist.github.com\/[a-zA-Z0-9_-]+\/([a-zA-Z0-9]+)/g,n=e.match(t)?e.match(t).getUnique():null;if(n)for(var r=0;r<n.length;)i.gist.push(n[r].split("/")[2]),r++;return e},x=function(e,n){var r=/ideone.com\/[a-zA-Z0-9]{6}/gi,o=e.match(r)?e.match(r).getUnique():null;if(o)for(var a=0;a<o.length;){var s=t.trustAsHtml('<iframe src="http://ideone.com/embed/'+o[a].split("/")[1]+'" height="'+n.ideoneHeight+'"></iframe>');i.codeServices.push(s),a++}return e};if(c.code.highlight){if(!window.hljs)throw new ReferenceError("hlsj (Highlight JS is not defined.");s=v(s),r((function(){c.code.lineNumbers&&angular.element(".ne-code").each((function(){var e=1,t=$(this).text().split("\n").length,n=$("<ul/>").addClass("pre-numbering");for(angular.element(this).addClass("has-numbering").parent().append(n);e<=t;e++)n.append(angular.element("<li/>").text(e))}))}),0)}var k=e("embed")(s,c).$$unwrapTrustedValue();if(c.video.embed){if(!c.gdevAuth)throw"Youtube authentication key is required to get data from youtube.";k=l.embed(k,c)}k=c.basicVideo?l.embedBasic(k):k,k=c.audio.embed?d(k):k,k=c.image.embed?h(k):k,k=c.pdf.embed?m(k):k,k=c.tweetEmbed?g(k,c):k,k=c.twitchtvEmbed?l.twitchtvEmbed(k,c):k,k=c.dailymotionEmbed?l.dailymotionEmbed(k,c):k,k=c.tedEmbed?l.tedEmbed(k,c):k,k=c.dotsubEmbed?l.dotsubEmbed(k,c):k,k=c.liveleakEmbed?l.liveleakEmbed(k,c):k,k=c.soundCloudEmbed?p(k,c):k,k=c.spotifyEmbed?f(k):k,k=c.codepenEmbed?b(k,c):k,k=c.jsfiddleEmbed?y(k,c):k,k=c.jsbinEmbed?w(k,c):k,k=c.plunkerEmbed?_(k,c):k,k=c.githubgistEmbed?C(k,c):k,k=c.ideoneEmbed?x(k,c):k,i.neText=t.trustAsHtml(k)}}}]).directive("neGist",(function(){return{restrict:"EA",replace:!0,template:"<div></div>",link:function(e,t,n){var r=n.id,i=document.createElement("iframe");i.setAttribute("width","100%"),i.setAttribute("frameborder","0"),i.id="gist-"+r,t[0].appendChild(i);var o='<html><head><base target="_parent"><style>table{font-size:12px;}</style></head><body onload="parent.document.getElementById(\''+i.id+'\').style.height=document.body.scrollHeight + \'px\'" style="margin:10px 0;"><script type="text/javascript">!function(){"use strict";window.retargetLinks=function(){ var gists=document.getElementsByClassName("gist");for(var i=0,links;i<gists.length;i++){links=gists[i].getElementsByTagName("a");for(var j=0;j<links.length;j++){ links[j].setAttribute("target","_blank");}}}}();<\/script><script type="text/javascript" src="https://gist.github.com/'+r+'.js" onload="retargetLinks()"><\/script></body></html>',a=i.document;i.contentDocument?a=i.contentDocument:i.contentWindow&&(a=i.contentWindow.document),a.open(),a.writeln(o),a.close()}}}))}(),
/*! 
 * angular-hotkeys v1.6.0
 * https://chieffancypants.github.io/angular-hotkeys
 * Copyright (c) 2015 Wes Cruver
 * License: MIT
 */
function(){"use strict";angular.module("cfp.hotkeys",[]).provider("hotkeys",["$injector",function(e){this.includeCheatSheet=!0,this.useNgRoute=e.has("ngViewDirective"),this.templateTitle="Keyboard Shortcuts:",this.templateHeader=null,this.templateFooter=null,this.template='<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys"><h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}</h4><div ng-bind-html="header" ng-if="header"></div><table><tbody><tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }"><td class="cfp-hotkeys-keys"><span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span></td><td class="cfp-hotkeys-text">{{ hotkey.description }}</td></tr></tbody></table><div ng-bind-html="footer" ng-if="footer"></div><div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()"></div></div></div>',this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.$get=["$rootElement","$rootScope","$compile","$window","$document",function(e,t,n,r,i){function o(e){var t={command:"",shift:"",left:"",right:"",up:"",down:"",return:"",backspace:""};e=e.split("+");for(var n=0;n<e.length;n++)"mod"===e[n]&&(r.navigator&&r.navigator.platform.indexOf("Mac")>=0?e[n]="command":e[n]="ctrl"),e[n]=t[e[n]]||e[n];return e.join(" + ")}function a(e,t,n,r,i,o){this.combo=e instanceof Array?e:[e],this.description=t,this.callback=n,this.action=r,this.allowIn=i,this.persistent=o,this._formated=null}Mousetrap.prototype.stopCallback=function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(t.contentEditable&&"true"==t.contentEditable)},a.prototype.format=function(){if(null===this._formated){for(var e=this.combo[0].split(/[\s]/),t=0;t<e.length;t++)e[t]=o(e[t]);this._formated=e}return this._formated};var s=t.$new();s.hotkeys=[],s.helpVisible=!1,s.title=this.templateTitle,s.header=this.templateHeader,s.footer=this.templateFooter,s.toggleCheatSheet=h;var u=[];if(this.useNgRoute&&t.$on("$routeChangeSuccess",(function(e,t){p(),t&&t.hotkeys&&angular.forEach(t.hotkeys,(function(e){var n=e[2];("string"==typeof n||n instanceof String)&&(e[2]=[n,t]),e[5]=!1,v.apply(this,e)}))})),this.includeCheatSheet){var c=i[0],l=e[0],d=angular.element(this.template);v(this.cheatSheetHotkey,this.cheatSheetDescription,h),l!==c&&l!==c.documentElement||(l=c.body),angular.element(l).append(n(d)(s))}function p(){for(var e=s.hotkeys.length;e--;){var t=s.hotkeys[e];t&&!t.persistent&&m(t)}}var f=!1;function h(){s.helpVisible=!s.helpVisible,s.helpVisible?(f=g("esc"),m("esc"),v("esc",f.description,h,null,["INPUT","SELECT","TEXTAREA"])):(m("esc"),!1!==f&&v(f))}function v(e,t,n,r,i,o){var u,c=["INPUT","SELECT","TEXTAREA"];if("[object Object]"===Object.prototype.toString.call(e)&&(t=e.description,n=e.callback,r=e.action,o=e.persistent,i=e.allowIn,e=e.combo),m(e,r),t instanceof Function?(r=n,n=t,t="$$undefined$$"):angular.isUndefined(t)&&(t="$$undefined$$"),void 0===o&&(o=!0),"function"==typeof n){var l;u=n,i instanceof Array||(i=[]);for(var d=0;d<i.length;d++)i[d]=i[d].toUpperCase(),-1!==(l=c.indexOf(i[d]))&&c.splice(l,1);n=function(e){var t=!0;if(e){var n=e.target||e.srcElement,r=n.nodeName.toUpperCase();if((" "+n.className+" ").indexOf(" mousetrap ")>-1)t=!0;else for(var i=0;i<c.length;i++)if(c[i]===r){t=!1;break}}t&&b(u.apply(this,arguments))}}"string"==typeof r?Mousetrap.bind(e,b(n),r):Mousetrap.bind(e,b(n));var p=new a(e,t,n,r,i,o);return s.hotkeys.push(p),p}function m(e,t){var n=e instanceof a?e.combo:e;if(Mousetrap.unbind(n,t),angular.isArray(n)){for(var r=!0,i=n.length;i--;)r=m(n[i],t)&&r;return r}var o=s.hotkeys.indexOf(g(n));return o>-1&&(s.hotkeys[o].combo.length>1?s.hotkeys[o].combo.splice(s.hotkeys[o].combo.indexOf(n),1):(angular.forEach(u,(function(e){var t=e.indexOf(s.hotkeys[o]);-1!==t&&e.splice(t,1)})),s.hotkeys.splice(o,1)),!0)}function g(e){if(!e)return s.hotkeys;for(var t,n=0;n<s.hotkeys.length;n++)if((t=s.hotkeys[n]).combo.indexOf(e)>-1)return t;return!1}function b(e){return function(n,r){if(e instanceof Array){var i=e[0],o=e[1];e=function(e){o.scope.$eval(i)}}t.$apply((function(){e(n,g(r))}))}}return{add:v,del:m,get:g,bindTo:function(e){return e.$id in u||(u[e.$id]=[],e.$on("$destroy",(function(){for(var t=u[e.$id].length;t--;)m(u[e.$id].pop())}))),{add:function(t){var n;return n=arguments.length>1?v.apply(this,arguments):v(t),u[e.$id].push(n),this}}},template:this.template,toggleCheatSheet:h,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,useNgRoute:this.useNgRoute,purgeHotkeys:p,templateTitle:this.templateTitle}}]}]).directive("hotkey",["hotkeys",function(e){return{restrict:"A",link:function(t,n,r){var i,o;angular.forEach(t.$eval(r.hotkey),(function(t,n){o="string"==typeof r.hotkeyAllowIn?r.hotkeyAllowIn.split(/[\s,]+/):[],i=n,e.add({combo:n,description:r.hotkeyDescription,callback:t,action:r.hotkeyAction,allowIn:o})})),n.bind("$destroy",(function(){e.del(i)}))}}}]).run(["hotkeys",function(e){}])}(),function(e,t,n){for(var r,i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},u=1;u<20;++u)i[111+u]="f"+u;for(u=0;u<=9;++u)i[u+96]=u;function c(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function l(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return i[e.which]?i[e.which]:o[e.which]?o[e.which]:String.fromCharCode(e.which).toLowerCase()}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(e,t,n){return n||(n=function(){if(!r)for(var e in r={},i)e>95&&e<112||i.hasOwnProperty(e)&&(r[i[e]]=e);return r}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function f(e,t){var n,r,i,o=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],s[r]&&(r=s[r]),t&&"keypress"!=t&&a[r]&&(r=a[r],o.push("shift")),d(r)&&o.push(r);return{key:r,modifiers:o,action:t=p(r,o,t)}}function h(e){var n=this;if(e=e||t,!(n instanceof h))return new h(e);n.target=e,n._callbacks={},n._directMap={};var r,i={},o=!1,a=!1,s=!1;function u(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(s=!1)}function p(e,t,r,o,a,s){var u,c,l,p,f=[],h=r.type;if(!n._callbacks[e])return[];for("keyup"==h&&d(e)&&(t=[e]),u=0;u<n._callbacks[e].length;++u)if(c=n._callbacks[e][u],(o||!c.seq||i[c.seq]==c.level)&&h==c.action&&("keypress"==h&&!r.metaKey&&!r.ctrlKey||(l=t,p=c.modifiers,l.sort().join(",")===p.sort().join(",")))){var v=!o&&c.combo==a,m=o&&c.seq==o&&c.level==s;(v||m)&&n._callbacks[e].splice(u,1),f.push(c)}return f}function v(e,t,r,i){n.stopCallback(t,t.target||t.srcElement,r,i)||!1===e(t,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(t),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(t))}function m(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=l(e);t&&("keyup"!=e.type||o!==t?n.handleKey(t,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function g(e,t,n,a){function c(t){return function(){s=t,++i[e],clearTimeout(r),r=setTimeout(u,1e3)}}function d(t){v(n,t,e),"keyup"!==a&&(o=l(t)),setTimeout(u,10)}i[e]=0;for(var p=0;p<t.length;++p){var h=p+1===t.length?d:c(a||f(t[p+1]).action);b(t[p],h,a,e,p)}}function b(e,t,r,i,o){n._directMap[e+":"+r]=t;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?g(e,s,t,r):(a=f(e,r),n._callbacks[a.key]=n._callbacks[a.key]||[],p(a.key,a.modifiers,{type:a.action},i,e,o),n._callbacks[a.key][i?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e}))}n._handleKey=function(e,t,n){var r,i=p(e,t,n),o={},c=0,l=!1;for(r=0;r<i.length;++r)i[r].seq&&(c=Math.max(c,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=c)continue;l=!0,o[i[r].seq]=1,v(i[r].callback,n,i[r].combo,i[r].seq)}else l||v(i[r].callback,n,i[r].combo);var f="keypress"==n.type&&a;n.type!=s||d(e)||f||u(o),a=l&&"keydown"==n.type},n._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)b(e[r],t,n)},c(e,"keypress",m),c(e,"keydown",m),c(e,"keyup",m)}h.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},h.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},h.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},h.prototype.reset=function(){return this._callbacks={},this._directMap={},this},h.prototype.stopCallback=function(e,n){return!((" "+n.className+" ").indexOf(" mousetrap ")>-1)&&(!function e(n,r){return null!==n&&n!==t&&(n===r||e(n.parentNode,r))}(n,this.target)&&("INPUT"==n.tagName||"SELECT"==n.tagName||"TEXTAREA"==n.tagName||n.isContentEditable))},h.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},h.init=function(){var e=h(t);for(var n in e)"_"!==n.charAt(0)&&(h[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n))},h.init(),e.Mousetrap=h,"undefined"!=typeof module&&module.exports&&(module.exports=h),"function"==typeof define&&define.amd&&define((function(){return h}))}(window,document),function(e){var t=[],n=null,r=[],o=!1,a=null,s=e.prototype.handleKey,u={},c={recordSequence:!0};function l(e,t,n){var a=this;if(a.recording)if("keydown"==n.type){for(n.preventDefault(),1===e.length&&o&&(p(),u.recordSequence&&v()),i=0;i<t.length;++i)d(t[i]);d(e)}else"keyup"==n.type&&r.length>0&&(p(),u.recordSequence?v():f());else s.apply(a,arguments)}function d(e){var t;for(t=0;t<r.length;++t)if(r[t]===e)return;r.push(e),1===e.length&&(o=!0)}function p(){r.length>0&&t.push(r),r=[],o=!1}function f(){var e=t,r=n;h(),r&&(!function(e){var t;for(t=0;t<e.length;++t)e[t].sort((function(e,t){return e.length>1&&1===t.length?-1:1===e.length&&t.length>1||e>t?1:-1})),e[t]=e[t].join("+")}(e),u.recordSequence?r(e):r([e[0]]))}function h(){t=[],n=null,r=[]}function v(){clearTimeout(a),a=setTimeout(f,1e3)}function m(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}e.prototype.record=function(e,t){u=m({},c),"function"==typeof e?t=e:m(u,e);var r=this;r.recording=!0,n=function(){r.recording=!1,t.apply(r,arguments)}},e.prototype.stopRecord=function(){this.recording=!1;var e=n;h(),e&&e(null)},e.prototype.handleKey=function(){var e=this;l.apply(e,arguments)},e.init()}(Mousetrap),function(){var e,t,n=document.attachEvent,r=!1;if(!n){var i=(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},function(e){return t(e)}),o=(e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return e(t)});function a(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function s(e){var t=this;a(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=i((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}var u=!1,c="",l="animationstart",d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(u=!0),!1===u)for(var v=0;v<d.length;v++)if(void 0!==h.style[d[v]+"AnimationName"]){(f=d[v])+"Animation",c="-"+f.toLowerCase()+"-",l=p[v],u=!0;break}var m="resizeanim",g="@"+c+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",b=c+"animation: 1ms "+m+"; "}window.addResizeListener=function(e,t){n?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!r){var e=(g||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),r=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),a(e),e.addEventListener("scroll",s,!0),l&&e.__resizeTriggers__.addEventListener(l,(function(t){t.animationName==m&&a(e)}))),e.__resizeListeners__.push(t))},window.removeResizeListener=function(e,t){n?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",s),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}(),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof exports?module.exports=t(require("angular")):t(e.angular)}(this,(function(e){"use strict";return e.module("gridster",[]).constant("gridsterConfig",{columns:6,pushing:!0,floating:!0,swapping:!1,width:"auto",colWidth:"auto",rowHeight:"match",margins:[10,10],outerMargin:!0,sparse:!1,isMobile:!1,mobileBreakPoint:600,mobileModeEnabled:!0,minColumns:1,minRows:1,maxRows:100,defaultSizeX:2,defaultSizeY:1,minSizeX:1,maxSizeX:null,minSizeY:1,maxSizeY:null,saveGridItemCalculatedHeightInMobile:!1,resizable:{enabled:!0,handles:["s","e","n","w","se","ne","sw","nw"]},draggable:{enabled:!0,scrollSensitivity:20,scrollSpeed:15}}).controller("GridsterCtrl",["gridsterConfig","$timeout",function(t,n){var r=this;e.extend(this,t),this.resizable=e.extend({},t.resizable||{}),this.draggable=e.extend({},t.draggable||{});var i=!1;this.layoutChanged=function(){i||(i=!0,n((function(){i=!1,r.loaded&&r.floatItemsUp(),r.updateHeight(r.movingItem?r.movingItem.sizeY:0)}),30))},this.grid=[],this.allItems=[],this.destroy=function(){this.grid&&(this.grid=[]),this.$element=null,this.allItems&&(this.allItems.length=0,this.allItems=null)},this.setOptions=function(t){if(t)if((t=e.extend({},t)).draggable&&(e.extend(this.draggable,t.draggable),delete t.draggable),t.resizable&&(e.extend(this.resizable,t.resizable),delete t.resizable),e.extend(this,t),this.margins&&2===this.margins.length)for(var n=0,r=this.margins.length;n<r;++n)this.margins[n]=parseInt(this.margins[n],10),isNaN(this.margins[n])&&(this.margins[n]=0);else this.margins=[0,0]},this.canItemOccupy=function(e,t,n){return t>-1&&n>-1&&e.sizeX+n<=this.columns&&e.sizeY+t<=this.maxRows},this.autoSetItemPosition=function(e){for(var t=0;t<this.maxRows;++t)for(var n=0;n<this.columns;++n){if(0===this.getItems(t,n,e.sizeX,e.sizeY,e).length&&this.canItemOccupy(e,t,n))return void this.putItem(e,t,n)}throw new Error("Unable to place item!")},this.getItems=function(e,t,n,r,i){var o,a=[];if(n&&r||(n=r=1),!i||i instanceof Array||(i=[i]),!1===this.sparse)for(var s=0;s<r;++s)for(var u=0;u<n;++u)!(o=this.getItem(e+s,t+u,i))||i&&-1!==i.indexOf(o)||-1!==a.indexOf(o)||a.push(o);else for(var c=e+r-1,l=t+n-1,d=0;d<this.allItems.length;++d)!(o=this.allItems[d])||i&&-1!==i.indexOf(o)||-1!==a.indexOf(o)||!this.intersect(o,t,l,e,c)||a.push(o);return a},this.getBoundingBox=function(e){if(0===e.length)return null;if(1===e.length)return{row:e[0].row,col:e[0].col,sizeY:e[0].sizeY,sizeX:e[0].sizeX};for(var t=0,n=0,r=9999,i=9999,o=0,a=e.length;o<a;++o){var s=e[o];r=Math.min(s.row,r),i=Math.min(s.col,i),t=Math.max(s.row+s.sizeY,t),n=Math.max(s.col+s.sizeX,n)}return{row:r,col:i,sizeY:t-r,sizeX:n-i}},this.intersect=function(e,t,n,r,i){return t<=e.col+e.sizeX-1&&n>=e.col&&r<=e.row+e.sizeY-1&&i>=e.row},this.removeItem=function(e){for(var t,n=0,r=this.grid.length;n<r;++n){var i=this.grid[n];if(i&&-1!==(t=i.indexOf(e))){i[t]=null;break}}this.sparse&&-1!==(t=this.allItems.indexOf(e))&&this.allItems.splice(t,1),this.layoutChanged()},this.getItem=function(e,t,n){!n||n instanceof Array||(n=[n]);for(var r=1;e>-1;){for(var i=1,o=t;o>-1;){var a=this.grid[e];if(a){var s=a[o];if(s&&(!n||-1===n.indexOf(s))&&s.sizeX>=i&&s.sizeY>=r)return s}++i,--o}--e,++r}return null},this.putItems=function(e){for(var t=0,n=e.length;t<n;++t)this.putItem(e[t])},this.putItem=function(e,t,n,r){if(null!=t||(t=e.row,n=e.col,null!=t)){if(this.canItemOccupy(e,t,n)||(n=Math.min(this.columns-e.sizeX,Math.max(0,n)),t=Math.min(this.maxRows-e.sizeY,Math.max(0,t))),null!==e.oldRow&&void 0!==e.oldRow){var i=e.oldRow===t&&e.oldColumn===n,o=this.grid[t]&&this.grid[t][n]===e;if(i&&o)return e.row=t,void(e.col=n);var a=this.grid[e.oldRow];a&&a[e.oldColumn]===e&&delete a[e.oldColumn]}e.oldRow=e.row=t,e.oldColumn=e.col=n,this.moveOverlappingItems(e,r),this.grid[t]||(this.grid[t]=[]),this.grid[t][n]=e,this.sparse&&-1===this.allItems.indexOf(e)&&this.allItems.push(e),this.movingItem===e&&this.floatItemUp(e),this.layoutChanged()}else this.autoSetItemPosition(e)},this.swapItems=function(e,t){this.grid[e.row][e.col]=t,this.grid[t.row][t.col]=e;var n=e.row,r=e.col;e.row=t.row,e.col=t.col,t.row=n,t.col=r},this.moveOverlappingItems=function(e,t){t?-1===t.indexOf(e)&&(t=t.slice(0)).push(e):t=[e];var n=this.getItems(e.row,e.col,e.sizeX,e.sizeY,t);this.moveItemsDown(n,e.row+e.sizeY,t)},this.moveItemsDown=function(e,t,n){if(e&&0!==e.length){e.sort((function(e,t){return e.row-t.row})),n=n?n.slice(0):[];var r,i,o,a={};for(i=0,o=e.length;i<o;++i){var s=a[(r=e[i]).col];(void 0===s||r.row<s)&&(a[r.col]=r.row)}for(i=0,o=e.length;i<o;++i){var u=t-a[(r=e[i]).col];this.moveItemDown(r,r.row+u,n),n.push(r)}}},this.moveItemDown=function(e,t,n){if(!(e.row>=t)){for(;e.row<t;)++e.row,this.moveOverlappingItems(e,n);this.putItem(e,e.row,e.col,n)}},this.floatItemsUp=function(){if(!1!==this.floating)for(var e=0,t=this.grid.length;e<t;++e){var n=this.grid[e];if(n)for(var r=0,i=n.length;r<i;++r){var o=n[r];o&&this.floatItemUp(o)}}},this.floatItemUp=function(e){if(!1!==this.floating){for(var t=e.col,n=e.sizeY,r=e.sizeX,i=null,o=null,a=e.row-1;a>-1;){if(0!==this.getItems(a,t,r,n,e).length)break;i=a,o=t,--a}null!==i&&this.putItem(e,i,o)}},this.updateHeight=function(e){var t=this.minRows;e=e||0;for(var n=this.grid.length;n>=0;--n){var r=this.grid[n];if(r)for(var i=0,o=r.length;i<o;++i)r[i]&&(t=Math.max(t,n+e+r[i].sizeY))}this.gridHeight=this.maxRows-t>0?Math.min(this.maxRows,t):Math.max(this.maxRows,t)},this.pixelsToRows=function(e,t){return this.outerMargin||(e+=this.margins[0]/2),!0===t?Math.ceil(e/this.curRowHeight):!1===t?Math.floor(e/this.curRowHeight):Math.round(e/this.curRowHeight)},this.pixelsToColumns=function(e,t){return this.outerMargin||(e+=this.margins[1]/2),!0===t?Math.ceil(e/this.curColWidth):!1===t?Math.floor(e/this.curColWidth):Math.round(e/this.curColWidth)}}]).directive("gridsterPreview",(function(){return{replace:!0,scope:!0,require:"^gridster",template:'<div ng-style="previewStyle()" class="gridster-item gridster-preview-holder"></div>',link:function(e,t,n,r){e.previewStyle=function(){return r.movingItem?{display:"block",height:r.movingItem.sizeY*r.curRowHeight-r.margins[0]+"px",width:r.movingItem.sizeX*r.curColWidth-r.margins[1]+"px",top:r.movingItem.row*r.curRowHeight+(r.outerMargin?r.margins[0]:0)+"px",left:r.movingItem.col*r.curColWidth+(r.outerMargin?r.margins[1]:0)+"px"}:{display:"none"}}}}})).directive("gridster",["$timeout","$window","$rootScope","gridsterDebounce",function(t,n,r,i){return{scope:!0,restrict:"EAC",controller:"GridsterCtrl",controllerAs:"gridster",compile:function(o){return o.prepend('<div ng-if="gridster.movingItem" gridster-preview></div>'),function(o,a,s,u){u.loaded=!1,u.$element=a,o.gridster=u,a.addClass("gridster");var c=function(e){return"hidden"!==e.style.visibility&&"none"!==e.style.display};function l(){a.css("height",u.gridHeight*u.curRowHeight+(u.outerMargin?u.margins[0]:-u.margins[0])+"px")}function d(e){if(u.setOptions(e),c(a[0])){"auto"===u.width?u.curWidth=a[0].offsetWidth||parseInt(a.css("width"),10):u.curWidth=u.width,"auto"===u.colWidth?u.curColWidth=(u.curWidth+(u.outerMargin?-u.margins[1]:u.margins[1]))/u.columns:u.curColWidth=u.colWidth,u.curRowHeight=u.rowHeight,"string"==typeof u.rowHeight&&("match"===u.rowHeight?u.curRowHeight=Math.round(u.curColWidth):-1!==u.rowHeight.indexOf("*")?u.curRowHeight=Math.round(u.curColWidth*u.rowHeight.replace("*","").replace(" ","")):-1!==u.rowHeight.indexOf("/")&&(u.curRowHeight=Math.round(u.curColWidth/u.rowHeight.replace("/","").replace(" ","")))),u.isMobile=u.mobileModeEnabled&&u.curWidth<=u.mobileBreakPoint;for(var t=0,n=u.grid.length;t<n;++t){var r=u.grid[t];if(r)for(var i=0,o=r.length;i<o;++i)if(r[i]){var s=r[i];s.setElementPosition(),s.setElementSizeY(),s.setElementSizeX()}}l()}}o.$watch((function(){return u.gridHeight}),l),o.$watch((function(){return u.movingItem}),(function(){u.updateHeight(u.movingItem?u.movingItem.sizeY:0)}));var p=s.gridster;p?o.$parent.$watch(p,(function(e){d(e)}),!0):d({}),o.$watch((function(){return u.loaded}),(function(){u.loaded?(a.addClass("gridster-loaded"),r.$broadcast("gridster-loaded",u)):a.removeClass("gridster-loaded")})),o.$watch((function(){return u.isMobile}),(function(){u.isMobile?a.addClass("gridster-mobile").removeClass("gridster-desktop"):a.removeClass("gridster-mobile").addClass("gridster-desktop"),r.$broadcast("gridster-mobile-changed",u)})),o.$watch((function(){return u.draggable}),(function(){r.$broadcast("gridster-draggable-changed",u)}),!0),o.$watch((function(){return u.resizable}),(function(){r.$broadcast("gridster-resizable-changed",u)}),!0);var f=a[0].offsetWidth||parseInt(a.css("width"),10),h=function(){var e=a[0].offsetWidth||parseInt(a.css("width"),10);e&&e!==f&&!u.movingItem&&(f=e,u.loaded&&a.removeClass("gridster-loaded"),d(),u.loaded&&a.addClass("gridster-loaded"),r.$broadcast("gridster-resized",[e,a[0].offsetHeight],u))},v=i((function(){h(),t((function(){o.$apply()}))}),100);o.$watch((function(){return c(a[0])}),v),"function"==typeof window.addResizeListener?window.addResizeListener(a[0],v):o.$watch((function(){return a[0].offsetWidth||parseInt(a.css("width"),10)}),h);var m=e.element(n);m.on("resize",v),o.$on("$destroy",(function(){u.destroy(),m.off("resize",v),"function"==typeof window.removeResizeListener&&window.removeResizeListener(a[0],v)})),t((function(){o.$watch("gridster.floating",(function(){u.floatItemsUp()})),u.loaded=!0}),100)}}}}]).controller("GridsterItemCtrl",(function(){this.$element=null,this.gridster=null,this.row=null,this.col=null,this.sizeX=null,this.sizeY=null,this.minSizeX=0,this.minSizeY=0,this.maxSizeX=null,this.maxSizeY=null,this.init=function(e,t){this.$element=e,this.gridster=t,this.sizeX=t.defaultSizeX,this.sizeY=t.defaultSizeY},this.destroy=function(){this.gridster=null,this.$element=null},this.toJSON=function(){return{row:this.row,col:this.col,sizeY:this.sizeY,sizeX:this.sizeX}},this.isMoving=function(){return this.gridster.movingItem===this},this.setPosition=function(e,t){this.gridster.putItem(this,e,t),this.isMoving()||this.setElementPosition()},this.setSize=function(e,t,n){var r="size"+(e=e.toUpperCase()),i="Size"+e;if(""!==t){t=parseInt(t,10),(isNaN(t)||0===t)&&(t=this.gridster["default"+i]);var o="X"===e?this.gridster.columns:this.gridster.maxRows;this["max"+i]&&(o=Math.min(this["max"+i],o)),this.gridster["max"+i]&&(o=Math.min(this.gridster["max"+i],o)),"X"===e&&this.cols?o-=this.cols:"Y"===e&&this.rows&&(o-=this.rows);var a=0;this["min"+i]&&(a=Math.max(this["min"+i],a)),this.gridster["min"+i]&&(a=Math.max(this.gridster["min"+i],a)),t=Math.max(Math.min(t,o),a);var s=this[r]!==t||this["old"+i]&&this["old"+i]!==t;return this["old"+i]=this[r]=t,this.isMoving()||this["setElement"+i](),!n&&s&&(this.gridster.moveOverlappingItems(this),this.gridster.layoutChanged()),s}},this.setSizeY=function(e,t){return this.setSize("Y",e,t)},this.setSizeX=function(e,t){return this.setSize("X",e,t)},this.setElementPosition=function(){this.gridster.isMobile?this.$element.css({marginLeft:this.gridster.margins[0]+"px",marginRight:this.gridster.margins[0]+"px",marginTop:this.gridster.margins[1]+"px",marginBottom:this.gridster.margins[1]+"px",top:"",left:""}):this.$element.css({margin:0,top:this.row*this.gridster.curRowHeight+(this.gridster.outerMargin?this.gridster.margins[0]:0)+"px",left:this.col*this.gridster.curColWidth+(this.gridster.outerMargin?this.gridster.margins[1]:0)+"px"})},this.setElementSizeY=function(){this.gridster.isMobile&&!this.gridster.saveGridItemCalculatedHeightInMobile?this.$element.css("height",""):this.$element.css("height",this.sizeY*this.gridster.curRowHeight-this.gridster.margins[0]+"px")},this.setElementSizeX=function(){this.gridster.isMobile?this.$element.css("width",""):this.$element.css("width",this.sizeX*this.gridster.curColWidth-this.gridster.margins[1]+"px")},this.getElementSizeX=function(){return this.sizeX*this.gridster.curColWidth-this.gridster.margins[1]},this.getElementSizeY=function(){return this.sizeY*this.gridster.curRowHeight-this.gridster.margins[0]}})).factory("GridsterTouch",[function(){return function(e,t,n,r){var i,o,a={},s=function(e){if(Object.keys)return Object.keys(e).length;var t,n=0;for(t in e)++n;return n},u=function(e){for(var t=0,n=0,r=navigator.userAgent.match(/\bMSIE\b/),i=e;null!=i;i=i.offsetParent)r&&(!document.documentMode||document.documentMode<8)&&"relative"===i.currentStyle.position&&i.offsetParent&&"relative"===i.offsetParent.currentStyle.position&&i.offsetLeft===i.offsetParent.offsetLeft||(t+=i.offsetLeft),n+=i.offsetTop;return{x:t,y:n}},c=u(e),l=!1,d=function(i){if("mousemove"!==i.type||0!==s(a)){for(var o=!0,p=i.changedTouches?i.changedTouches:[i],f=0;f<p.length;++f){var h=p[f],v=void 0!==h.identifier?h.identifier:void 0!==h.pointerId?h.pointerId:1;if(void 0===h.pageX)if(h.pageX=h.offsetX+c.x,h.pageY=h.offsetY+c.y,h.srcElement.offsetParent===e&&document.documentMode&&8===document.documentMode&&"mousedown"===h.type)h.pageX+=h.srcElement.offsetLeft,h.pageY+=h.srcElement.offsetTop;else if(h.srcElement!==e&&!document.documentMode||document.documentMode<8){for(var m=-2,g=-2,b=h.srcElement;null!==b;b=b.parentNode)m+=b.scrollLeft?b.scrollLeft:0,g+=b.scrollTop?b.scrollTop:0;h.pageX=h.clientX+m,h.pageY=h.clientY+g}var y=h.pageX,w=h.pageY;i.type.match(/(start|down)$/i)?(c=u(e),a[v]&&(r&&r({target:i.target,which:i.which,pointerId:v,pageX:y,pageY:w}),delete a[v]),t&&o&&(o=t({target:i.target,which:i.which,pointerId:v,pageX:y,pageY:w})),a[v]={x:y,y:w},e.msSetPointerCapture&&o?e.msSetPointerCapture(v):"mousedown"===i.type&&1===s(a)&&(l?e.setCapture(!0):(document.addEventListener("mousemove",d,!1),document.addEventListener("mouseup",d,!1)))):i.type.match(/move$/i)?!a[v]||a[v].x===y&&a[v].y===w||(n&&o&&(o=n({target:i.target,which:i.which,pointerId:v,pageX:y,pageY:w})),a[v].x=y,a[v].y=w):a[v]&&i.type.match(/(up|end|cancel)$/i)&&(r&&o&&(o=r({target:i.target,which:i.which,pointerId:v,pageX:y,pageY:w})),delete a[v],e.msReleasePointerCapture?e.msReleasePointerCapture(v):"mouseup"===i.type&&0===s(a)&&(l?e.releaseCapture():(document.removeEventListener("mousemove",d,!1),document.removeEventListener("mouseup",d,!1))))}o&&(i.preventDefault&&i.preventDefault(),i.preventManipulation&&i.preventManipulation(),i.preventMouseEvent&&i.preventMouseEvent())}};return this.enable=function(){window.navigator.msPointerEnabled?(e.addEventListener("MSPointerDown",d,!1),e.addEventListener("MSPointerMove",d,!1),e.addEventListener("MSPointerUp",d,!1),e.addEventListener("MSPointerCancel",d,!1),void 0!==e.style.msContentZooming&&(i=e.style.msContentZooming,e.style.msContentZooming="none"),void 0!==e.style.msTouchAction&&(o=e.style.msTouchAction,e.style.msTouchAction="none")):e.addEventListener?(e.addEventListener("touchstart",d,!1),e.addEventListener("touchmove",d,!1),e.addEventListener("touchend",d,!1),e.addEventListener("touchcancel",d,!1),e.addEventListener("mousedown",d,!1),e.setCapture&&!window.navigator.userAgent.match(/\bGecko\b/)&&(l=!0,e.addEventListener("mousemove",d,!1),e.addEventListener("mouseup",d,!1))):e.attachEvent&&e.setCapture&&(l=!0,e.attachEvent("onmousedown",(function(){return d(window.event),window.event.returnValue=!1,!1})),e.attachEvent("onmousemove",(function(){return d(window.event),window.event.returnValue=!1,!1})),e.attachEvent("onmouseup",(function(){return d(window.event),window.event.returnValue=!1,!1})))},this.disable=function(){window.navigator.msPointerEnabled?(e.removeEventListener("MSPointerDown",d,!1),e.removeEventListener("MSPointerMove",d,!1),e.removeEventListener("MSPointerUp",d,!1),e.removeEventListener("MSPointerCancel",d,!1),i&&(e.style.msContentZooming=i),o&&(e.style.msTouchAction=o)):e.removeEventListener?(e.removeEventListener("touchstart",d,!1),e.removeEventListener("touchmove",d,!1),e.removeEventListener("touchend",d,!1),e.removeEventListener("touchcancel",d,!1),e.removeEventListener("mousedown",d,!1),e.setCapture&&!window.navigator.userAgent.match(/\bGecko\b/)&&(l=!0,e.removeEventListener("mousemove",d,!1),e.removeEventListener("mouseup",d,!1))):e.detachEvent&&e.setCapture&&(l=!0,e.detachEvent("onmousedown"),e.detachEvent("onmousemove"),e.detachEvent("onmouseup"))},this}}]).factory("GridsterDraggable",["$document","$window","GridsterTouch",function(t,n,r){return function(i,o,a,s,u){var c,l,d,p,f=0,h=0,v=0,m=0,g=0,b=0,y=t[0],w=["select","option","input","textarea","button"];function $(t){if(-1!==w.indexOf(t.target.nodeName.toLowerCase()))return!1;var n,r=e.element(t.target);if(r.hasClass("gridster-item-resizable-handler"))return!1;if(r.attr("onclick")||r.attr("ng-click"))return!1;if(r.closest&&r.closest(".gridster-no-drag").length)return!1;if(a.draggable&&a.draggable.handle){var f=e.element(i[0].querySelectorAll(a.draggable.handle)),h=!1;e:for(var g=0,b=f.length;g<b;++g){var y=f[g];if(y===t.target){h=!0;break}for(var $=t.target,_=0;_<20;++_){var C=$.parentNode;if(C===i[0]||!C)break;if(C===y){h=!0;break e}$=C}}if(!h)return!1}switch(t.which){case 1:break;case 2:case 3:return}return v=t.pageX,m=t.pageY,c=parseInt(i.css("left"),10),l=parseInt(i.css("top"),10),d=i[0].offsetWidth,p=i[0].offsetHeight,s.col,s.row,n=t,i.addClass("gridster-item-moving"),a.movingItem=s,a.updateHeight(s.sizeY),o.$apply((function(){a.draggable&&a.draggable.start&&a.draggable.start(n,i,u,s)})),!0}function _(e){if(!i.hasClass("gridster-item-moving")||i.hasClass("gridster-item-resizing"))return!1;var t=a.curWidth-1,r=a.curRowHeight*a.maxRows-1;f=e.pageX,h=e.pageY;var w=f-v+g,$=h-m+b;g=b=0,v=f,m=h;var _=w,C=$;return c+_<0?g=_-(w=0-c):c+d+_>t&&(g=_-(w=t-c-d)),l+C<0?b=C-($=0-l):l+p+C>r&&(b=C-($=r-l-p)),c+=w,l+=$,i.css({top:l+"px",left:c+"px"}),function(e){var t=s.row,r=s.col,d=a.draggable&&a.draggable.drag,p=a.draggable.scrollSensitivity,f=a.draggable.scrollSpeed,h=Math.min(a.pixelsToRows(l),a.maxRows-1),v=Math.min(a.pixelsToColumns(c),a.columns-1),m=a.getItems(h,v,s.sizeX,s.sizeY,s),g=0!==m.length;if(!0===a.swapping&&g){var b=a.getBoundingBox(m),w=b.sizeX===s.sizeX&&b.sizeY===s.sizeY,$=b.row===t,_=b.col===r,C=b.row===h&&b.col===v,x=$||_;if(w&&1===m.length){if(C)a.swapItems(s,m[0]);else if(x)return}else if(b.sizeX<=s.sizeX&&b.sizeY<=s.sizeY&&x)for(var k=s.row<=h?s.row:h+s.sizeY,S=s.col<=v?s.col:v+s.sizeX,E=k-b.row,T=S-b.col,D=0,A=m.length;D<A;++D){var O=m[D];0===a.getItems(O.row+E,O.col+T,O.sizeX,O.sizeY,s).length&&a.putItem(O,O.row+E,O.col+T)}}!1===a.pushing&&g||(s.row=h,s.col=v),e.pageY-y.body.scrollTop<p?y.body.scrollTop=y.body.scrollTop-f:n.innerHeight-(e.pageY-y.body.scrollTop)<p&&(y.body.scrollTop=y.body.scrollTop+f),e.pageX-y.body.scrollLeft<p?y.body.scrollLeft=y.body.scrollLeft-f:n.innerWidth-(e.pageX-y.body.scrollLeft)<p&&(y.body.scrollLeft=y.body.scrollLeft+f),(d||t!==s.row||r!==s.col)&&o.$apply((function(){d&&a.draggable.drag(e,i,u,s)}))}(e),!0}function C(e){return!(!i.hasClass("gridster-item-moving")||i.hasClass("gridster-item-resizing"))&&(g=b=0,function(e){i.removeClass("gridster-item-moving");var t=Math.min(a.pixelsToRows(l),a.maxRows-1),n=Math.min(a.pixelsToColumns(c),a.columns-1);!1===a.pushing&&0!==a.getItems(t,n,s.sizeX,s.sizeY,s).length||(s.row=t,s.col=n),a.movingItem=null,s.setPosition(s.row,s.col),o.$apply((function(){a.draggable&&a.draggable.stop&&a.draggable.stop(e,i,u,s)}))}(e),!0)}var x=null,k=null;this.enable=function(){!0!==x&&(x=!0,k?k.enable():(k=new r(i[0],$,_,C)).enable())},this.disable=function(){!1!==x&&(x=!1,k&&k.disable())},this.toggle=function(e){e?this.enable():this.disable()},this.destroy=function(){this.disable()}}}]).factory("GridsterResizable",["GridsterTouch",function(t){return function(n,r,i,o,a){function s(s){var u,c,l,d,p,f=s,h=0,v=0,m=0,g=0,b=0,y=0,w=function(){return(o.minSizeY?o.minSizeY:1)*i.curRowHeight-i.margins[0]},$=function(){return(o.minSizeX?o.minSizeX:1)*i.curColWidth-i.margins[1]};function _(e){switch(e.which){case 1:break;case 2:case 3:return}return(p=i.draggable.enabled)&&(i.draggable.enabled=!1,r.$broadcast("gridster-draggable-changed",i)),m=e.pageX,g=e.pageY,u=parseInt(n.css("left"),10),c=parseInt(n.css("top"),10),l=n[0].offsetWidth,d=n[0].offsetHeight,o.sizeX,o.sizeY,function(e){n.addClass("gridster-item-moving"),n.addClass("gridster-item-resizing"),i.movingItem=o,o.setElementSizeX(),o.setElementSizeY(),o.setElementPosition(),i.updateHeight(1),r.$apply((function(){i.resizable&&i.resizable.start&&i.resizable.start(e,n,a,o)}))}(e),!0}function C(e){var t=i.curWidth-1;h=e.pageX,v=e.pageY;var p=h-m+b,_=v-g+y;b=y=0,m=h,g=v;var C=_,x=p;return f.indexOf("n")>=0&&(d-C<w()?(_=d-w(),y=C-_):c+C<0&&(y=C-(_=0-c)),c+=_,d-=_),f.indexOf("s")>=0&&(d+C<w()?(_=w()-d,y=C-_):c+d+C>9999&&(y=C-(_=9999-c-d)),d+=_),f.indexOf("w")>=0&&(l-x<$()?(p=l-$(),b=x-p):u+x<0&&(b=x-(p=0-u)),u+=p,l-=p),f.indexOf("e")>=0&&(l+x<$()?(p=$()-l,b=x-p):u+l+x>t&&(b=x-(p=t-u-l)),l+=p),n.css({top:c+"px",left:u+"px",width:l+"px",height:d+"px"}),function(e){var t=o.row,p=o.col,f=o.sizeX,h=o.sizeY,v=i.resizable&&i.resizable.resize,m=o.col;-1!==["w","nw","sw"].indexOf(s)&&(m=i.pixelsToColumns(u,!1));var g=o.row;-1!==["n","ne","nw"].indexOf(s)&&(g=i.pixelsToRows(c,!1));var b=o.sizeX;-1===["n","s"].indexOf(s)&&(b=i.pixelsToColumns(l,!0));var y=o.sizeY;-1===["e","w"].indexOf(s)&&(y=i.pixelsToRows(d,!0)),!(g>-1&&m>-1&&b+m<=i.columns&&y+g<=i.maxRows)||!1===i.pushing&&0!==i.getItems(g,m,b,y,o).length||(o.row=g,o.col=m,o.sizeX=b,o.sizeY=y);var w=o.row!==t||o.col!==p||o.sizeX!==f||o.sizeY!==h;(v||w)&&r.$apply((function(){v&&i.resizable.resize(e,n,a,o)}))}(e),!0}function x(e){return i.draggable.enabled!==p&&(i.draggable.enabled=p,r.$broadcast("gridster-draggable-changed",i)),b=y=0,function(e){n.removeClass("gridster-item-moving"),n.removeClass("gridster-item-resizing"),i.movingItem=null,o.setPosition(o.row,o.col),o.setSizeY(o.sizeY),o.setSizeX(o.sizeX),r.$apply((function(){i.resizable&&i.resizable.stop&&i.resizable.stop(e,n,a,o)}))}(e),!0}var k,S=null;this.enable=function(){S||(S=e.element('<div class="gridster-item-resizable-handler handle-'+f+'"></div>'),n.append(S)),(k=new t(S[0],_,C,x)).enable()},this.disable=function(){S&&(S.remove(),S=null),k.disable(),k=void 0},this.destroy=function(){this.disable()}}var u=[],c=i.resizable.handles;"string"==typeof c&&(c=i.resizable.handles.split(","));for(var l=!1,d=0,p=c.length;d<p;d++)u.push(new s(c[d]));this.enable=function(){if(!l){for(var e=0,t=u.length;e<t;e++)u[e].enable();l=!0}},this.disable=function(){if(l){for(var e=0,t=u.length;e<t;e++)u[e].disable();l=!1}},this.toggle=function(e){e?this.enable():this.disable()},this.destroy=function(){for(var e=0,t=u.length;e<t;e++)u[e].destroy()}}}]).factory("gridsterDebounce",(function(){return function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}})).directive("gridsterItem",["$parse","GridsterDraggable","GridsterResizable","gridsterDebounce",function(e,t,n,r){return{scope:!0,restrict:"EA",controller:"GridsterItemCtrl",controllerAs:"gridsterItem",require:["^gridster","gridsterItem"],link:function(i,o,a,s){var u,c=a.gridsterItem,l=s[0],d=s[1];if(i.gridster=l,c){var p=e(c);!(u=p(i)||{})&&p.assign&&(u={row:d.row,col:d.col,sizeX:d.sizeX,sizeY:d.sizeY,minSizeX:0,minSizeY:0,maxSizeX:null,maxSizeY:null},p.assign(i,u))}else u=a;d.init(o,l),o.addClass("gridster-item");for(var f=["minSizeX","maxSizeX","minSizeY","maxSizeY","sizeX","sizeY","row","col"],h={},v=[],m=function(t){var n;if("string"==typeof u[t])n=u[t];else if("string"==typeof u[t.toLowerCase()])n=u[t.toLowerCase()];else{if(!c)return;n=c+"."+t}v.push('"'+t+'":'+n),h[t]=e(n);var r=h[t](i);"number"==typeof r&&(d[t]=r)},g=0,b=f.length;g<b;++g)m(f[g]);var y="{"+v.join(",")+"}";i.$watchCollection(y,(function(e,t){for(var n in e){var r=e[n];t[n]!==r&&(r=parseInt(r,10),isNaN(r)||(d[n]=r))}})),i.$watch((function(){return d.row+","+d.col}),(function(){d.setPosition(d.row,d.col),h.row&&h.row.assign&&h.row.assign(i,d.row),h.col&&h.col.assign&&h.col.assign(i,d.col)})),i.$watch((function(){return d.sizeY+","+d.sizeX+","+d.minSizeX+","+d.maxSizeX+","+d.minSizeY+","+d.maxSizeY}),(function(){var e=d.setSizeX(d.sizeX,!0);e&&h.sizeX&&h.sizeX.assign&&h.sizeX.assign(i,d.sizeX);var t=d.setSizeY(d.sizeY,!0);t&&h.sizeY&&h.sizeY.assign&&h.sizeY.assign(i,d.sizeY),(e||t)&&(d.gridster.moveOverlappingItems(d),l.layoutChanged(),i.$broadcast("gridster-item-resized",d))}));var w=new t(o,i,l,d,u),$=new n(o,i,l,d,u),_=function(){$.toggle(!l.isMobile&&l.resizable&&l.resizable.enabled)};_();var C=function(){w.toggle(!l.isMobile&&l.draggable&&l.draggable.enabled)};C(),i.$on("gridster-draggable-changed",C),i.$on("gridster-resizable-changed",_),i.$on("gridster-resized",_),i.$on("gridster-mobile-changed",(function(){_(),C()}));var x=r((function(){i.$apply((function(){i.$broadcast("gridster-item-transition-end",d)}))}),50);return o.on(function(){var e=document.createElement("div"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}(),x),i.$broadcast("gridster-item-initialized",d),i.$on("$destroy",(function(){try{$.destroy(),w.destroy()}catch(e){}try{l.removeItem(d)}catch(e){}try{d.destroy()}catch(e){}}))}}}]).directive("gridsterNoDrag",(function(){return{restrict:"A",link:function(e,t){t.addClass("gridster-no-drag")}}}))})),
/*!
 * angular-extended-notifications v1.0.5 - 2016-05-06
 * (c) 2014-2016 L.systems SARL, Etienne Folio, Quentin Raynaud
 * https://bitbucket.org/lsystems/angular-extended-notifications
 * License: MIT
 */
angular.module("angular-extended-notifications",[]).provider("notifications",(function(){"use strict";var e={info:"fa-info",error:"fa-exclamation-circle",success:"fa-check",warning:"fa-exclamation-triangle"};this.setFaIcons=function(t){for(var n in t)e[n]=t[n];return this};var t={attachTo:"body",className:"",duration:2500,webkitNotifications:!1,close:angular.noop,show:angular.noop,closeButton:!0,templateFile:"global-notification.html",templatesDir:"templates/"};this.setDefaults=function(e){for(var n in e)t[n]=e[n];return this},this.$get=["$timeout","$templateCache","$injector","$rootScope","$compile","$q",function(n,r,i,o,a,s){var u=[];function c(e){var c;for(var l in t)void 0===e[l]&&(e[l]=t[l]);e.template&&(e.templateFile=e.template+".html");var d=window.webkitNotifications,p=s.all([s.when(e.message),s.when(e.title)]).then((function(t){if(e.message=t[0],e.title=t[1],e.webkitNotifications&&d&&!d.checkPermission()){if("object"!=typeof e.webkitNotifications)throw new Error("data.webkitNotifications should either be false or an object");return(c=e.webkitNotifications.notificationUrl?d.createHTMLNotification(e.webkitNotifications.notificationUrl):d.createNotification(e.webkitNotifications.iconFile,e.title,e.content)).ondisplay=e.show,c.close=e.close,c.show(),c}}));if(e.webkitNotifications&&d&&!d.checkPermission())return p;var f=function(t){var r=o.$new(!0);if(r.close=c.close.bind(c),r.data=e,c.templateElement=a(t)(r),c.templateElement.addClass(e.className),"string"==typeof e.attachTo&&(e.attachTo=angular.element(document.querySelector(e.attachTo))),"object"==typeof e.attachTo&&e.attachTo.prepend)e.attachTo.prepend(c.templateElement);else{if("function"!=typeof e.attachTo)throw new Error("Invalid value for attachTo. It should be either a function or an object with a prepend method");e.attachTo(c.templateElement)}if(u.push(c),e.closeOnRouteChange){if(!angular.isString(e.closeOnRouteChange))throw new Error('Invalid property closeOnRouteChange. Should be a string, like "route" to match an event like "routeChangeStart"');var i=o.$on("$"+e.closeOnRouteChange+"ChangeStart",(function(){c.close(),i()}))}~e.duration&&(c.$timeoutPromise=n(c.close.bind(c),e.duration)),e.show()};return c={data:e,close:function(){this.$timeoutPromise&&n.cancel(this.$timeoutPromise),!1!==e.close()&&(u.splice(u.indexOf(this),1),f=angular.noop,this.templateElement&&this.templateElement.remove())}},i.get("$http").get(e.templatesDir+e.templateFile,{cache:r}).success((function(e){f(e)})).error((function(e){throw new Error("Template specified for notifications ("+e.template+") could not be loaded. "+e)})),c}function l(t){return function(n,r,i){return i=i||{},"object"==typeof n?i=n:(i.title=n,i.message=r),i.type=t,i.faIcons&&t in e&&(i.faIcon=e[t]),c(i)}}return{queue:u,info:l("info"),error:l("error"),success:l("success"),warning:l("warning"),notify:c}}]})),angular.module("ngAudio",[]).directive("ngAudio",["$compile","$q","ngAudio",function(e,t,n){return{restrict:"AEC",scope:{volume:"=",start:"=",currentTime:"=",loop:"=",clickPlay:"=",disablePreload:"="},controller:["$scope","$attrs","$element","$timeout",function(e,t,r,i){var o;function a(){o=n.load(t.ngAudio),e.$audio=o,o.unbind()}e.disablePreload||a(),r.on("click",(function(){!1!==e.clickPlay&&(e.disablePreload&&a(),o.audio.play(),o.volume=e.volume||o.volume,o.loop=e.loop,o.currentTime=e.start||0,i((function(){o.play()}),5))}))}]}}]).directive("ngAudioHover",["$compile","$q","ngAudio",function(e,t,n){return{restrict:"AEC",controller:["$scope","$attrs","$element","$timeout",function(e,t,r,i){var o=n.load(t.ngAudioHover);r.on("mouseover rollover hover",(function(){o.audio.play(),o.volume=t.volumeHover||o.volume,o.loop=t.loop,o.currentTime=t.startHover||0}))}]}}]).service("localAudioFindingService",["$q",function(e){this.find=function(t){var n=e.defer(),r=document.getElementById(t);return r?n.resolve(r):n.reject(t),n.promise}}]).service("remoteAudioFindingService",["$q",function(e){this.find=function(t){var n=e.defer(),r=new Audio;return r.addEventListener("error",(function(){n.reject()})),r.addEventListener("loadstart",(function(){n.resolve(r)})),setTimeout((function(){r.src=t}),1),n.promise}}]).service("cleverAudioFindingService",["$q","localAudioFindingService","remoteAudioFindingService",function(e,t,n){this.find=function(r){var i=e.defer();return r=r.replace("|","/"),t.find(r).then(i.resolve,(function(){return n.find(r)})).then(i.resolve,i.reject),i.promise}}]).value("ngAudioGlobals",{muting:!1,songmuting:!1,performance:25,unlock:!0}).factory("NgAudioObject",["cleverAudioFindingService","$rootScope","$interval","$timeout","ngAudioGlobals",function(e,t,n,r,i){return function(r){i.unlock&&window.addEventListener("click",(function e(){u.play(),u.pause(),window.removeEventListener("click",e)}));var o,a,s,u,c=!1,l=!1,d=!1,p=!1,f=!1,h=!1,v=!0,m=this;this.id=r,this.safeId=r.replace("/","|"),this.loop=0,this.unbind=function(){v=!1},this.play=function(){return c=!0,this};var g=[];this.complete=function(e){g.push(e)},this.pause=function(){l=!0},this.restart=function(){d=!0},this.stop=function(){this.restart()},this.setVolume=function(e){a=e},this.setPlaybackRate=function(e){f=e,p=!0},this.setMuting=function(e){h=e},this.setProgress=function(e){u&&u.duration&&isFinite(e)&&(u.currentTime=u.duration*e)},this.setCurrentTime=function(e){u&&u.duration&&(u.currentTime=e)},e.find(r).then((function(e){(u=e).addEventListener("canplay",(function(){m.canPlay=!0}))}),(function(e){m.error=!0,console.warn(e)}));var b=n(y,i.performance);function y(){o&&o(),u&&(h||i.isMuting?u.volume=0:u.volume=void 0!==m.volume?m.volume:1,c&&(u.play(),c=!1),d&&(u.pause(),u.currentTime=0,d=!1),l&&(u.pause(),l=!1),p&&(u.playbackRate=f,p=!1),a&&(u.volume=a,a=void 0),v&&(m.currentTime=u.currentTime,m.duration=u.duration,m.remaining=u.duration-u.currentTime,m.progress=u.currentTime/u.duration,m.paused=u.paused,m.src=u.src,m.currentTime>=m.duration&&g.forEach((function(e){e(m)})),s&&m.currentTime>=m.duration&&(!0!==s&&(s--,m.loop--),m.setCurrentTime(0),m.play())),h||i.isMuting||(m.volume=u.volume),m.audio=u),o=t.$watch((function(){return{volume:m.volume,currentTime:m.currentTime,progress:m.progress,muting:m.muting,loop:m.loop,playbackRate:m.playbackRate}}),(function(e,t){e.currentTime!==t.currentTime&&m.setCurrentTime(e.currentTime),e.progress!==t.progress&&m.setProgress(e.progress),e.volume!==t.volume&&m.setVolume(e.volume),e.playbackRate!==t.playbackRate&&m.setPlaybackRate(e.playbackRate),s=e.loop,e.muting!==t.muting&&m.setMuting(e.muting)}),!0)}t.$watch((function(){return i.performance}),(function(){n.cancel(b),b=n(y,i.performance)}))}}]).service("ngAudio",["NgAudioObject","ngAudioGlobals",function(e,t){this.play=function(t){var n=new e(t);return n.play(),n},this.load=function(t){return new e(t)},this.mute=function(){t.muting=!0},this.unmute=function(){t.muting=!1},this.toggleMute=function(){t.muting=!t.muting},this.setUnlock=function(e){t.unlock=e}}]).filter("trackTime",(function(){return function(e){var t=Math.floor(0|e),n="",r=0,i=0,o=0;return t>3599?(r=Math.floor(t/3600),o=t-(60*(i=Math.floor((t-3600*r)/60))+3600*r),1==r.toString().length&&(r="0"+Math.floor(t/3600).toString()),1==i.toString().length&&(i="0"+Math.floor((t-3600*r)/60).toString()),1==o.toString().length&&(o="0"+(t-(60*i+3600*r)).toString()),n=r+":"+i+":"+o):t>59?(o=t-60*(i=Math.floor(t/60)),1==i.toString().length&&(i="0"+Math.floor(t/60).toString()),1==o.toString().length&&(o="0"+(t-60*i).toString()),n=i+":"+o):(1==(o=t).toString().length&&(o="0"+t.toString()),n=t+"s"),Number.isNaN(n),n}})),
/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.6 - 2016-03-16
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t){var n=t.isDefined,r=t.isUndefined,i=t.isNumber,o=t.isObject,a=t.isArray,s=t.extend,u=t.toJson;t.module("LocalStorageModule",[]).provider("localStorageService",(function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,t){return this.cookie.expiry=e,this.cookie.path=t,this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,t){return this.notify={setItem:e,removeItem:t},this},this.$get=["$rootScope","$window","$document","$parse",function(e,t,c,l){var d,p=this,f=p.prefix,h=p.cookie,v=p.notify,m=p.storageType;c?c[0]&&(c=c[0]):c=document,"."!==f.substr(-1)&&(f=f?f+".":"");var g=function(e){return f+e},b=function(){try{var n=m in t&&null!==t[m],r=g("__"+Math.round(1e7*Math.random()));return n&&((d=t[m]).setItem(r,""),d.removeItem(r)),n}catch(t){return m="cookie",e.$broadcast("LocalStorageModule.notification.error",t.message),!1}}(),y=function(t,n){if(n=r(n)?null:u(n),!b||"cookie"===p.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),v.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:"cookie"}),C(t,n);try{d&&d.setItem(g(t),n),v.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:p.storageType})}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.message),C(t,n)}return!0},w=function(t){if(!b||"cookie"===p.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),x(t);var n=d?d.getItem(g(t)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(e){return n}},$=function(){var t,n;for(t=0;t<arguments.length;t++)if(n=arguments[t],b&&"cookie"!==p.storageType)try{d.removeItem(g(n)),v.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:p.storageType})}catch(t){e.$broadcast("LocalStorageModule.notification.error",t.message),k(n)}else b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),v.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),k(n)},_=function(){try{return t.navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}}(),C=function(t,n,s){if(r(n))return!1;if((a(n)||o(n))&&(n=u(n)),!_)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var l="",d=new Date,p="";if(null===n?(d.setTime(d.getTime()+-864e5),l="; expires="+d.toGMTString(),n=""):i(s)&&0!==s?(d.setTime(d.getTime()+24*s*60*60*1e3),l="; expires="+d.toGMTString()):0!==h.expiry&&(d.setTime(d.getTime()+24*h.expiry*60*60*1e3),l="; expires="+d.toGMTString()),t){var f="; path="+h.path;h.domain&&(p="; domain="+h.domain),c.cookie=g(t)+"="+encodeURIComponent(n)+l+f+p}}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}return!0},x=function(t){if(!_)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var n=c.cookie&&c.cookie.split(";")||[],r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(g(t)+"=")){var o=decodeURIComponent(i.substring(f.length+t.length+1,i.length));try{return JSON.parse(o)}catch(e){return o}}}return null},k=function(e){C(e,null)},S=function(){for(var e=null,t=f.length,n=c.cookie.split(";"),r=0;r<n.length;r++){for(e=n[r];" "===e.charAt(0);)e=e.substring(1,e.length);var i=e.substring(t,e.indexOf("="));k(i)}};return{isSupported:b,getStorageType:function(){return m},set:y,add:y,get:w,keys:function(){if(!b)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var t=f.length,n=[];for(var r in d)if(r.substr(0,t)===f)try{n.push(r.substr(t))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.Description),[]}return n},remove:$,clearAll:function(t){var n=f?new RegExp("^"+f):new RegExp,r=t?new RegExp(t):new RegExp;if(!b||"cookie"===p.storageType)return b||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),S();var i=f.length;for(var o in d)if(n.test(o)&&r.test(o.substr(i)))try{$(o.substr(i))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),S()}return!0},bind:function(e,t,r,i){var a=w(i=i||t);return null===a&&n(r)?a=r:o(a)&&o(r)&&(a=s(a,r)),l(t).assign(e,a),e.$watch(t,(function(e){y(i,e)}),o(e[t]))},deriveKey:g,length:function(){for(var e=0,n=t[m],r=0;r<n.length;r++)0===n.key(r).indexOf(f)&&e++;return e},cookie:{isSupported:_,set:C,add:C,get:x,remove:k,clearAll:S}}}]}))}(window,window.angular),function(e){var t={function:!0,object:!0};function n(e){return e&&e.Object===Object?e:null}var r,i=t[typeof exports]&&exports&&!exports.nodeType?exports:null,o=t[typeof module]&&module&&!module.nodeType?module:null,a=n(i&&o&&"object"==typeof global&&global),s=n(t[typeof self]&&self),u=n(t[typeof window]&&window),c=o&&o.exports===i?i:null,l=n(t[typeof this]&&this),d=a||u!==(l&&l.window)&&u||s||l||Function("return this")(),p={internals:{},config:{Promise:d.Promise},helpers:{}},f=p.helpers.noop=function(){},h=p.helpers.identity=function(e){return e},v=p.helpers.defaultNow=Date.now,m=p.helpers.defaultComparer=function(e,t){return ce(e,t)},g=p.helpers.defaultSubComparer=function(e,t){return e>t?1:e<t?-1:0},b=(p.helpers.defaultKeySerializer=function(e){return e.toString()},p.helpers.defaultError=function(e){throw e}),y=p.helpers.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then},w=p.helpers.isFunction=((r=function(e){return"function"==typeof e||!1})(/x/)&&(r=function(e){return"function"==typeof e&&"[object Function]"==toString.call(e)}),r);function $(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t}var _={e:{}};var C=p.internals.tryCatch=function(e){if(!w(e))throw new TypeError("fn must be a function");return t=e,function(){try{return t.apply(this,arguments)}catch(e){return _.e=e,_}};var t};function x(e){throw e}p.config.longStackSupport=!1;var k,S=C((function(){throw new Error}))();k=!!S.e&&!!S.e.stack;var E,T=O();function D(e,t){if(k&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf("From previous event:")){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\nFrom previous event:\n");e.stack=function(e){for(var t=e.split("\n"),n=[],r=0,i=t.length;r<i;r++){var o=t[r];!A(o)&&(-1===(a=o).indexOf("(module.js:")&&-1===a.indexOf("(node.js:"))&&o&&n.push(o)}var a;return n.join("\n")}(i)}}function A(e){var t=P(e);if(!t)return!1;var n=t[0],r=t[1];return n===E&&r>=T&&r<=Vo}function O(){if(k)try{throw new Error}catch(n){var e=n.stack.split("\n"),t=P(e[0].indexOf("@")>0?e[1]:e[2]);if(!t)return;return E=t[0],t[1]}}function P(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}var M=p.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};M.prototype=Object.create(Error.prototype),M.prototype.name="EmptyError";var R=p.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};R.prototype=Object.create(Error.prototype),R.prototype.name="ObjectDisposedError";var N=p.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};N.prototype=Object.create(Error.prototype),N.prototype.name="ArgumentOutOfRangeError";var j=p.NotSupportedError=function(e){this.message=e||"This operation is not supported",Error.call(this)};j.prototype=Object.create(Error.prototype),j.prototype.name="NotSupportedError";var I=p.NotImplementedError=function(e){this.message=e||"This operation is not implemented",Error.call(this)};I.prototype=Object.create(Error.prototype),I.prototype.name="NotImplementedError";var L=p.helpers.notImplemented=function(){throw new I},U=(p.helpers.notSupported=function(){throw new j},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");d.Set&&"function"==typeof(new d.Set)["@@iterator"]&&(U="@@iterator");var q=p.doneEnumerator={done:!0,value:e},F=p.helpers.isIterable=function(t){return t&&t[U]!==e},J=p.helpers.isArrayLike=function(t){return t&&t.length!==e};p.helpers.iterator=U;var V=p.internals.bindCallback=function(e,t,n){if(void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},z="[object Arguments]",H="[object Array]",W="[object Object]",B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B[z]=B[H]=B["[object ArrayBuffer]"]=B["[object Boolean]"]=B["[object Date]"]=B["[object Error]"]=B["[object Function]"]=B["[object Map]"]=B["[object Number]"]=B[W]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object WeakMap]"]=!1;var G=Object.prototype,Y=G.hasOwnProperty,X=G.toString,K=Math.pow(2,53)-1,Z=Object.keys||function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)e.call(i,o)&&s.push(o);if(t)for(a=0;a<r;a++)e.call(i,n[a])&&s.push(n[a]);return s}}();function Q(t,n,r,i,o,a){var s=Z(t),u=s.length;if(u!==Z(n).length&&!i)return!1;for(var c,l=u;l--;)if(c=s[l],!(i?c in n:Y.call(n,c)))return!1;for(var d=i;++l<u;){var p=t[c=s[l]],f=n[c];if(!(void 0===e?r(p,f,i,o,a):void 0))return!1;d||(d="constructor"===c)}if(!d){var h=t.constructor,v=n.constructor;if(h!==v&&"constructor"in t&&"constructor"in n&&!("function"==typeof h&&h instanceof h&&"function"==typeof v&&v instanceof v))return!1}return!0}var ee=p.internals.isObject=function(e){var t=typeof e;return!!e&&("object"===t||"function"===t)};function te(e){return!!e&&"object"==typeof e}function ne(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=K}var re=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}();var ie=Array.isArray||function(e){return te(e)&&ne(e.length)&&X.call(e)===H};function oe(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ae(t,n,r,i,o,a){var s=-1,u=t.length,c=n.length;if(u!==c&&!(i&&c>u))return!1;for(;++s<u;){var l=t[s],d=n[s];if(void 0!==e)return!1;if(i){if(!oe(n,(function(e){return l===e||r(l,e,i,o,a)})))return!1}else if(l!==d&&!r(l,d,i,o,a))return!1}return!0}function se(e,t,n,r,i,o){var a,s=ie(e),u=ie(t),c=H,l=H;s||((c=X.call(e))===z?c=W:c!==W&&(s=te(a=e)&&ne(a.length)&&!!B[X.call(a)])),u||(l=X.call(t))===z&&(l=W);var d=c===W&&!re(e),p=l===W&&!re(t),f=c===l;if(f&&!s&&!d)return function(e,t,n){switch(n){case"[object Boolean]":case"[object Date]":return+e==+t;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":return e!==+e?t!==+t:e===+t;case"[object RegExp]":case"[object String]":return e===t+""}return!1}(e,t,c);if(!r){var h=d&&Y.call(e,"__wrapped__"),v=p&&Y.call(t,"__wrapped__");if(h||v)return n(h?e.value():e,v?t.value():t,r,i,o)}if(!f)return!1;i||(i=[]),o||(o=[]);for(var m=i.length;m--;)if(i[m]===e)return o[m]===t;i.push(e),o.push(t);var g=(s?ae:Q)(e,t,n,r,i,o);return i.pop(),o.pop(),g}function ue(e,t,n,r,i){return e===t||(null==e||null==t||!ee(e)&&!te(t)?e!=e&&t!=t:se(e,t,ue,n,r,i))}var ce=p.internals.isEqual=function(e,t){return ue(e,t)},le=(Array.prototype.slice,p.internals.inherits=function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}),de=p.internals.addProperties=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);for(var i=0,o=t.length;i<o;i++){var a=t[i];for(var s in a)e[s]=a[s]}},pe=p.internals.addRef=function(e,t){return new Ro((function(n){return new Ee(t.getDisposable(),e.subscribe(n))}))};function fe(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t();return n}function he(e,t){this.id=e,this.value=t}he.prototype.compareTo=function(e){var t=this.value.compareTo(e.value);return 0===t&&(t=this.id-e.id),t};var ve=p.internals.PriorityQueue=function(e){this.items=new Array(e),this.length=0},me=ve.prototype;me.isHigherPriority=function(e,t){return this.items[e].compareTo(this.items[t])<0},me.percolate=function(e){if(!(e>=this.length||e<0)){var t=e-1>>1;if(!(t<0||t===e)&&this.isHigherPriority(e,t)){var n=this.items[e];this.items[e]=this.items[t],this.items[t]=n,this.percolate(t)}}},me.heapify=function(e){if(+e||(e=0),!(e>=this.length||e<0)){var t=2*e+1,n=2*e+2,r=e;if(t<this.length&&this.isHigherPriority(t,r)&&(r=t),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==e){var i=this.items[e];this.items[e]=this.items[r],this.items[r]=i,this.heapify(r)}}},me.peek=function(){return this.items[0].value},me.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=e,this.heapify()},me.dequeue=function(){var e=this.peek();return this.removeAt(0),e},me.enqueue=function(e){var t=this.length++;this.items[t]=new he(ve.count++,e),this.percolate(t)},me.remove=function(e){for(var t=0;t<this.length;t++)if(this.items[t].value===e)return this.removeAt(t),!0;return!1},ve.count=0;var ge=p.CompositeDisposable=function(){var e,t,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];this.disposables=n,this.isDisposed=!1,this.length=n.length},be=ge.prototype;be.add=function(e){this.isDisposed?e.dispose():(this.disposables.push(e),this.length++)},be.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),this.length--,e.dispose())}return t},be.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;n<e;n++)t[n].dispose()}};var ye=p.Disposable=function(e){this.isDisposed=!1,this.action=e||f};ye.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var we=ye.create=function(e){return new ye(e)},$e=ye.empty={dispose:f},_e=ye.isDisposable=function(e){return e&&w(e.dispose)},Ce=ye.checkDisposed=function(e){if(e.isDisposed)throw new R},xe=ye._fixup=function(e){return _e(e)?e:$e},ke=p.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};ke.prototype.getDisposable=function(){return this.current},ke.prototype.setDisposable=function(e){if(this.current)throw new Error("Disposable has already been assigned");var t=this.isDisposed;!t&&(this.current=e),t&&e&&e.dispose()},ke.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}};var Se=p.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Se.prototype.getDisposable=function(){return this.current},Se.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e}n&&n.dispose(),t&&e&&e.dispose()},Se.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var Ee=p.BinaryDisposable=function(e,t){this._first=e,this._second=t,this.isDisposed=!1};Ee.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this._first;this._first=null,e&&e.dispose();var t=this._second;this._second=null,t&&t.dispose()}};var Te=p.NAryDisposable=function(e){this._disposables=e,this.isDisposed=!1};Te.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=0,t=this._disposables.length;e<t;e++)this._disposables[e].dispose();this._disposables.length=0}};var De=p.RefCountDisposable=function(){function e(e){this.disposable=e,this.disposable.count++,this.isInnerDisposed=!1}function t(e){this.underlyingDisposable=e,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return e.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},t.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},t.prototype.getDisposable=function(){return this.isDisposed?$e:new e(this)},t}();function Ae(e,t){this.scheduler=e,this.disposable=t,this.isDisposed=!1}function Oe(e,t){t.isDisposed||(t.isDisposed=!0,t.disposable.dispose())}Ae.prototype.dispose=function(){this.scheduler.schedule(this,Oe)};var Pe=p.internals.ScheduledItem=function(e,t,n,r,i){this.scheduler=e,this.state=t,this.action=n,this.dueTime=r,this.comparer=i||g,this.disposable=new ke};Pe.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Pe.prototype.compareTo=function(e){return this.comparer(this.dueTime,e.dueTime)},Pe.prototype.isCancelled=function(){return this.disposable.isDisposed},Pe.prototype.invokeCore=function(){return xe(this.action(this.scheduler,this.state))};var Me=p.Scheduler=function(){function e(){}e.isScheduler=function(t){return t instanceof e};var t=e.prototype;return t.schedule=function(e,t){throw new I},t.scheduleFuture=function(t,n,r){var i=n;return i instanceof Date&&(i-=this.now()),0===(i=e.normalize(i))?this.schedule(t,r):this._scheduleFuture(t,i,r)},t._scheduleFuture=function(e,t,n){throw new I},e.now=v,e.prototype.now=v,e.normalize=function(e){return e<0&&(e=0),e},e}(),Re=Me.normalize,Ne=Me.isScheduler;!function(e){function t(e,t){var n=t[0],r=t[1],i=new ge;return r(n,(function t(n){var o=!1,a=!1,s=e.schedule(n,u);a||(i.add(s),o=!0);function u(e,n){return o?i.remove(s):a=!0,r(n,t),$e}})),i}function n(e,t){var n=t[0],r=t[1],i=new ge;return r(n,(function t(n,o){var a=!1,s=!1,u=e.scheduleFuture(n,o,c);s||(i.add(u),a=!0);function c(e,n){return a?i.remove(u):s=!0,r(n,t),$e}})),i}e.scheduleRecursive=function(e,n){return this.schedule([e,n],t)},e.scheduleRecursiveFuture=function(e,t,r){return this.scheduleFuture([e,r],t,n)}}(Me.prototype),Me.prototype.schedulePeriodic=function(e,t,n){if(void 0===d.setInterval)throw new j;t=Re(t);var r=e,i=d.setInterval((function(){r=n(r)}),t);return we((function(){d.clearInterval(i)}))},function(e){e.catchError=e.catch=function(e){return new Ge(this,e)}}(Me.prototype);var je,Ie,Le=p.internals.SchedulePeriodicRecursive=function(){function e(e,t,n,r){this._scheduler=e,this._state=t,this._period=n,this._action=r}return e.prototype.start=function(){var e=new ke;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,function(e){return function(t,n){n(0,e._period);var r=C(e._action)(e._state);r===_&&(e._cancel.dispose(),x(r.e)),e._state=r}}(this))),e},e}(),Ue=function(e){function t(){e.call(this)}return le(t,e),t.prototype.schedule=function(e,t){return xe(t(this,e))},t}(Me),qe=Me.immediate=new Ue,Fe=function(e){var t;function n(){for(;t.length>0;){var e=t.dequeue();!e.isCancelled()&&e.invoke()}}function r(){e.call(this)}return le(r,e),r.prototype.schedule=function(e,r){var i=new Pe(this,e,r,this.now());if(t)t.enqueue(i);else{(t=new ve(4)).enqueue(i);var o=C(n)();t=null,o===_&&x(o.e)}return i.disposable},r.prototype.scheduleRequired=function(){return!t},r}(Me),Je=Me.currentThread=new Fe,Ve=function(){var e,t=f;if(d.setTimeout)e=d.setTimeout,t=d.clearTimeout;else{if(!d.WScript)throw new j;e=function(e,t){d.WScript.Sleep(t),e()}}return{setTimeout:e,clearTimeout:t}}(),ze=Ve.setTimeout,He=Ve.clearTimeout;!function(){var e=1,t={},n=!1;function r(e){if(n)ze((function(){r(e)}),0);else{var i=t[e];if(i){n=!0;var o=C(i)();Ie(e),n=!1,o===_&&x(o.e)}}}Ie=function(e){delete t[e]};var i=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),o="function"==typeof(o=a&&c&&a.setImmediate)&&!i.test(o)&&o;if(w(o))je=function(n){var i=e++;return t[i]=n,o((function(){r(i)})),i};else if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))je=function(n){var i=e++;return t[i]=n,process.nextTick((function(){r(i)})),i};else if(function(){if(!d.postMessage||d.importScripts)return!1;var e=!1,t=d.onmessage;return d.onmessage=function(){e=!0},d.postMessage("","*"),d.onmessage=t,e}()){var s="ms.rx.schedule"+Math.random();d.addEventListener("message",(function(e){"string"==typeof e.data&&e.data.substring(0,s.length)===s&&r(e.data.substring(s.length))}),!1),je=function(n){var r=e++;return t[r]=n,d.postMessage(s+r,"*"),r}}else if(d.MessageChannel){var u=new d.MessageChannel;u.port1.onmessage=function(e){r(e.data)},je=function(n){var r=e++;return t[r]=n,u.port2.postMessage(r),r}}else je="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(n){var i=d.document.createElement("script"),o=e++;return t[o]=n,i.onreadystatechange=function(){r(o),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},d.document.documentElement.appendChild(i),o}:function(n){var i=e++;return t[i]=n,ze((function(){r(i)}),0),i}}();var We=function(e){function t(){e.call(this)}function n(e,t,n,r){return function(){e.setDisposable(ye._fixup(t(n,r)))}}function r(e){this._id=e,this.isDisposed=!1}function i(e){this._id=e,this.isDisposed=!1}return le(t,e),r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Ie(this._id))},i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,He(this._id))},t.prototype.schedule=function(e,t){var i=new ke,o=je(n(i,t,this,e));return new Ee(i,new r(o))},t.prototype._scheduleFuture=function(e,t,r){if(0===t)return this.schedule(e,r);var o=new ke,a=ze(n(o,r,this,e),t);return new Ee(o,new i(a))},t.prototype.scheduleLongRunning=function(e,t){var n=we(f);return je(function(e,t,n){return function(){t(e,n)}}(e,t,n)),n},t}(Me),Be=Me.default=Me.async=new We,Ge=function(e){function t(t,n){this._scheduler=t,this._handler=n,this._recursiveOriginal=null,this._recursiveWrapper=null,e.call(this)}return le(t,e),t.prototype.schedule=function(e,t){return this._scheduler.schedule(e,this._wrap(t))},t.prototype._scheduleFuture=function(e,t,n){return this._scheduler.schedule(e,t,this._wrap(n))},t.prototype.now=function(){return this._scheduler.now()},t.prototype._clone=function(e){return new t(e,this._handler)},t.prototype._wrap=function(e){var t=this;return function(n,r){var i=C(e)(t._getRecursiveWrapper(n),r);return i===_?(t._handler(i.e)||x(i.e),$e):xe(i)}},t.prototype._getRecursiveWrapper=function(e){if(this._recursiveOriginal!==e){this._recursiveOriginal=e;var t=this._clone(e);t._recursiveOriginal=e,t._recursiveWrapper=t,this._recursiveWrapper=t}return this._recursiveWrapper},t.prototype.schedulePeriodic=function(e,t,n){var r=this,i=!1,o=new ke;return o.setDisposable(this._scheduler.schedulePeriodic(e,t,(function(e){if(i)return null;var t=C(n)(e);return t===_?(i=!0,r._handler(t.e)||x(t.e),o.dispose(),null):t}))),o},t}(Me),Ye=p.Notification=function(){function e(){}return e.prototype._accept=function(e,t,n){throw new I},e.prototype._acceptObserver=function(e,t,n){throw new I},e.prototype.accept=function(e,t,n){return e&&"object"==typeof e?this._acceptObserver(e):this._accept(e,t,n)},e.prototype.toObservable=function(e){var t=this;return Ne(e)||(e=qe),new Ro((function(n){return e.schedule(t,(function(e,t){t._acceptObserver(n),"N"===t.kind&&n.onCompleted()}))}))},e}(),Xe=function(e){function t(e){this.value=e,this.kind="N"}return le(t,e),t.prototype._accept=function(e){return e(this.value)},t.prototype._acceptObserver=function(e){return e.onNext(this.value)},t.prototype.toString=function(){return"OnNext("+this.value+")"},t}(Ye),Ke=function(e){function t(e){this.error=e,this.kind="E"}return le(t,e),t.prototype._accept=function(e,t){return t(this.error)},t.prototype._acceptObserver=function(e){return e.onError(this.error)},t.prototype.toString=function(){return"OnError("+this.error+")"},t}(Ye),Ze=function(e){function t(){this.kind="C"}return le(t,e),t.prototype._accept=function(e,t,n){return n()},t.prototype._acceptObserver=function(e){return e.onCompleted()},t.prototype.toString=function(){return"OnCompleted()"},t}(Ye),Qe=Ye.createOnNext=function(e){return new Xe(e)},et=Ye.createOnError=function(e){return new Ke(e)},tt=Ye.createOnCompleted=function(){return new Ze},nt=p.Observer=function(){};nt.prototype.toNotifier=function(){var e=this;return function(t){return t.accept(e)}},nt.prototype.asObserver=function(){var e=this;return new at((function(t){e.onNext(t)}),(function(t){e.onError(t)}),(function(){e.onCompleted()}))},nt.prototype.checked=function(){return new st(this)};var rt=nt.create=function(e,t,n){return e||(e=f),t||(t=b),n||(n=f),new at(e,t,n)};nt.fromNotifier=function(e,t){var n=V(e,t,1);return new at((function(e){return n(Qe(e))}),(function(e){return n(et(e))}),(function(){return n(tt())}))},nt.prototype.notifyOn=function(e){return new ct(e,this)},nt.prototype.makeSafe=function(e){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,e)};var it,ot=p.internals.AbstractObserver=function(e){function t(){this.isStopped=!1}return le(t,e),t.prototype.next=L,t.prototype.error=L,t.prototype.completed=L,t.prototype.onNext=function(e){!this.isStopped&&this.next(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.error(e))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.error(e),!0)},t}(nt),at=p.AnonymousObserver=function(e){function t(t,n,r){e.call(this),this._onNext=t,this._onError=n,this._onCompleted=r}return le(t,e),t.prototype.next=function(e){this._onNext(e)},t.prototype.error=function(e){this._onError(e)},t.prototype.completed=function(){this._onCompleted()},t}(ot),st=function(e){function t(t){e.call(this),this._observer=t,this._state=0}le(t,e);var n=t.prototype;return n.onNext=function(e){this.checkAccess();var t=C(this._observer.onNext).call(this._observer,e);this._state=0,t===_&&x(t.e)},n.onError=function(e){this.checkAccess();var t=C(this._observer.onError).call(this._observer,e);this._state=2,t===_&&x(t.e)},n.onCompleted=function(){this.checkAccess();var e=C(this._observer.onCompleted).call(this._observer);this._state=2,e===_&&x(e.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},t}(nt),ut=p.internals.ScheduledObserver=function(e){function t(t,n){e.call(this),this.scheduler=t,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Se}function n(e,t){var n;if(e.queue.length>0){n=e.queue.shift();var r=C(n)();if(r===_)return e.queue=[],e.hasFaulted=!0,x(r.e);t(e)}else e.isAcquired=!1}return le(t,e),t.prototype.next=function(e){this.queue.push(function(e,t){return function(){e.onNext(t)}}(this.observer,e))},t.prototype.error=function(e){this.queue.push(function(e,t){return function(){e.onError(t)}}(this.observer,e))},t.prototype.completed=function(){var e;this.queue.push((e=this.observer,function(){e.onCompleted()}))},t.prototype.ensureActive=function(){var e=!1;!this.hasFaulted&&this.queue.length>0&&(e=!this.isAcquired,this.isAcquired=!0),e&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,n))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposable.dispose()},t}(ot),ct=function(e){function t(t,n,r){e.call(this,t,n),this._cancel=r}return le(t,e),t.prototype.next=function(t){e.prototype.next.call(this,t),this.ensureActive()},t.prototype.error=function(t){e.prototype.error.call(this,t),this.ensureActive()},t.prototype.completed=function(){e.prototype.completed.call(this),this.ensureActive()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},t}(ut),lt=p.Observable=function(){function e(){if(p.config.longStackSupport&&k){var e=this._subscribe,t=C(x)(new Error).e;this.stack=t.stack.substring(t.stack.indexOf("\n")+1),this._subscribe=function(e,t){return function(n){var r=n.onError;return n.onError=function(t){D(t,e),r.call(n,t)},t.call(e,n)}}(this,e)}}return it=e.prototype,e.isObservable=function(e){return e&&w(e.subscribe)},it.subscribe=it.forEach=function(e,t,n){return this._subscribe("object"==typeof e?e:rt(e,t,n))},it.subscribeOnNext=function(e,t){return this._subscribe(rt(void 0!==t?function(n){e.call(t,n)}:e))},it.subscribeOnError=function(e,t){return this._subscribe(rt(null,void 0!==t?function(n){e.call(t,n)}:e))},it.subscribeOnCompleted=function(e,t){return this._subscribe(rt(null,null,void 0!==t?function(){e.call(t)}:e))},e}(),dt=p.ObservableBase=function(e){function t(e,t){var n,r=t[0],i=t[1],o=C(i.subscribeCore).call(i,r);o!==_||r.fail(_.e)||x(_.e),r.setDisposable((n=o)&&w(n.dispose)?n:w(n)?we(n):$e)}function n(){e.call(this)}return le(n,e),n.prototype._subscribe=function(e){var n=new No(e),r=[n,this];return Je.scheduleRequired()?Je.schedule(r,t):t(0,r),n},n.prototype.subscribeCore=L,n}(lt),pt=p.FlatMapObservable=function(e){function t(t,n,r,i){this.resultSelector=w(r)?r:null,this.selector=V(w(n)?n:function(){return n},i,3),this.source=t,e.call(this)}function n(e,t,n,r){this.i=0,this.selector=t,this.resultSelector=n,this.source=r,this.o=e,ot.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.selector,this.resultSelector,this))},le(n,ot),n.prototype._wrapResult=function(e,t,n){return this.resultSelector?e.map((function(e,r){return this.resultSelector(t,e,n,r)}),this):e},n.prototype.next=function(e){var t=this.i++,n=C(this.selector)(e,t,this.source);if(n===_)return this.o.onError(n.e);y(n)&&(n=xt(n)),(J(n)||F(n))&&(n=lt.from(n)),this.o.onNext(this._wrapResult(n,e,t))},n.prototype.error=function(e){this.o.onError(e)},n.prototype.completed=function(){this.o.onCompleted()},t}(dt),ft=p.internals.Enumerable=function(){};function ht(e){this._s=e,this.isDisposed=!1}ht.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var vt=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t){if(!e.isDisposed){var n=C(e.e.next).call(e.e);if(n===_)return e.o.onError(n.e);if(n.done)return e.o.onCompleted();var i=n.value;y(i)&&(i=xt(i));var o=new ke;e.subscription.setDisposable(o),o.setDisposable(i.subscribe(new r(e,t)))}}function r(e,t){this._state=e,this._recurse=t,ot.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new Se,r={isDisposed:!1,o:e,subscription:t,e:this.sources[U]()},i=Je.scheduleRecursive(r,n);return new Te([t,i,new ht(r)])},le(r,ot),r.prototype.next=function(e){this._state.o.onNext(e)},r.prototype.error=function(e){this._state.o.onError(e)},r.prototype.completed=function(){this._recurse(this._state)},t}(dt);ft.prototype.concat=function(){return new vt(this)};var mt=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t){if(!e.isDisposed){var n=C(e.e.next).call(e.e);if(n===_)return e.o.onError(n.e);if(n.done)return null!==e.lastError?e.o.onError(e.lastError):e.o.onCompleted();var i=n.value;y(i)&&(i=xt(i));var o=new ke;e.subscription.setDisposable(o),o.setDisposable(i.subscribe(new r(e,t)))}}function r(e,t){this._state=e,this._recurse=t,ot.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new Se,r={isDisposed:!1,e:this.sources[U](),subscription:t,lastError:null,o:e},i=Je.scheduleRecursive(r,n);return new Te([t,i,new ht(r)])},le(r,ot),r.prototype.next=function(e){this._state.o.onNext(e)},r.prototype.error=function(e){this._state.lastError=e,this._recurse(this._state)},r.prototype.completed=function(){this._state.o.onCompleted()},t}(dt);ft.prototype.catchError=function(){return new mt(this)};var gt=function(e){function t(e,t){this.v=e,this.c=null==t?-1:t}function n(e){this.v=e.v,this.l=e.c}return le(t,e),t.prototype[U]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?q:(this.l>0&&this.l--,{done:!1,value:this.v})},t}(ft),bt=ft.repeat=function(e,t){return new gt(e,t)},yt=function(e){function t(e,t,n){this.s=e,this.fn=t?V(t,n,3):null}function n(e){this.i=-1,this.s=e.s,this.l=this.s.length,this.fn=e.fn}return le(t,e),t.prototype[U]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:q},t}(ft),wt=ft.of=function(e,t,n){return new yt(e,t,n)},$t=function(e){function t(t,n){this.source=t,this._s=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new ct(this._s,e))},t}(dt);it.observeOn=function(e){return new $t(this,e)};var _t=function(e){function t(t,n){this.source=t,this._s=n,e.call(this)}function n(e,t){var n=t[0],r=t[1],i=t[2];r.setDisposable(new Ae(e,n.subscribe(i)))}return le(t,e),t.prototype.subscribeCore=function(e){var t=new ke,r=new Se;return r.setDisposable(t),t.setDisposable(this._s.schedule([this.source,r,e],n)),r},t}(dt);it.subscribeOn=function(e){return new _t(this,e)};var Ct=function(e){function t(t,n){this._p=t,this._s=n,e.call(this)}function n(e,t){var n=t[0],r=t[1];n.onNext(r),n.onCompleted()}function r(e,t){var n=t[0],r=t[1];n.onError(r)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new ke,i=this,o=this._p;return w(o)&&(o=C(o)())===_?(e.onError(o.e),t):(o.then((function(r){t.setDisposable(i._s.schedule([e,r],n))}),(function(n){t.setDisposable(i._s.schedule([e,n],r))})),t)},t}(dt),xt=lt.fromPromise=function(e,t){return t||(t=Be),new Ct(e,t)};it.toPromise=function(e){if(e||(e=p.config.Promise),!e)throw new j("Promise type not provided nor in Rx.config.Promise");var t=this;return new e((function(e,n){var r;t.subscribe((function(e){r=e}),n,(function(){e(r)}))}))};var kt=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.a=[],ot.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},le(n,ot),n.prototype.next=function(e){this.a.push(e)},n.prototype.error=function(e){this.o.onError(e)},n.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},t}(dt);it.toArray=function(){return new kt(this)},lt.create=function(e,t){return new Ro(e,t)};var St=function(e){function t(t){this._f=t,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=C(this._f)();return t===_?Xt(t.e).subscribe(e):(y(t)&&(t=xt(t)),t.subscribe(e))},t}(dt),Et=lt.defer=function(e){return new St(e)},Tt=function(e){function t(t){this.scheduler=t,e.call(this)}function n(e,t){this.observer=e,this.scheduler=t}function r(e,t){return t.onCompleted(),$e}return le(t,e),t.prototype.subscribeCore=function(e){return new n(e,this.scheduler).run()},n.prototype.run=function(){var e=this.observer;return this.scheduler===qe?r(0,e):this.scheduler.schedule(e,r)},t}(dt),Dt=new Tt(qe),At=lt.empty=function(e){return Ne(e)||(e=qe),e===qe?Dt:new Tt(e)},Ot=function(t){function n(e,n,r){this._iterable=e,this._fn=n,this._scheduler=r,t.call(this)}return le(n,t),n.prototype.subscribeCore=function(t){var n=function(t){var n=t[U];if(!n&&"string"==typeof t)return new Mt(t)[U]();if(!n&&t.length!==e)return new Nt(t)[U]();if(!n)throw new TypeError("Object is not iterable");return t[U]()}(Object(this._iterable));return this._scheduler.scheduleRecursive(0,function(e,t,n){return function(r,i){var o=C(t.next).call(t);if(o===_)return e.onError(o.e);if(o.done)return e.onCompleted();var a=o.value;if(w(n)&&(a=C(n)(a,r))===_)return e.onError(a.e);e.onNext(a),i(r+1)}}(t,n,this._fn))},n}(dt),Pt=Math.pow(2,53)-1;function Mt(e){this._s=e}function Rt(e){this._s=e,this._l=e.length,this._i=0}function Nt(e){this._a=e}function jt(e){this._a=e,this._l=function(e){var t=+e.length;if(isNaN(t))return 0;if(0===t||(n=t,"number"!=typeof n||!d.isFinite(n)))return t;var n;if((t=function(e){var t=+e;if(0===t)return t;if(isNaN(t))return t;return t<0?-1:1}(t)*Math.floor(Math.abs(t)))<=0)return 0;if(t>Pt)return Pt;return t}(e),this._i=0}Mt.prototype[U]=function(){return new Rt(this._s)},Rt.prototype[U]=function(){return this},Rt.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:q},Nt.prototype[U]=function(){return new jt(this._a)},jt.prototype[U]=function(){return this},jt.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:q};var It=lt.from=function(e,t,n,r){if(null==e)throw new Error("iterable cannot be null.");if(t&&!w(t))throw new Error("mapFn when provided must be a function");if(t)var i=V(t,n,2);return Ne(r)||(r=Je),new Ot(e,i,r)},Lt=function(e){function t(t,n){this._args=t,this._scheduler=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this._scheduler.scheduleRecursive(0,function(e,t){var n=t.length;return function(r,i){r<n?(e.onNext(t[r]),i(r+1)):e.onCompleted()}}(e,this._args))},t}(dt),Ut=lt.fromArray=function(e,t){return Ne(t)||(t=Je),new Lt(e,t)},qt=function(e){function t(t,n,r,i,o){this._initialState=t,this._cndFn=n,this._itrFn=r,this._resFn=i,this._s=o,e.call(this)}function n(e,t){if(e.first)e.first=!1;else if(e.newState=C(e.self._itrFn)(e.newState),e.newState===_)return e.o.onError(e.newState.e);var n=C(e.self._cndFn)(e.newState);if(n===_)return e.o.onError(n.e);if(n){var r=C(e.self._resFn)(e.newState);if(r===_)return e.o.onError(r.e);e.o.onNext(r),t(e)}else e.o.onCompleted()}return le(t,e),t.prototype.subscribeCore=function(e){var t={o:e,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(t,n)},t}(dt);function Ft(e,t){return Ne(e)||(e=Je),new Lt(t,e)}lt.generate=function(e,t,n,r,i){return Ne(i)||(i=Je),new qt(e,t,n,r,i)},lt.of=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Lt(t,Je)},lt.ofWithScheduler=function(e){for(var t=arguments.length,n=new Array(t-1),r=1;r<t;r++)n[r-1]=arguments[r];return new Lt(n,e)},lt.ofArrayChanges=function(e){if(!Array.isArray(e))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Ro((function(t){function n(e){for(var n=0,r=e.length;n<r;n++)t.onNext(e[n])}return Array.observe(e,n),function(){Array.unobserve(e,n)}}))},lt.ofObjectChanges=function(e){if(null==e)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Ro((function(t){function n(e){for(var n=0,r=e.length;n<r;n++)t.onNext(e[n])}return Object.observe(e,n),function(){Object.unobserve(e,n)}}))};var Jt=new(function(e){function t(){e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return $e},t}(dt)),Vt=lt.never=function(){return Jt},zt=function(e){function t(t,n){this._o=t,this._keys=Object.keys(t),this._scheduler=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this._scheduler.scheduleRecursive(0,function(e,t,n){return function(r,i){if(r<n.length){var o=n[r];e.onNext([o,t[o]]),i(r+1)}else e.onCompleted()}}(e,this._o,this._keys))},t}(dt);lt.pairs=function(e,t){return t||(t=Je),new zt(e,t)};var Ht=function(e){function t(t,n,r){this.start=t,this.rangeCount=n,this.scheduler=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.scheduler.scheduleRecursive(0,function(e,t,n){return function(r,i){r<t?(n.onNext(e+r),i(r+1)):n.onCompleted()}}(this.start,this.rangeCount,e))},t}(dt);lt.range=function(e,t,n){return Ne(n)||(n=Je),new Ht(e,t,n)};var Wt=function(e){function t(t,n,r){this.value=t,this.repeatCount=null==n?-1:n,this.scheduler=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return new Bt(e,this).run()},t}(dt);function Bt(e,t){this.observer=e,this.parent=t}Bt.prototype.run=function(){var e=this.observer,t=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,(function(n,r){if((-1===n||n>0)&&(e.onNext(t),n>0&&n--),0===n)return e.onCompleted();r(n)}))},lt.repeat=function(e,t,n){return Ne(n)||(n=Je),new Wt(e,t,n)};var Gt=function(e){function t(t,n){this._value=t,this._scheduler=n,e.call(this)}function n(e,t){var n=t[0],r=t[1];return r.onNext(n),r.onCompleted(),$e}return le(t,e),t.prototype.subscribeCore=function(e){var t=[this._value,e];return this._scheduler===qe?n(null,t):this._scheduler.schedule(t,n)},t}(dt),Yt=(lt.return=lt.just=function(e,t){return Ne(t)||(t=qe),new Gt(e,t)},function(e){function t(t,n){this._error=t,this._scheduler=n,e.call(this)}function n(e,t){var n=t[0];return t[1].onError(n),$e}return le(t,e),t.prototype.subscribeCore=function(e){var t=[this._error,e];return this._scheduler===qe?n(null,t):this._scheduler.schedule(t,n)},t}(dt)),Xt=lt.throw=function(e,t){return Ne(t)||(t=qe),new Yt(e,t)},Kt=function(e){function t(t,n){this._resFn=t,this._obsFn=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=$e,n=C(this._resFn)();if(n===_)return new Ee(Xt(n.e).subscribe(e),t);n&&(t=n);var r=C(this._obsFn)(n);return new Ee(r===_?Xt(r.e).subscribe(e):r.subscribe(e),t)},t}(dt);function Zt(e,t){return e.amb(t)}lt.using=function(e,t){return new Kt(e,t)},it.amb=function(e){var t=this;return new Ro((function(n){var r,i=new ke,o=new ke;function a(){r||(r="L",o.dispose())}function s(){r||(r="R",i.dispose())}y(e)&&(e=xt(e));var u=rt((function(e){a(),"L"===r&&n.onNext(e)}),(function(e){a(),"L"===r&&n.onError(e)}),(function(){a(),"L"===r&&n.onCompleted()})),c=rt((function(e){s(),"R"===r&&n.onNext(e)}),(function(e){s(),"R"===r&&n.onError(e)}),(function(){s(),"R"===r&&n.onCompleted()}));return i.setDisposable(t.subscribe(u)),o.setDisposable(e.subscribe(c)),new Ee(i,o)}))},lt.amb=function(){var e,t=Vt();if(Array.isArray(arguments[0]))e=arguments[0];else{var n=arguments.length;e=new Array(e);for(var r=0;r<n;r++)e[r]=arguments[r]}for(r=0,n=e.length;r<n;r++)t=Zt(t,e[r]);return t};var Qt=function(e){function t(t,n){this.source=t,this._fn=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new ke,n=new Se;return n.setDisposable(t),t.setDisposable(this.source.subscribe(new en(e,n,this._fn))),n},t}(dt),en=function(e){function t(t,n,r){this._o=t,this._s=n,this._fn=r,e.call(this)}return le(t,e),t.prototype.next=function(e){this._o.onNext(e)},t.prototype.completed=function(){return this._o.onCompleted()},t.prototype.error=function(e){var t=C(this._fn)(e);if(t===_)return this._o.onError(t.e);y(t)&&(t=xt(t));var n=new ke;this._s.setDisposable(n),n.setDisposable(t.subscribe(this._o))},t}(ot);it.catch=function(e){return w(e)?new Qt(this,e):tn([this,e])};var tn=lt.catch=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;n<t;n++)e[n]=arguments[n]}return wt(e).catchError()};function nn(){return!1}function rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}it.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),sn.apply(this,t)};var on=function(e){function t(t,n){this._params=t,this._cb=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){for(var t=this._params.length,n=new Array(t),r={hasValue:fe(t,nn),hasValueAll:!1,isDone:fe(t,nn),values:new Array(t)},i=0;i<t;i++){var o=this._params[i],a=new ke;n[i]=a,y(o)&&(o=xt(o)),a.setDisposable(o.subscribe(new an(e,i,this._cb,r)))}return new Te(n)},t}(dt),an=function(e){function t(t,n,r,i){this._o=t,this._i=n,this._cb=r,this._state=i,e.call(this)}return le(t,e),t.prototype.next=function(e){if(this._state.values[this._i]=e,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(h))){var t=C(this._cb).apply(null,this._state.values);if(t===_)return this._o.onError(t.e);this._o.onNext(t)}else this._state.isDone.filter(function(e){return function(t,n){return n!==e}}(this._i)).every(h)&&this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(h)&&this._o.onCompleted()},t}(ot),sn=lt.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=w(t[e-1])?t.pop():rn;return Array.isArray(t[0])&&(t=t[0]),new on(t,r)};it.concat=function(){for(var e=[],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e.unshift(this),ln.apply(null,e)};var un=function(e){function t(t,n){this._s=t,this._fn=n,e.call(this)}return le(t,e),t.prototype.next=function(e){this._s.o.onNext(e)},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.i++,this._fn(this._s)},t}(ot),cn=function(e){function t(t){this._sources=t,e.call(this)}function n(e,t){if(!e.disposable.isDisposed){if(e.i===e.sources.length)return e.o.onCompleted();var n=e.sources[e.i];y(n)&&(n=xt(n));var r=new ke;e.subscription.setDisposable(r),r.setDisposable(n.subscribe(new un(e,t)))}}return le(t,e),t.prototype.subscribeCore=function(e){var t=new Se,r=we(f),i={o:e,i:0,subscription:t,disposable:r,sources:this._sources},o=qe.scheduleRecursive(i,n);return new Te([t,r,o])},t}(dt),ln=lt.concat=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(arguments.length);for(var t=0,n=arguments.length;t<n;t++)e[t]=arguments[t]}return new cn(e)};it.concatAll=function(){return this.merge(1)};var dn=function(e){function t(t,n){this.source=t,this.maxConcurrent=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new ge;return t.add(this.source.subscribe(new pn(e,this.maxConcurrent,t))),t},t}(dt),pn=function(e){function t(t,n,r){this.o=t,this.max=n,this.g=r,this.done=!1,this.q=[],this.activeCount=0,e.call(this)}function n(t,n){this.parent=t,this.sad=n,e.call(this)}return le(t,e),t.prototype.handleSubscribe=function(e){var t=new ke;this.g.add(t),y(e)&&(e=xt(e)),t.setDisposable(e.subscribe(new n(this,t)))},t.prototype.next=function(e){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(e)):this.q.push(e)},t.prototype.error=function(e){this.o.onError(e)},t.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},le(n,e),n.prototype.next=function(e){this.parent.o.onNext(e)},n.prototype.error=function(e){this.parent.o.onError(e)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},t}(ot);it.merge=function(e){return"number"!=typeof e?fn(this,e):new dn(this,e)};var fn=lt.merge=function(){var e,t,n=[],r=arguments.length;if(arguments[0])if(Ne(arguments[0]))for(e=arguments[0],t=1;t<r;t++)n.push(arguments[t]);else for(e=qe,t=0;t<r;t++)n.push(arguments[t]);else for(e=qe,t=1;t<r;t++)n.push(arguments[t]);return Array.isArray(n[0])&&(n=n[0]),Ft(e,n).mergeAll()},hn=function(e){function t(t){this.source=t,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new ge,n=new ke;return t.add(n),n.setDisposable(this.source.subscribe(new vn(e,t))),t},t}(dt),vn=function(e){function t(t,n){this.o=t,this.g=n,this.done=!1,e.call(this)}function n(t,n){this.parent=t,this.sad=n,e.call(this)}return le(t,e),t.prototype.next=function(e){var t=new ke;this.g.add(t),y(e)&&(e=xt(e)),t.setDisposable(e.subscribe(new n(this,t)))},t.prototype.error=function(e){this.o.onError(e)},t.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},le(n,e),n.prototype.next=function(e){this.parent.o.onNext(e)},n.prototype.error=function(e){this.parent.o.onError(e)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},t}(ot);it.mergeAll=function(){return new hn(this)};var mn=p.CompositeError=function(e){this.innerErrors=e,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};mn.prototype=Object.create(Error.prototype),mn.prototype.name="CompositeError";var gn=function(e){function t(t){this.source=t,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new ge,n=new ke,r={isStopped:!1,errors:[],o:e};return t.add(n),n.setDisposable(this.source.subscribe(new bn(t,r))),t},t}(dt),bn=function(e){function t(t,n){this._group=t,this._state=n,e.call(this)}function n(e,t){0===t.length?e.onCompleted():1===t.length?e.onError(t[0]):e.onError(new mn(t))}function r(t,n,r){this._inner=t,this._group=n,this._state=r,e.call(this)}return le(t,e),t.prototype.next=function(e){var t=new ke;this._group.add(t),y(e)&&(e=xt(e)),t.setDisposable(e.subscribe(new r(t,this._group,this._state)))},t.prototype.error=function(e){this._state.errors.push(e),this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},t.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},le(r,e),r.prototype.next=function(e){this._state.o.onNext(e)},r.prototype.error=function(e){this._state.errors.push(e),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},r.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},t}(ot);lt.mergeDelayError=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;n<t;n++)e[n]=arguments[n]}var r=Ft(null,e);return new gn(r)},it.onErrorResumeNext=function(e){if(!e)throw new Error("Second observable is required");return $n([this,e])};var yn=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t){if(e.pos<e.sources.length){var n=e.sources[e.pos++];y(n)&&(n=xt(n));var r=new ke;e.subscription.setDisposable(r),r.setDisposable(n.subscribe(new wn(e,t)))}else e.o.onCompleted()}return le(t,e),t.prototype.subscribeCore=function(e){var t=new Se,r={pos:0,subscription:t,o:e,sources:this.sources},i=qe.scheduleRecursive(r,n);return new Ee(t,i)},t}(dt),wn=function(e){function t(t,n){this._state=t,this._recurse=n,e.call(this)}return le(t,e),t.prototype.next=function(e){this._state.o.onNext(e)},t.prototype.error=function(){this._recurse(this._state)},t.prototype.completed=function(){this._recurse(this._state)},t}(ot),$n=lt.onErrorResumeNext=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;n<t;n++)e[n]=arguments[n]}return new yn(e)},_n=function(e){function t(t,n){this._s=t,this._o=y(n)?xt(n):n,this._open=!1,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new ke;t.setDisposable(this._s.subscribe(new Cn(e,this))),y(this._o)&&(this._o=xt(this._o));var n=new ke;return n.setDisposable(this._o.subscribe(new xn(e,this,n))),new Ee(t,n)},t}(dt),Cn=function(e){function t(t,n){this._o=t,this._p=n,e.call(this)}return le(t,e),t.prototype.next=function(e){this._p._open&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},t}(ot),xn=function(e){function t(t,n,r){this._o=t,this._p=n,this._r=r,e.call(this)}return le(t,e),t.prototype.next=function(){this._p._open=!0,this._r.dispose()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.onCompleted=function(){this._r.dispose()},t}(ot);it.skipUntil=function(e){return new _n(this,e)};var kn=function(e){function t(t){this.source=t,e.call(this)}function n(e,t){this.o=e,this.inner=t,this.stopped=!1,this.latest=0,this.hasLatest=!1,ot.call(this)}function r(e,t){this.parent=e,this.id=t,ot.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new Se,r=this.source.subscribe(new n(e,t));return new Ee(r,t)},le(n,ot),n.prototype.next=function(e){var t=new ke,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(t),y(e)&&(e=xt(e)),t.setDisposable(e.subscribe(new r(this,n)))},n.prototype.error=function(e){this.o.onError(e)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},le(r,ot),r.prototype.next=function(e){this.parent.latest===this.id&&this.parent.o.onNext(e)},r.prototype.error=function(e){this.parent.latest===this.id&&this.parent.o.onError(e)},r.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},t}(dt);it.switch=it.switchLatest=function(){return new kn(this)};var Sn=function(e){function t(t,n){this.source=t,this.other=y(n)?xt(n):n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return new Ee(this.source.subscribe(e),this.other.subscribe(new En(e)))},t}(dt),En=function(e){function t(t){this._o=t,e.call(this)}return le(t,e),t.prototype.next=function(){this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.onCompleted=f,t}(ot);function nn(){return!1}function rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}it.takeUntil=function(e){return new Sn(this,e)};var Tn=function(e){function t(t,n,r){this._s=t,this._ss=n,this._cb=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){for(var t=this._ss.length,n={hasValue:fe(t,nn),hasValueAll:!1,values:new Array(t)},r=this._ss.length,i=new Array(r+1),o=0;o<r;o++){var a=this._ss[o],s=new ke;y(a)&&(a=xt(a)),s.setDisposable(a.subscribe(new Dn(e,o,n))),i[o]=s}var u=new ke;return u.setDisposable(this._s.subscribe(new An(e,this._cb,n))),i[r]=u,new Te(i)},t}(dt),Dn=function(e){function t(t,n,r){this._o=t,this._i=n,this._state=r,e.call(this)}return le(t,e),t.prototype.next=function(e){this._state.values[this._i]=e,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(h)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=f,t}(ot),An=function(e){function t(t,n,r){this._o=t,this._cb=n,this._state=r,e.call(this)}return le(t,e),t.prototype.next=function(e){var t=[e].concat(this._state.values);if(this._state.hasValueAll){var n=C(this._cb).apply(null,t);if(n===_)return this._o.onError(n.e);this._o.onNext(n)}},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);function nn(){return!1}function On(){return[]}it.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=w(t[e-1])?t.pop():rn;return Array.isArray(t[0])&&(t=t[0]),new Tn(this,t,r)};var Pn=function(e){function t(t,n){this._s=t,this._cb=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){for(var t=this._s.length,n=new Array(t),r=fe(t,nn),i=fe(t,On),o=0;o<t;o++){var a=this._s[o],s=new ke;n[o]=s,y(a)&&(a=xt(a)),s.setDisposable(a.subscribe(new Mn(e,o,this,i,r)))}return new Te(n)},t}(dt),Mn=function(e){function t(t,n,r,i,o){this._o=t,this._i=n,this._p=r,this._q=i,this._d=o,e.call(this)}function n(e){return e.length>0}function r(e){return e.shift()}return le(t,e),t.prototype.next=function(e){if(this._q[this._i].push(e),this._q.every(n)){var t=this._q.map(r),i=C(this._p._cb).apply(null,t);if(i===_)return this._o.onError(i.e);this._o.onNext(i)}else this._d.filter(function(e){return function(t,n){return n!==e}}(this._i)).every(h)&&this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._d[this._i]=!0,this._d.every(h)&&this._o.onCompleted()},t}(ot);function nn(){return!1}function On(){return[]}function rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}it.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=w(t[e-1])?t.pop():rn;Array.isArray(t[0])&&(t=t[0]);var i=this;return t.unshift(i),new Pn(t,r)},lt.zip=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.isArray(t[0])&&(t=w(t[1])?t[0].concat(t[1]):t[0]);var r=t.shift();return r.zip.apply(r,t)};var Rn=function(e){function t(t,n){this.sources=t,this._cb=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){for(var t=this.sources,n=t.length,r=new Array(n),i={q:fe(n,On),done:fe(n,nn),cb:this._cb,o:e},o=0;o<n;o++)!function(e){var n=t[e],o=new ke;(J(n)||F(n))&&(n=It(n)),r[e]=o,o.setDisposable(n.subscribe(new Nn(i,e)))}(o);return new Te(r)},t}(dt),Nn=function(e){function t(t,n){this._s=t,this._i=n,e.call(this)}function n(e){return e.length>0}function r(e){return e.shift()}return le(t,e),t.prototype.next=function(e){if(this._s.q[this._i].push(e),this._s.q.every(n)){var t=this._s.q.map(r),i=C(this._s.cb).apply(null,t);if(i===_)return this._s.o.onError(i.e);this._s.o.onNext(i)}else this._s.done.filter(function(e){return function(t,n){return n!==e}}(this._i)).every(h)&&this._s.o.onCompleted()},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(h)&&this._s.o.onCompleted()},t}(ot);function jn(e){return e.toArray()}function In(e){return e.length>0}it.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=w(t[e-1])?t.pop():rn,i=this;return t.unshift(i),new Rn(t,r)},it.asObservable=function(){return new Ro((e=this,function(t){return e.subscribe(t)}),this);var e},it.bufferWithCount=it.bufferCount=function(e,t){return"number"!=typeof t&&(t=e),this.windowWithCount(e,t).flatMap(jn).filter(In)};var Ln=function(e){function t(t){this.source=t,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Un(e))},t}(dt),Un=function(e){function t(t){this._o=t,e.call(this)}return le(t,e),t.prototype.next=function(e){e.accept(this._o)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.dematerialize=function(){return new Ln(this)};var qn=function(e){function t(t,n,r){this.source=t,this.keyFn=n,this.comparer=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Fn(e,this.keyFn,this.comparer))},t}(dt),Fn=function(e){function t(t,n,r){this.o=t,this.keyFn=n,this.comparer=r,this.hasCurrentKey=!1,this.currentKey=null,e.call(this)}return le(t,e),t.prototype.next=function(e){var t,n=e;return w(this.keyFn)&&(n=C(this.keyFn)(e))===_?this.o.onError(n.e):this.hasCurrentKey&&(t=C(this.comparer)(this.currentKey,n))===_?this.o.onError(t.e):void(this.hasCurrentKey&&t||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(e)))},t.prototype.error=function(e){this.o.onError(e)},t.prototype.completed=function(){this.o.onCompleted()},t}(ot);it.distinctUntilChanged=function(e,t){return t||(t=m),new qn(this,e,t)};var Jn=function(e){function t(t,n,r,i){this.source=t,this._oN=n,this._oE=r,this._oC=i,e.call(this)}function n(e,t){this.o=e,this.t=!t._oN||w(t._oN)?rt(t._oN||f,t._oE||f,t._oC||f):t._oN,this.isStopped=!1,ot.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this))},le(n,ot),n.prototype.next=function(e){var t=C(this.t.onNext).call(this.t,e);t===_&&this.o.onError(t.e),this.o.onNext(e)},n.prototype.error=function(e){var t=C(this.t.onError).call(this.t,e);if(t===_)return this.o.onError(t.e);this.o.onError(e)},n.prototype.completed=function(){var e=C(this.t.onCompleted).call(this.t);if(e===_)return this.o.onError(e.e);this.o.onCompleted()},t}(dt);it.do=it.tap=it.doAction=function(e,t,n){return new Jn(this,e,t,n)},it.doOnNext=it.tapOnNext=function(e,t){return this.tap(void 0!==t?function(n){e.call(t,n)}:e)},it.doOnError=it.tapOnError=function(e,t){return this.tap(f,void 0!==t?function(n){e.call(t,n)}:e)},it.doOnCompleted=it.tapOnCompleted=function(e,t){return this.tap(f,null,void 0!==t?function(){e.call(t)}:e)};var Vn=function(e){function t(t,n,r){this.source=t,this._fn=V(n,r,0),e.call(this)}function n(e,t){this.isDisposed=!1,this._s=e,this._fn=t}return le(t,e),t.prototype.subscribeCore=function(e){var t=C(this.source.subscribe).call(this.source,e);return t===_&&(this._fn(),x(t.e)),new n(t,this._fn)},n.prototype.dispose=function(){if(!this.isDisposed){var e=C(this._s.dispose).call(this._s);this._fn(),e===_&&x(e.e)}},t}(dt);it.finally=function(e,t){return new Vn(this,e,t)};var zn=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.isStopped=!1}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},n.prototype.onNext=f,n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(e),!0)},t}(dt);it.ignoreElements=function(){return new zn(this)};var Hn=function(e){function t(t,n){this.source=t,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Wn(e))},t}(dt),Wn=function(e){function t(t){this._o=t,e.call(this)}return le(t,e),t.prototype.next=function(e){this._o.onNext(Qe(e))},t.prototype.error=function(e){this._o.onNext(et(e)),this._o.onCompleted()},t.prototype.completed=function(){this._o.onNext(tt()),this._o.onCompleted()},t}(ot);function Bn(e){return{"@@iterator":function(){return{next:function(){return{done:!1,value:e}}}}}}it.materialize=function(){return new Hn(this)},it.repeat=function(e){return bt(this,e).concat()},it.retry=function(e){return bt(this,e).catchError()};var Gn=function(e){function t(e){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,e.isDisposed=!0)}}}function n(t,n){this.source=t,this._notifier=n,e.call(this)}return le(n,e),n.prototype.subscribeCore=function(e){var n=new Lo,r=new Lo,i=this._notifier(n).subscribe(r),o=this.source["@@iterator"](),a={isDisposed:!1},s=new Se,u=Je.scheduleRecursive(null,(function(t,i){if(!a.isDisposed){var u=o.next();if(u.done)e.onCompleted();else{var c=u.value;y(c)&&(c=xt(c));var l=new ke,d=new ke;s.setDisposable(new Ee(d,l)),l.setDisposable(c.subscribe((function(t){e.onNext(t)}),(function(t){d.setDisposable(r.subscribe(i,(function(t){e.onError(t)}),(function(){e.onCompleted()}))),n.onNext(t),l.dispose()}),(function(){e.onCompleted()})))}}}));return new Te([i,s,u,t(a)])},n}(dt);function Bn(e){return{"@@iterator":function(){return{next:function(){return{done:!1,value:e}}}}}}it.retryWhen=function(e){return new Gn(Bn(this),e)};var Yn=function(e){function t(e){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,e.isDisposed=!0)}}}function n(t,n){this.source=t,this._notifier=n,e.call(this)}return le(n,e),n.prototype.subscribeCore=function(e){var n=new Lo,r=new Lo,i=this._notifier(n).subscribe(r),o=this.source["@@iterator"](),a={isDisposed:!1},s=new Se,u=Je.scheduleRecursive(null,(function(t,i){if(!a.isDisposed){var u=o.next();if(u.done)e.onCompleted();else{var c=u.value;y(c)&&(c=xt(c));var l=new ke,d=new ke;s.setDisposable(new Ee(d,l)),l.setDisposable(c.subscribe((function(t){e.onNext(t)}),(function(t){e.onError(t)}),(function(){d.setDisposable(r.subscribe(i,(function(t){e.onError(t)}),(function(){e.onCompleted()}))),n.onNext(null),l.dispose()})))}}}));return new Te([i,s,u,t(a)])},n}(dt);it.repeatWhen=function(e){return new Yn(Bn(this),e)};var Xn=function(e){function t(t,n,r,i){this.source=t,this.accumulator=n,this.hasSeed=r,this.seed=i,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Kn(e,this))},t}(dt),Kn=function(e){function t(t,n){this._o=t,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,e.call(this)}return le(t,e),t.prototype.next=function(e){if(!this._hv&&(this._hv=!0),this._ha?this._a=C(this._fn)(this._a,e,this._i,this._p):(this._a=this._hs?C(this._fn)(this._s,e,this._i,this._p):e,this._ha=!0),this._a===_)return this._o.onError(this._a.e);this._o.onNext(this._a),this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},t}(ot);it.scan=function(){var e,t=!1,n=arguments[0];return 2===arguments.length&&(t=!0,e=arguments[1]),new Xn(this,n,t,e)};var Zn=function(e){function t(t,n){this.source=t,this._c=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Qn(e,this._c))},t}(dt),Qn=function(e){function t(t,n){this._o=t,this._c=n,this._q=[],e.call(this)}return le(t,e),t.prototype.next=function(e){this._q.push(e),this._q.length>this._c&&this._o.onNext(this._q.shift())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.skipLast=function(e){if(e<0)throw new N;return new Zn(this,e)},it.startWith=function(){var e,t=0;arguments.length&&Ne(arguments[0])?(e=arguments[0],t=1):e=qe;for(var n=[],r=t,i=arguments.length;r<i;r++)n.push(arguments[r]);return ln.apply(null,[Ut(n,e),this])};var er=function(e){function t(t,n){this._o=t,this._c=n,this._q=[],e.call(this)}return le(t,e),t.prototype.next=function(e){this._q.push(e),this._q.length>this._c&&this._q.shift()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},t}(ot);it.takeLast=function(e){if(e<0)throw new N;var t=this;return new Ro((function(n){return t.subscribe(new er(n,e))}),t)};var tr=function(e){function t(t,n){this._o=t,this._c=n,this._q=[],e.call(this)}return le(t,e),t.prototype.next=function(e){this._q.push(e),this._q.length>this._c&&this._q.shift()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},t}(ot);function nr(e,t,n){var r=V(t,n,3);return e.map((function(t,n){var i=r(t,n,e);return y(i)&&(i=xt(i)),(J(i)||F(i))&&(i=It(i)),i})).concatAll()}it.takeLastBuffer=function(e){if(e<0)throw new N;var t=this;return new Ro((function(n){return t.subscribe(new tr(n,e))}),t)},it.windowWithCount=it.windowCount=function(e,t){var n=this;if(+e||(e=0),Math.abs(e)===1/0&&(e=0),e<=0)throw new N;if(null==t&&(t=e),+t||(t=0),Math.abs(t)===1/0&&(t=0),t<=0)throw new N;return new Ro((function(r){var i=new ke,o=new De(i),a=0,s=[];function u(){var e=new Lo;s.push(e),r.onNext(pe(e,o))}return u(),i.setDisposable(n.subscribe((function(n){for(var r=0,i=s.length;r<i;r++)s[r].onNext(n);var o=a-e+1;o>=0&&o%t==0&&s.shift().onCompleted(),++a%t==0&&u()}),(function(e){for(;s.length>0;)s.shift().onError(e);r.onError(e)}),(function(){for(;s.length>0;)s.shift().onCompleted();r.onCompleted()}))),o}),n)},it.selectConcat=it.concatMap=function(e,t,n){return w(e)&&w(t)?this.concatMap((function(n,r){var i=e(n,r);return y(i)&&(i=xt(i)),(J(i)||F(i))&&(i=It(i)),i.map((function(e,i){return t(n,e,r,i)}))})):w(e)?nr(this,e,n):nr(this,(function(){return e}))},it.concatMapObserver=it.selectConcatObserver=function(e,t,n,r){var i=this,o=V(e,r,2),a=V(t,r,1),s=V(n,r,0);return new Ro((function(e){var t=0;return i.subscribe((function(n){var r;try{r=o(n,t++)}catch(t){return void e.onError(t)}y(r)&&(r=xt(r)),e.onNext(r)}),(function(t){var n;try{n=a(t)}catch(t){return void e.onError(t)}y(n)&&(n=xt(n)),e.onNext(n),e.onCompleted()}),(function(){var t;try{t=s()}catch(t){return void e.onError(t)}y(t)&&(t=xt(t)),e.onNext(t),e.onCompleted()}))}),this).concatAll()};var rr=function(e){function t(t,n){this._o=t,this._d=n,this._f=!1,e.call(this)}return le(t,e),t.prototype.next=function(e){this._f=!0,this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},t}(ot);function ir(e){this.comparer=e,this.set=[]}it.defaultIfEmpty=function(t){var n=this;return t===e&&(t=null),new Ro((function(e){return n.subscribe(new rr(e,t))}),n)},ir.prototype.push=function(e){var t=-1===function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(n(e[r],t))return r;return-1}(this.set,e,this.comparer);return t&&this.set.push(e),t};var or=function(e){function t(t,n,r){this.source=t,this._keyFn=n,this._cmpFn=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new ar(e,this._keyFn,this._cmpFn))},t}(dt),ar=function(e){function t(t,n,r){this._o=t,this._keyFn=n,this._h=new ir(r),e.call(this)}return le(t,e),t.prototype.next=function(e){var t=e;if(w(this._keyFn)&&(t=C(this._keyFn)(e))===_)return this._o.onError(t.e);this._h.push(t)&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.distinct=function(e,t){return t||(t=m),new or(this,e,t)},it.groupBy=function(e,t){return this.groupByUntil(e,t,Vt)},it.groupByUntil=function(t,n,r){var i=this;return new Ro((function(o){var a=new ji,s=new ge,u=new De(s),c=function(e){return function(t){t.onError(e)}};return s.add(i.subscribe((function(i){var l=C(t)(i);if(l===_)return a.forEach(c(l.e)),o.onError(l.e);var d=!1,p=a.get(l);if(p===e&&(p=new Lo,a.set(l,p),d=!0),d){var h=new Io(l,p,u),v=new Io(l,p),m=C(r)(v);if(m===_)return a.forEach(c(m.e)),o.onError(m.e);o.onNext(h);var g=new ke;s.add(g),g.setDisposable(m.take(1).subscribe(f,(function(e){a.forEach(c(e)),o.onError(e)}),(function(){a.delete(l)&&p.onCompleted(),s.remove(g)})))}var b=i;if(w(n)&&(b=C(n)(i))===_)return a.forEach(c(b.e)),o.onError(b.e);p.onNext(b)}),(function(e){a.forEach(c(e)),o.onError(e)}),(function(){a.forEach((function(e){e.onCompleted()})),o.onCompleted()}))),u}),i)};var sr=function(e){function t(t,n,r){this.source=t,this.selector=V(n,r,3),e.call(this)}function n(e,t,n){this.o=e,this.selector=t,this.source=n,this.i=0,ot.call(this)}return le(t,e),t.prototype.internalMap=function(e,n){return new t(this.source,function(e,t){return function(n,r,i){return e.call(this,t.selector(n,r,i),r,i)}}(e,this),n)},t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.selector,this))},le(n,ot),n.prototype.next=function(e){var t=C(this.selector)(e,this.i++,this.source);if(t===_)return this.o.onError(t.e);this.o.onNext(t)},n.prototype.error=function(e){this.o.onError(e)},n.prototype.completed=function(){this.o.onCompleted()},t}(dt);function ur(t,n){return function(r){for(var i=r,o=0;o<n;o++){var a=i[t[o]];if(void 0===a)return e;i=a}return i}}it.map=it.select=function(e,t){var n="function"==typeof e?e:function(){return e};return this instanceof sr?this.internalMap(n,t):new sr(this,n,t)},it.pluck=function(){var e=arguments.length,t=new Array(e);if(0===e)throw new Error("List of properties cannot be empty.");for(var n=0;n<e;n++)t[n]=arguments[n];return this.map(ur(t,e))},it.flatMap=it.selectMany=it.mergeMap=function(e,t,n){return new pt(this,e,t,n).mergeAll()},it.flatMapObserver=it.selectManyObserver=function(e,t,n,r){var i=this;return new Ro((function(o){var a=0;return i.subscribe((function(t){var n;try{n=e.call(r,t,a++)}catch(e){return void o.onError(e)}y(n)&&(n=xt(n)),o.onNext(n)}),(function(e){var n;try{n=t.call(r,e)}catch(e){return void o.onError(e)}y(n)&&(n=xt(n)),o.onNext(n),o.onCompleted()}),(function(){var e;try{e=n.call(r)}catch(e){return void o.onError(e)}y(e)&&(e=xt(e)),o.onNext(e),o.onCompleted()}))}),i).mergeAll()},it.flatMapLatest=it.switchMap=function(e,t,n){return new pt(this,e,t,n).switchLatest()};var cr=function(e){function t(t,n){this.source=t,this._count=n,e.call(this)}function n(e,t){this._o=e,this._r=t,ot.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this._count))},le(n,ot),n.prototype.next=function(e){this._r<=0?this._o.onNext(e):this._r--},n.prototype.error=function(e){this._o.onError(e)},n.prototype.completed=function(){this._o.onCompleted()},t}(dt);it.skip=function(e){if(e<0)throw new N;return new cr(this,e)};var lr=function(e){function t(t,n){this.source=t,this._fn=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new dr(e,this))},t}(dt),dr=function(e){function t(t,n){this._o=t,this._p=n,this._i=0,this._r=!1,e.call(this)}return le(t,e),t.prototype.next=function(e){if(!this._r){var t=C(this._p._fn)(e,this._i++,this._p);if(t===_)return this._o.onError(t.e);this._r=!t}this._r&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.skipWhile=function(e,t){var n=V(e,t,3);return new lr(this,n)};var pr=function(e){function t(t,n){this.source=t,this._count=n,e.call(this)}function n(e,t){this._o=e,this._c=t,this._r=t,ot.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this._count))},le(n,ot),n.prototype.next=function(e){this._r-- >0&&(this._o.onNext(e),this._r<=0&&this._o.onCompleted())},n.prototype.error=function(e){this._o.onError(e)},n.prototype.completed=function(){this._o.onCompleted()},t}(dt);it.take=function(e,t){if(e<0)throw new N;return 0===e?At(t):new pr(this,e)};var fr=function(e){function t(t,n){this.source=t,this._fn=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new hr(e,this))},t}(dt),hr=function(e){function t(t,n){this._o=t,this._p=n,this._i=0,this._r=!0,e.call(this)}return le(t,e),t.prototype.next=function(e){if(this._r&&(this._r=C(this._p._fn)(e,this._i++,this._p),this._r===_))return this._o.onError(this._r.e);this._r?this._o.onNext(e):this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.takeWhile=function(e,t){var n=V(e,t,3);return new fr(this,n)};var vr=function(e){function t(t,n,r){this.source=t,this.predicate=V(n,r,3),e.call(this)}function n(e,t,n){this.o=e,this.predicate=t,this.source=n,this.i=0,ot.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.predicate,this))},t.prototype.internalFilter=function(e,n){return new t(this.source,function(e,t){return function(n,r,i){return t.predicate(n,r,i)&&e.call(this,n,r,i)}}(e,this),n)},le(n,ot),n.prototype.next=function(e){var t=C(this.predicate)(e,this.i++,this.source);if(t===_)return this.o.onError(t.e);t&&this.o.onNext(e)},n.prototype.error=function(e){this.o.onError(e)},n.prototype.completed=function(){this.o.onCompleted()},t}(dt);it.filter=it.where=function(e,t){return this instanceof vr?this.internalFilter(e,t):new vr(this,e,t)};var mr=function(e){function t(t,n,r){this.source=t,this._k=n,this._c=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new gr(e,this._k,this._c))},t}(dt),gr=function(e){function t(t,n,r){this._o=t,this._k=n,this._c=r,this._v=null,this._hv=!1,this._l=[],e.call(this)}return le(t,e),t.prototype.next=function(e){var t=C(this._k)(e);if(t===_)return this._o.onError(t.e);var n=0;if(this._hv){if((n=C(this._c)(t,this._v))===_)return this._o.onError(n.e)}else this._hv=!0,this._v=t;n>0&&(this._v=t,this._l=[]),n>=0&&this._l.push(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},t}(ot);function br(e){if(0===e.length)throw new M;return e[0]}var yr=function(e){function t(t,n,r,i){this.source=t,this.accumulator=n,this.hasSeed=r,this.seed=i,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new wr(e,this))},t}(dt),wr=function(e){function t(t,n){this._o=t,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,e.call(this)}return le(t,e),t.prototype.next=function(e){if(!this._hv&&(this._hv=!0),this._ha?this._a=C(this._fn)(this._a,e,this._i,this._p):(this._a=this._hs?C(this._fn)(this._s,e,this._i,this._p):e,this._ha=!0),this._a===_)return this._o.onError(this._a.e);this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new M),this._o.onCompleted()},t}(ot);it.reduce=function(){var e,t=!1,n=arguments[0];return 2===arguments.length&&(t=!0,e=arguments[1]),new yr(this,n,t,e)};var $r=function(e){function t(t,n){this.source=t,this._fn=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new _r(e,this._fn,this.source))},t}(dt),_r=function(e){function t(t,n,r){this._o=t,this._fn=n,this._s=r,this._i=0,e.call(this)}return le(t,e),t.prototype.next=function(e){var t=C(this._fn)(e,this._i++,this._s);if(t===_)return this._o.onError(t.e);Boolean(t)&&(this._o.onNext(!0),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},t}(ot);it.some=function(e,t){var n=V(e,t,3);return new $r(this,n)};var Cr=function(e){function t(t){this.source=t,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new xr(e))},t}(dt),xr=function(e){function t(t){this._o=t,e.call(this)}return le(t,e),t.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},t}(ot);it.isEmpty=function(){return new Cr(this)};var kr=function(e){function t(t,n){this.source=t,this._fn=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Sr(e,this._fn,this.source))},t}(dt),Sr=function(e){function t(t,n,r){this._o=t,this._fn=n,this._s=r,this._i=0,e.call(this)}return le(t,e),t.prototype.next=function(e){var t=C(this._fn)(e,this._i++,this._s);if(t===_)return this._o.onError(t.e);Boolean(t)||(this._o.onNext(!1),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},t}(ot);it.every=function(e,t){var n=V(e,t,3);return new kr(this,n)};var Er=function(e){function t(t,n,r){var i=+r||0;Math.abs(i)===1/0&&(i=0),this.source=t,this._elem=n,this._n=i,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this._n<0?(e.onNext(!1),e.onCompleted(),$e):this.source.subscribe(new Tr(e,this._elem,this._n))},t}(dt),Tr=function(e){function t(t,n,r){this._o=t,this._elem=n,this._n=r,this._i=0,e.call(this)}return le(t,e),t.prototype.next=function(e){var t,n;this._i++>=this._n&&(t=e,n=this._elem,0===t&&0===n||t===n||isNaN(t)&&isNaN(n))&&(this._o.onNext(!0),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},t}(ot);it.includes=function(e,t){return new Er(this,e,t)};var Dr=function(e){function t(t,n){this.source=t,this._fn=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Ar(e,this._fn,this.source))},t}(dt),Ar=function(e){function t(t,n,r){this._o=t,this._fn=n,this._s=r,this._i=0,this._c=0,e.call(this)}return le(t,e),t.prototype.next=function(e){if(this._fn){var t=C(this._fn)(e,this._i++,this._s);if(t===_)return this._o.onError(t.e);Boolean(t)&&this._c++}else this._c++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},t}(ot);it.count=function(e,t){var n=V(e,t,3);return new Dr(this,n)};var Or=function(e){function t(t,n,r){this.source=t,this._e=n,this._n=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this._n<0?(e.onNext(-1),e.onCompleted(),$e):this.source.subscribe(new Pr(e,this._e,this._n))},t}(dt),Pr=function(e){function t(t,n,r){this._o=t,this._e=n,this._n=r,this._i=0,e.call(this)}return le(t,e),t.prototype.next=function(e){this._i>=this._n&&e===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},t}(ot);it.indexOf=function(e,t){var n=+t||0;return Math.abs(n)===1/0&&(n=0),new Or(this,e,n)};var Mr=function(e){function t(t,n){this.source=t,this._fn=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Rr(e,this._fn,this.source))},t}(dt),Rr=function(e){function t(t,n,r){this._o=t,this._fn=n,this._s=r,this._i=0,this._c=0,e.call(this)}return le(t,e),t.prototype.next=function(e){if(this._fn){var t=C(this._fn)(e,this._i++,this._s);if(t===_)return this._o.onError(t.e);this._c+=t}else this._c+=e},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},t}(ot);it.sum=function(e,t){var n=V(e,t,3);return new Mr(this,n)},it.minBy=function(e,t){return t||(t=g),new mr(this,e,(function(e,n){return-1*t(e,n)}))},it.min=function(e){return this.minBy(h,e).map(br)},it.maxBy=function(e,t){return t||(t=g),new mr(this,e,t)},it.max=function(e){return this.maxBy(h,e).map(br)};var Nr=function(e){function t(t,n){this.source=t,this._fn=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new jr(e,this._fn,this.source))},t}(dt),jr=function(e){function t(t,n,r){this._o=t,this._fn=n,this._s=r,this._c=0,this._t=0,e.call(this)}return le(t,e),t.prototype.next=function(e){if(this._fn){var t=C(this._fn)(e,this._c++,this._s);if(t===_)return this._o.onError(t.e);this._t+=t}else this._c++,this._t+=e},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){if(0===this._c)return this._o.onError(new M);this._o.onNext(this._t/this._c),this._o.onCompleted()},t}(ot);it.average=function(e,t){var n;return w(e)&&(n=V(e,t,3)),new Nr(this,n)},it.sequenceEqual=function(e,t){var n=this;return t||(t=m),new Ro((function(r){var i=!1,o=!1,a=[],s=[],u=n.subscribe((function(e){if(s.length>0){var n=s.shift(),i=C(t)(n,e);if(i===_)return r.onError(i.e);i||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):a.push(e)}),(function(e){r.onError(e)}),(function(){i=!0,0===a.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))}));(J(e)||F(e))&&(e=It(e)),y(e)&&(e=xt(e));var c=e.subscribe((function(e){if(a.length>0){var n=a.shift(),o=C(t)(n,e);if(o===_)return r.onError(o.e);o||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):s.push(e)}),(function(e){r.onError(e)}),(function(){o=!0,0===s.length&&(a.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))}));return new Ee(u,c)}),n)};var Ir=function(e){function t(t,n,r){this.source=t,this._i=n,this._d=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Lr(e,this._i,this._d))},t}(dt),Lr=function(t){function n(e,n,r){this._o=e,this._i=n,this._d=r,t.call(this)}return le(n,t),n.prototype.next=function(e){0==this._i--&&(this._o.onNext(e),this._o.onCompleted())},n.prototype.error=function(e){this._o.onError(e)},n.prototype.completed=function(){this._d===e?this._o.onError(new N):(this._o.onNext(this._d),this._o.onCompleted())},n}(ot);it.elementAt=function(e,t){if(e<0)throw new N;return new Ir(this,e,t)};var Ur=function(t){function n(e,n,r){this._o=e,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,t.call(this)}return le(n,t),n.prototype.next=function(e){var t=!1;if(this._obj.predicate){var n=C(this._obj.predicate)(e,this._i++,this._s);if(n===_)return this._o.onError(n.e);Boolean(n)&&(t=!0)}else this._obj.predicate||(t=!0);if(t){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=e}},n.prototype.error=function(e){this._o.onError(e)},n.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===e?this._o.onError(new M):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(ot);it.single=function(e,t){var n={},r=this;if(n="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},w(n.predicate)){var i=n.predicate;n.predicate=V(i,n.thisArg,3)}return new Ro((function(e){return r.subscribe(new Ur(e,n,r))}),r)};var qr=function(e){function t(t,n){this.source=t,this._obj=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Fr(e,this._obj,this.source))},t}(dt),Fr=function(t){function n(e,n,r){this._o=e,this._obj=n,this._s=r,this._i=0,t.call(this)}return le(n,t),n.prototype.next=function(e){if(this._obj.predicate){var t=C(this._obj.predicate)(e,this._i++,this._s);if(t===_)return this._o.onError(t.e);Boolean(t)&&(this._o.onNext(e),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(e),this._o.onCompleted())},n.prototype.error=function(e){this._o.onError(e)},n.prototype.completed=function(){this._obj.defaultValue===e?this._o.onError(new M):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(ot);it.first=function(){var e={};if(e="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},w(e.predicate)){var t=e.predicate;e.predicate=V(t,e.thisArg,3)}return new qr(this,e)};var Jr=function(e){function t(t,n){this.source=t,this._obj=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Vr(e,this._obj,this.source))},t}(dt),Vr=function(t){function n(e,n,r){this._o=e,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,t.call(this)}return le(n,t),n.prototype.next=function(e){var t=!1;if(this._obj.predicate){var n=C(this._obj.predicate)(e,this._i++,this._s);if(n===_)return this._o.onError(n.e);Boolean(n)&&(t=!0)}else this._obj.predicate||(t=!0);t&&(this._hv=!0,this._v=e)},n.prototype.error=function(e){this._o.onError(e)},n.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===e?this._o.onError(new M):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(ot);it.last=function(){var e={};if(e="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},w(e.predicate)){var t=e.predicate;e.predicate=V(t,e.thisArg,3)}return new Jr(this,e)};var zr=function(e){function t(t,n,r,i){this._o=t,this._s=n,this._cb=r,this._y=i,this._i=0,e.call(this)}return le(t,e),t.prototype.next=function(e){var t=C(this._cb)(e,this._i,this._s);if(t===_)return this._o.onError(t.e);t?(this._o.onNext(this._y?this._i:e),this._o.onCompleted()):this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},t}(ot);function Hr(e,t,n,r){var i=V(t,n,3);return new Ro((function(t){return e.subscribe(new zr(t,e,i,r))}),e)}it.find=function(e,t){return Hr(this,e,t,!1)},it.findIndex=function(e,t){return Hr(this,e,t,!0)};var Wr=function(e){function t(t){this.source=t,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Br(e))},t}(dt),Br=function(e){function t(t){this._o=t,this._s=new d.Set,e.call(this)}return le(t,e),t.prototype.next=function(e){this._s.add(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},t}(ot);it.toSet=function(){if(void 0===d.Set)throw new TypeError;return new Wr(this)};var Gr=function(e){function t(t,n,r){this.source=t,this._k=n,this._e=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Yr(e,this._k,this._e))},t}(dt),Yr=function(e){function t(t,n,r){this._o=t,this._k=n,this._e=r,this._m=new d.Map,e.call(this)}return le(t,e),t.prototype.next=function(e){var t=C(this._k)(e);if(t===_)return this._o.onError(t.e);var n=e;if(this._e&&(n=C(this._e)(e))===_)return this._o.onError(n.e);this._m.set(t,n)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},t}(ot);it.toMap=function(e,t){if(void 0===d.Map)throw new TypeError;return new Gr(this,e,t)};var Xr=function(e){function t(t,n,r){this.source=t,this._b=n,this._e=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Kr(e,this._b,this._e))},t}(dt),Kr=function(e){function t(t,n,r){this._o=t,this._b=n,this._e=r,this._i=0,e.call(this)}return le(t,e),t.prototype.next=function(e){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(e)),this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.slice=function(e,t){var n=e||0;if(n<0)throw new p.ArgumentOutOfRangeError;if("number"==typeof t&&t<n)throw new p.ArgumentOutOfRangeError;return new Xr(this,n,t)};var Zr=function(e){function t(t,n,r){this.source=t,this._e=n,this._n=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this._n<0?(e.onNext(-1),e.onCompleted(),$e):this.source.subscribe(new Qr(e,this._e,this._n))},t}(dt),Qr=function(e){function t(t,n,r){this._o=t,this._e=n,this._n=r,this._v=0,this._hv=!1,this._i=0,e.call(this)}return le(t,e),t.prototype.next=function(e){this._i>=this._n&&e===this._e&&(this._hv=!0,this._v=this._i),this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},t}(ot);it.lastIndexOf=function(e,t){var n=+t||0;return Math.abs(n)===1/0&&(n=0),new Zr(this,e,n)},lt.wrap=function(e){function t(){return lt.spawn.call(this,e.apply(this,arguments))}return t.__generatorFunction__=e,t};var ei=lt.spawn=function(){for(var e=arguments[0],t=this,n=[],r=1,i=arguments.length;r<i;r++)n.push(arguments[r]);return new Ro((function(r){var i=new ge;if(w(e)&&(e=e.apply(t,n)),!e||!w(e.next))return r.onNext(e),r.onCompleted();function o(t){var n=C(e.next).call(e,t);if(n===_)return r.onError(n.e);s(n)}function a(t){var n=C(e.next).call(e,t);if(n===_)return r.onError(n.e);s(n)}function s(e){if(e.done)return r.onNext(e.value),void r.onCompleted();var n=ti.call(t,e.value),s=null,u=!1;lt.isObservable(n)?i.add(n.subscribe((function(e){u=!0,s=e}),a,(function(){u&&o(s)}))):a(new TypeError("type not supported"))}return o(),i}))};function ti(e){return e?lt.isObservable(e)?e:y(e)?lt.fromPromise(e):function(e){var t=e.constructor;if(!t)return!1;if("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)return!0;return oi(t.prototype)}(e)||oi(e)?ei.call(this,e):w(e)?ii.call(this,e):J(e)||F(e)?ni.call(this,e):ee(e)?ri.call(this,e):e:e}function ni(e){return lt.from(e).concatMap((function(e){return lt.isObservable(e)||ee(e)?ti.call(null,e):p.Observable.just(e)})).toArray()}function ri(t){for(var n=new t.constructor,r=Object.keys(t),i=[],o=0,a=r.length;o<a;o++){var s=r[o],u=ti.call(this,t[s]);u&&lt.isObservable(u)?c(u,s):n[s]=t[s]}return lt.forkJoin.apply(lt,i).map((function(){return n}));function c(t,r){n[r]=e,i.push(t.map((function(e){n[r]=e})))}}function ii(e){var t=this;return new Ro((function(n){e.call(t,(function(){var e=arguments[0],t=arguments[1];if(e)return n.onError(e);if(arguments.length>2){for(var r=[],i=1,o=arguments.length;i<o;i++)r.push(arguments[i]);t=r}n.onNext(t),n.onCompleted()}))}))}function oi(e){return w(e.next)&&w(e.throw)}function ee(e){return Object==e.constructor}lt.start=function(e,t,n){return ai(e,t,n)()};var ai=lt.toAsync=function(e,t,n){return Ne(n)||(n=Be),function(){var r=arguments,i=new Uo;return n.schedule(null,(function(){var n;try{n=e.apply(t,r)}catch(e){return void i.onError(e)}i.onNext(n),i.onCompleted()})),i.asObservable()}};function si(e,t,n,r){var i=new Uo;return r.push(function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(w(n)){if((i=C(n).apply(t,i))===_)return e.onError(i.e);e.onNext(i)}else i.length<=1?e.onNext(i[0]):e.onNext(i);e.onCompleted()}}(i,t,n)),e.apply(t,r),i.asObservable()}function ui(e,t,n,r){var i=new Uo;return r.push(function(e,t,n){return function(){var r=arguments[0];if(r)return e.onError(r);for(var i=arguments.length,o=[],a=1;a<i;a++)o[a-1]=arguments[a];if(w(n)){if((o=C(n).apply(t,o))===_)return e.onError(o.e);e.onNext(o)}else o.length<=1?e.onNext(o[0]):e.onNext(o);e.onCompleted()}}(i,t,n)),e.apply(t,r),i.asObservable()}function ci(e,t,n){this._e=e,this._n=t,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function li(e,t,n){var r=new ge,i=Object.prototype.toString.call(e);if(function(e){return d.StaticNodeList?e instanceof d.StaticNodeList||e instanceof d.NodeList:"[object NodeList]"===Object.prototype.toString.call(e)}(e)||"[object HTMLCollection]"===i)for(var o=0,a=e.length;o<a;o++)r.add(li(e.item(o),t,n));else e&&r.add(new ci(e,t,n));return r}lt.fromCallback=function(e,t,n){return function(){void 0===t&&(t=this);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return si(e,t,n,i)}},lt.fromNodeCallback=function(e,t,n){return function(){void 0===t&&(t=this);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ui(e,t,n,i)}},ci.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},p.config.useNativeEvents=!1;var di=function(e){function t(t,n,r){this._el=t,this._n=n,this._fn=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return li(this._el,this._n,function(e,t){return function(){var n=arguments[0];if(w(t)&&(n=C(t).apply(null,arguments))===_)return e.onError(n.e);e.onNext(n)}}(e,this._fn))},t}(dt);lt.fromEvent=function(e,t,n){return e.addListener?fi((function(n){e.addListener(t,n)}),(function(n){e.removeListener(t,n)}),n):p.config.useNativeEvents||"function"!=typeof e.on||"function"!=typeof e.off?new di(e,t,n).publish().refCount():fi((function(n){e.on(t,n)}),(function(n){e.off(t,n)}),n)};var pi=function(e){function t(t,n,r){this._add=t,this._del=n,this._fn=r,e.call(this)}function n(e,t,n){this._del=e,this._fn=t,this._ret=n,this.isDisposed=!1}return le(t,e),t.prototype.subscribeCore=function(e){var t=function(e,t){return function(){var n=arguments[0];if(w(t)&&(n=C(t).apply(null,arguments))===_)return e.onError(n.e);e.onNext(n)}}(e,this._fn),r=this._add(t);return new n(this._del,t,r)},n.prototype.dispose=function(){this.isDisposed||(w(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},t}(dt),fi=lt.fromEventPattern=function(e,t,n){return new pi(e,t,n).publish().refCount()};lt.startAsync=function(e){var t=C(e)();return t===_?Xt(t.e):xt(t)};var hi=function(e){function t(t,n){this.source=t,this.controller=new Lo,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,e.call(this)}return le(t,e),t.prototype._subscribe=function(e){var t=this.source.publish(),n=t.subscribe(e),r=$e,i=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe((function(e){e?r=t.connect():(r.dispose(),r=$e)}));return new Te([n,r,i])},t.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},t.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},t}(lt);it.pausable=function(e){return new hi(this,e)};var vi=function(t){function n(e,n){this.source=e,this.controller=new Lo,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return le(n,t),n.prototype._subscribe=function(t){var n,r,i,o,a=[];function s(){for(;a.length>0;)t.onNext(a.shift())}return(r=this.source,i=this.pauser.startWith(!this.paused).distinctUntilChanged(),o=function(e,t){return{data:e,shouldFire:t}},new Ro((function(e){var t,n=[!1,!1],a=!1,s=!1,u=new Array(2);function c(r,i){if(u[i]=r,n[i]=!0,a||(a=n.every(h))){if(t)return e.onError(t);var c=C(o).apply(null,u);if(c===_)return e.onError(c.e);e.onNext(c)}s&&u[1]&&e.onCompleted()}return new Ee(r.subscribe((function(e){c(e,0)}),(function(n){u[1]?e.onError(n):t=n}),(function(){s=!0,u[1]&&e.onCompleted()})),i.subscribe((function(e){c(e,1)}),(function(t){e.onError(t)}),(function(){s=!0,c(!0,1)})))}),r)).subscribe((function(r){n!==e&&r.shouldFire!==n?(n=r.shouldFire,r.shouldFire&&s()):(n=r.shouldFire,r.shouldFire?t.onNext(r.data):a.push(r.data))}),(function(e){s(),t.onError(e)}),(function(){s(),t.onCompleted()}))},n.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},n.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},n}(lt);it.pausableBuffered=function(e){return new vi(this,e)};var mi=function(e){function t(t,n,r){e.call(this),this.subject=new gi(n,r),this.source=t.multicast(this.subject).refCount()}return le(t,e),t.prototype._subscribe=function(e){return this.source.subscribe(e)},t.prototype.request=function(e){return this.subject.request(null==e?-1:e)},t}(lt),gi=function(e){function t(t,n){null==t&&(t=!0),e.call(this),this.subject=new Lo,this.enableQueue=t,this.queue=t?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=n||Je}return le(t,e),de(t.prototype,nt,{_subscribe:function(e){return this.subject.subscribe(e)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(Ye.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(e){this.hasFailed=!0,this.error=e,this.enableQueue&&0!==this.queue.length?this.queue.push(Ye.createOnError(e)):(this.subject.onError(e),this.disposeCurrentRequest())},onNext:function(e){this.requestedCount<=0?this.enableQueue&&this.queue.push(Ye.createOnNext(e)):(0==this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(e))},_processRequest:function(e){if(this.enableQueue)for(;this.queue.length>0&&(e>0||"N"!==this.queue[0].kind);){var t=this.queue.shift();t.accept(this.subject),"N"===t.kind?e--:(this.disposeCurrentRequest(),this.queue=[])}return e},request:function(e){this.disposeCurrentRequest();var t=this;return this.requestedDisposable=this.scheduler.schedule(e,(function(e,n){var r=t._processRequest(n);if(!(t.hasCompleted||t.hasFailed)&&r>0)return t.requestedCount=r,we((function(){t.requestedCount=0}))})),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),t}(lt);it.controlled=function(e,t){return e&&Ne(e)&&(t=e,e=!0),null==e&&(e=!0),new mi(this,e,t)};var bi=function(e){function t(t){e.call(this),this.source=t}function n(e,t){return t.source.request(1)}le(t,e),t.prototype._subscribe=function(e){return this.subscription=this.source.subscribe(new r(e,this,this.subscription)),new Ee(this.subscription,Be.schedule(this,n))};var r=function(e){function t(t,n,r){e.call(this),this.observer=t,this.observable=n,this.cancel=r,this.scheduleDisposable=null}function n(e,t){return t.observable.source.request(1)}return le(t,e),t.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},t.prototype.error=function(e){this.observer.onError(e),this.dispose()},t.prototype.next=function(e){this.observer.onNext(e),this.scheduleDisposable=Be.schedule(this,n)},t.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),e.prototype.dispose.call(this)},t}(ot);return t}(lt);mi.prototype.stopAndWait=function(){return new bi(this)};var yi=function(e){function t(t,n){e.call(this),this.source=t,this.windowSize=n}function n(e,t){return t.source.request(t.windowSize)}le(t,e),t.prototype._subscribe=function(e){return this.subscription=this.source.subscribe(new r(e,this,this.subscription)),new Ee(this.subscription,Be.schedule(this,n))};var r=function(e){function t(t,n,r){this.observer=t,this.observable=n,this.cancel=r,this.received=0,this.scheduleDisposable=null,e.call(this)}function n(e,t){return t.observable.source.request(t.observable.windowSize)}return le(t,e),t.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},t.prototype.error=function(e){this.observer.onError(e),this.dispose()},t.prototype.next=function(e){this.observer.onNext(e),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=Be.schedule(this,n))},t.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),e.prototype.dispose.call(this)},t}(ot);return t}(lt);mi.prototype.windowed=function(e){return new yi(this,e)},it.pipe=function(e){var t=this.pausableBuffered();function n(){t.resume()}return e.addListener("drain",n),t.subscribe((function(n){!e.write(n)&&t.pause()}),(function(t){e.emit("error",t)}),(function(){!e._isStdio&&e.end(),e.removeListener("drain",n)})),t.resume(),e};var wi=function(e){function t(t,n,r){this.source=t,this._fn1=n,this._fn2=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=this.source.multicast(this._fn1());return new Ee(this._fn2(t).subscribe(e),t.connect())},t}(dt);it.multicast=function(e,t){return w(e)?new wi(this,e,t):new Ci(this,e)},it.publish=function(e){return e&&w(e)?this.multicast((function(){return new Lo}),e):this.multicast(new Lo)},it.share=function(){return this.publish().refCount()},it.publishLast=function(e){return e&&w(e)?this.multicast((function(){return new Uo}),e):this.multicast(new Uo)},it.publishValue=function(e,t){return 2===arguments.length?this.multicast((function(){return new qo(t)}),e):this.multicast(new qo(e))},it.shareValue=function(e){return this.publishValue(e).refCount()},it.replay=function(e,t,n,r){return e&&w(e)?this.multicast((function(){return new Fo(t,n,r)}),e):this.multicast(new Fo(t,n,r))},it.shareReplay=function(e,t,n){return this.replay(null,e,t,n).refCount()};var $i=function(e,t){this._s=e,this._o=t};$i.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var e=this._s.observers.indexOf(this._o);this._s.observers.splice(e,1),this._o=null}};var _i=function(e){function t(t){this.source=t,this._count=0,this._connectableSubscription=null,e.call(this)}function n(e,t){this._p=e,this._s=t,this.isDisposed=!1}return le(t,e),t.prototype.subscribeCore=function(e){var t=this.source.subscribe(e);return 1==++this._count&&(this._connectableSubscription=this.source.connect()),new n(this,t)},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0==--this._p._count&&this._p._connectableSubscription.dispose())},t}(dt),Ci=p.ConnectableObservable=function(e){function t(t,n){this.source=t,this._connection=null,this._source=t.asObservable(),this._subject=n,e.call(this)}function n(e,t){this._p=e,this._s=t}return le(t,e),n.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},t.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return $e;var e=this._source.subscribe(this._subject);this._connection=new n(this,e)}return this._connection},t.prototype._subscribe=function(e){return this._subject.subscribe(e)},t.prototype.refCount=function(){return new _i(this)},t}(lt);function jn(e){return e.toArray()}function xi(e,t){return e.groupJoin(this,t,At,(function(e,t){return t}))}function ki(e){var t=this;return new Ro((function(n){var r=new Lo,i=new ge,o=new De(i);return n.onNext(pe(r,o)),i.add(t.subscribe((function(e){r.onNext(e)}),(function(e){r.onError(e),n.onError(e)}),(function(){r.onCompleted(),n.onCompleted()}))),y(e)&&(e=xt(e)),i.add(e.subscribe((function(e){r.onCompleted(),r=new Lo,n.onNext(pe(r,o))}),(function(e){r.onError(e),n.onError(e)}),(function(){r.onCompleted(),n.onCompleted()}))),o}),t)}function Si(e){var t=this;return new Ro((function(n){var r=new Se,i=new ge(r),o=new De(i),a=new Lo;return n.onNext(pe(a,o)),i.add(t.subscribe((function(e){a.onNext(e)}),(function(e){a.onError(e),n.onError(e)}),(function(){a.onCompleted(),n.onCompleted()}))),function t(){var i;try{i=e()}catch(e){return void n.onError(e)}y(i)&&(i=xt(i));var s=new ke;r.setDisposable(s),s.setDisposable(i.take(1).subscribe(f,(function(e){a.onError(e),n.onError(e)}),(function(){a.onCompleted(),a=new Lo,n.onNext(pe(a,o)),t()})))}(),o}),t)}it.singleInstance=function(){var e,t=this,n=!1;return new Ro((function(r){return(n||(n=!0,e=t.finally((function(){n=!1})).publish().refCount()),e).subscribe(r)}))},it.join=function(e,t,n,r){var i=this;return new Ro((function(o){var a=new ge,s=!1,u=!1,c=0,l=0,d=new ji,p=new ji,h=function(e){o.onError(e)};return a.add(i.subscribe((function(e){var n=c++,i=new ke;d.set(n,e),a.add(i);var u=C(t)(e);if(u===_)return o.onError(u.e);i.setDisposable(u.take(1).subscribe(f,h,(function(){d.delete(n)&&0===d.size&&s&&o.onCompleted(),a.remove(i)}))),p.forEach((function(t){var n=C(r)(e,t);if(n===_)return o.onError(n.e);o.onNext(n)}))}),h,(function(){s=!0,(u||0===d.size)&&o.onCompleted()}))),a.add(e.subscribe((function(e){var t=l++,i=new ke;p.set(t,e),a.add(i);var s=C(n)(e);if(s===_)return o.onError(s.e);i.setDisposable(s.take(1).subscribe(f,h,(function(){p.delete(t)&&0===p.size&&u&&o.onCompleted(),a.remove(i)}))),d.forEach((function(t){var n=C(r)(t,e);if(n===_)return o.onError(n.e);o.onNext(n)}))}),h,(function(){u=!0,(s||0===p.size)&&o.onCompleted()}))),a}),i)},it.groupJoin=function(e,t,n,r){var i=this;return new Ro((function(o){var a=new ge,s=new De(a),u=new ji,c=new ji,l=0,d=0,p=function(e){return function(t){t.onError(e)}};function p(e){}return a.add(i.subscribe((function(e){var n=new Lo,i=l++;u.set(i,n);var d=C(r)(e,pe(n,s));if(d===_)return u.forEach(p(d.e)),o.onError(d.e);o.onNext(d),c.forEach((function(e){n.onNext(e)}));var h=new ke;a.add(h);var v=C(t)(e);if(v===_)return u.forEach(p(v.e)),o.onError(v.e);h.setDisposable(v.take(1).subscribe(f,(function(e){u.forEach(p(e)),o.onError(e)}),(function(){u.delete(i)&&n.onCompleted(),a.remove(h)})))}),(function(e){u.forEach(p(e)),o.onError(e)}),(function(){o.onCompleted()}))),a.add(e.subscribe((function(e){var t=d++;c.set(t,e);var r=new ke;a.add(r);var i=C(n)(e);if(i===_)return u.forEach(p(i.e)),o.onError(i.e);r.setDisposable(i.take(1).subscribe(f,(function(e){u.forEach(p(e)),o.onError(e)}),(function(){c.delete(t),a.remove(r)}))),u.forEach((function(t){t.onNext(e)}))}),(function(e){u.forEach(p(e)),o.onError(e)}))),s}),i)},it.buffer=function(){return this.window.apply(this,arguments).flatMap(jn)},it.window=function(e,t){return 1===arguments.length&&"function"!=typeof arguments[0]?ki.call(this,e):"function"==typeof e?Si.call(this,e):xi.call(this,e,t)};var Ei=function(e){function t(t){this.source=t,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Ti(e))},t}(dt),Ti=function(e){function t(t){this._o=t,this._p=null,this._hp=!1,e.call(this)}return le(t,e),t.prototype.next=function(e){this._hp?this._o.onNext([this._p,e]):this._hp=!0,this._p=e},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.pairwise=function(){return new Ei(this)},it.partition=function(e,t){var n=V(e,t,3);return[this.filter(e,t),this.filter((function(e,t,r){return!n(e,t,r)}))]};var Di=function(e){function t(e,t){this.c=e,this.s=t}return le(t,e),t.prototype[U]=function(){var e=this;return{next:function(){return e.c()?{done:!1,value:e.s}:{done:!0,value:void 0}}}},t}(ft);it.letBind=it.let=function(e){return e(this)},lt.if=function(e,t,n){return Et((function(){return n||(n=At()),y(t)&&(t=xt(t)),y(n)&&(n=xt(n)),"function"==typeof n.now&&(n=At(n)),e()?t:n}))},lt.for=lt.forIn=function(e,t,n){return wt(e,t,n).concat()};var Ai=lt.while=lt.whileDo=function(e,t){return y(t)&&(t=xt(t)),function(e,t){return new Di(e,t)}(e,t).concat()};it.doWhile=function(e){return ln([this,Ai(e,this)])},lt.case=function(e,t,n){return Et((function(){y(n)&&(n=xt(n)),n||(n=At()),Ne(n)&&(n=At(n));var r=t[e()];return y(r)&&(r=xt(r)),r||n}))};var Oi=function(e){function t(t,n,r){this.source=t,this._fn=n,this._scheduler=r,e.call(this)}function n(e,t){var n,r=e[0],i=e[1];if(r.q.length>0){n=r.q.shift();var o=new ke;r.d.add(o),o.setDisposable(n.subscribe(new Pi(r,i,o))),t([r,i])}else r.isAcquired=!1}return le(t,e),t.prototype._ensureActive=function(e){var t=!1;e.q.length>0&&(t=!e.isAcquired,e.isAcquired=!0),t&&e.m.setDisposable(this._scheduler.scheduleRecursive([e,this],n))},t.prototype.subscribeCore=function(e){var t=new Se,n=new ge(t),r={q:[],m:t,d:n,activeCount:0,isAcquired:!1,o:e};return r.q.push(this.source),r.activeCount++,this._ensureActive(r),n},t}(dt),Pi=function(e){function t(t,n,r){this._s=t,this._p=n,this._m1=r,e.call(this)}return le(t,e),t.prototype.next=function(e){this._s.o.onNext(e);var t=C(this._p._fn)(e);if(t===_)return this._s.o.onError(t.e);this._s.q.push(t),this._s.activeCount++,this._p._ensureActive(this._s)},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.d.remove(this._m1),this._s.activeCount--,0===this._s.activeCount&&this._s.o.onCompleted()},t}(ot);function rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}it.expand=function(e,t){return Ne(t)||(t=Je),new Oi(this,e,t)};var Mi=function(e){function t(t,n){this._sources=t,this._cb=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){if(0===this._sources.length)return e.onCompleted(),$e;for(var t=this._sources.length,n={finished:!1,hasResults:new Array(t),hasCompleted:new Array(t),results:new Array(t)},r=new ge,i=0,o=this._sources.length;i<o;i++){var a=this._sources[i];y(a)&&(a=xt(a)),r.add(a.subscribe(new Ri(e,n,i,this._cb,r)))}return r},t}(dt),Ri=function(e){function t(t,n,r,i,o){this._o=t,this._s=n,this._i=r,this._cb=i,this._subs=o,e.call(this)}return le(t,e),t.prototype.next=function(e){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=e)},t.prototype.error=function(e){this._s.finished=!0,this._o.onError(e),this._subs.dispose()},t.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var e=0;e<this._s.results.length;e++)if(!this._s.hasCompleted[e])return;this._s.finished=!0;var t=C(this._cb).apply(null,this._s.results);if(t===_)return this._o.onError(t.e);this._o.onNext(t),this._o.onCompleted()}},t}(ot);lt.forkJoin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=w(t[e-1])?t.pop():rn;return Array.isArray(t[0])&&(t=t[0]),new Mi(t,r)},it.forkJoin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),lt.forkJoin.apply(null,t)},it.manySelect=it.extend=function(e,t){Ne(t)||(t=p.Scheduler.immediate);var n=this;return Et((function(){var r;return n.map((function(e){var t=new Ni(e);return r&&r.onNext(e),r=t,t})).tap(f,(function(e){r&&r.onError(e)}),(function(){r&&r.onCompleted()})).observeOn(t).map(e)}),n)};var Ni=function(e){function t(t){e.call(this),this.head=t,this.tail=new Uo}return le(t,e),de(t.prototype,nt,{_subscribe:function(e){var t=new ge;return t.add(Je.schedule(this,(function(n,r){e.onNext(r.head),t.add(r.tail.mergeAll().subscribe(e))}))),t},onCompleted:function(){this.onNext(lt.empty())},onError:function(e){this.onNext(lt.throw(e))},onNext:function(e){this.tail.onNext(e),this.tail.onCompleted()}}),t}(lt),ji=d.Map||function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},t.prototype.get=function(t){var n=this._keys.indexOf(t);return-1===n?e:this._values[n]},t.prototype.set=function(e,t){var n=this._keys.indexOf(e);return-1===n?(this._keys.push(e),this._values.push(t),this.size++):this._values[n]=t,this},t.prototype.forEach=function(e,t){for(var n=0;n<this.size;n++)e.call(t,this._values[n],this._keys[n])},t}();function Ii(e){this.patterns=e}function Li(e,t){this.expression=e,this.selector=t}function Ui(e,t,n){var r=e.get(t);if(!r){var i=new Fi(t,n);return e.set(t,i),i}return r}function qi(e,t,n){this.joinObserverArray=e,this.onNext=t,this.onCompleted=n,this.joinObservers=new ji;for(var r=0,i=this.joinObserverArray.length;r<i;r++){var o=this.joinObserverArray[r];this.joinObservers.set(o,o)}}Ii.prototype.and=function(e){return new Ii(this.patterns.concat(e))},Ii.prototype.thenDo=function(e){return new Li(this,e)},Li.prototype.activate=function(e,t,n){for(var r,i=[],o=(r=t,function(e){r.onError(e)}),a=0,s=this.expression.patterns.length;a<s;a++)i.push(Ui(e,this.expression.patterns[a],o));var u=new qi(i,function(e,t){return function(){var n=C(e.selector).apply(e,arguments);if(n===_)return t.onError(n.e);t.onNext(n)}}(this,t),(function(){for(var e=0,t=i.length;e<t;e++)i[e].removeActivePlan(u);n(u)}));for(a=0,s=i.length;a<s;a++)i[a].addActivePlan(u);return u},qi.prototype.dequeue=function(){this.joinObservers.forEach((function(e){e.queue.shift()}))},qi.prototype.match=function(){var e,t,n=!0;for(e=0,t=this.joinObserverArray.length;e<t;e++)if(0===this.joinObserverArray[e].queue.length){n=!1;break}if(n){var r=[],i=!1;for(e=0,t=this.joinObserverArray.length;e<t;e++)r.push(this.joinObserverArray[e].queue[0]),"C"===this.joinObserverArray[e].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(e=0,t=r.length;e<r.length;e++)o.push(r[e].value);this.onNext.apply(this,o)}}};var Fi=function(e){function t(t,n){e.call(this),this.source=t,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new ke,this.isDisposed=!1}le(t,e);var n=t.prototype;return n.next=function(e){if(!this.isDisposed){if("E"===e.kind)return this.onError(e.error);this.queue.push(e);for(var t=this.activePlans.slice(0),n=0,r=t.length;n<r;n++)t[n].match()}},n.error=f,n.completed=f,n.addActivePlan=function(e){this.activePlans.push(e)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(e){this.activePlans.splice(this.activePlans.indexOf(e),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){e.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},t}(ot);it.and=function(e){return new Ii([this,e])},it.thenDo=function(e){return new Ii([this]).thenDo(e)},lt.when=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var n=0;n<t;n++)e[n]=arguments[n]}return new Ro((function(t){var n=[],r=new ji,i=rt((function(e){t.onNext(e)}),(function(e){r.forEach((function(t){t.onError(e)})),t.onError(e)}),(function(e){t.onCompleted()}));try{for(var o=0,a=e.length;o<a;o++)n.push(e[o].activate(r,i,(function(e){var r=n.indexOf(e);n.splice(r,1),0===n.length&&t.onCompleted()})))}catch(e){return Xt(e).subscribe(t)}var s=new ge;return r.forEach((function(e){e.subscribe(),s.add(e)})),s}))};var Ji=function(e){function t(t,n){this._dt=t,this._s=n,e.call(this)}function n(e,t){t.onNext(0),t.onCompleted()}return le(t,e),t.prototype.subscribeCore=function(e){return this._s.scheduleFuture(e,this._dt,n)},t}(dt);function Vi(e,t,n){return new Ro((function(r){var i=e,o=Re(t);return n.scheduleRecursiveFuture(0,i,(function(e,t){if(o>0){var a=n.now();(i=new Date(i.getTime()+o)).getTime()<=a&&(i=new Date(a+o))}r.onNext(e),t(e+1,new Date(i))}))}))}function zi(e,t,n){return e===t?new Ro((function(e){return n.schedulePeriodic(0,t,(function(t){return e.onNext(t),t+1}))})):Et((function(){return Vi(new Date(n.now()+e),t,n)}))}var Hi=lt.interval=function(e,t){return zi(e,e,Ne(t)?t:Be)};lt.timer=function(t,n,r){var i;return Ne(r)||(r=Be),null!=n&&"number"==typeof n?i=n:Ne(n)&&(r=n),(t instanceof Date||"number"==typeof t)&&i===e?function(e,t){return new Ji(e,t)}(t,r):t instanceof Date&&i!==e?Vi(t,n,r):zi(t,i,r)};function Wi(e,t,n){return new Ro((function(r){var i,o=!1,a=new Se,s=null,u=[],c=!1;return i=e.materialize().timestamp(n).subscribe((function(e){var i,l;"E"===e.value.kind?((u=[]).push(e),s=e.value.error,l=!c):(u.push({value:e.value,timestamp:e.timestamp+t}),l=!o,o=!0),l&&(null!==s?r.onError(s):(i=new ke,a.setDisposable(i),i.setDisposable(n.scheduleRecursiveFuture(null,t,(function(e,t){var i,a,l,d;if(null===s){c=!0;do{l=null,u.length>0&&u[0].timestamp-n.now()<=0&&(l=u.shift().value),null!==l&&l.accept(r)}while(null!==l);d=!1,a=0,u.length>0?(d=!0,a=Math.max(0,u[0].timestamp-n.now())):o=!1,c=!1,null!==(i=s)?r.onError(i):d&&t(null,a)}})))))})),new Ee(i,a)}),e)}function Bi(e,t,n){return Et((function(){return Wi(e,t-n.now(),n)}))}function Gi(e,t,n){var r,i;return w(t)?i=t:(r=t,i=n),new Ro((function(t){var n=new ge,o=!1,a=new Se;function s(){a.setDisposable(e.subscribe((function(e){var r=C(i)(e);if(r===_)return t.onError(r.e);var o=new ke;n.add(o),o.setDisposable(r.subscribe((function(){t.onNext(e),n.remove(o),u()}),(function(e){t.onError(e)}),(function(){t.onNext(e),n.remove(o),u()})))}),(function(e){t.onError(e)}),(function(){o=!0,a.dispose(),u()})))}function u(){o&&0===n.length&&t.onCompleted()}return r?a.setDisposable(r.subscribe(s,(function(e){t.onError(e)}),s)):s(),new Ee(a,n)}),e)}it.delay=function(){var e=arguments[0];if("number"==typeof e||e instanceof Date){var t=e,n=arguments[1];return Ne(n)||(n=Be),t instanceof Date?Bi(this,t,n):Wi(this,t,n)}if(lt.isObservable(e)||w(e))return Gi(this,e,arguments[1]);throw new Error("Invalid arguments")};var Yi=function(e){function t(t,n,r){Ne(r)||(r=Be),this.source=t,this._dt=n,this._s=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new Se;return new Ee(this.source.subscribe(new Xi(e,this._dt,this._s,t)),t)},t}(dt),Xi=function(e){function t(t,n,r,i){this._o=t,this._d=n,this._scheduler=r,this._c=i,this._v=null,this._hv=!1,this._id=0,e.call(this)}return le(t,e),t.prototype.next=function(e){this._hv=!0,this._v=e;var t=++this._id,n=new ke;this._c.setDisposable(n),n.setDisposable(this._scheduler.scheduleFuture(this,this._d,(function(n,r){r._hv&&r._id===t&&r._o.onNext(e),r._hv=!1})))},t.prototype.error=function(e){this._c.dispose(),this._o.onError(e),this._hv=!1,this._id++},t.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},t}(ot);function Ki(e,t){return new Ro((function(n){var r,i=!1,o=new Se,a=0,s=e.subscribe((function(e){var s=C(t)(e);if(s===_)return n.onError(s.e);y(s)&&(s=xt(s)),i=!0,r=e;var u=++a,c=new ke;o.setDisposable(c),c.setDisposable(s.subscribe((function(){i&&a===u&&n.onNext(r),i=!1,c.dispose()}),(function(e){n.onError(e)}),(function(){i&&a===u&&n.onNext(r),i=!1,c.dispose()})))}),(function(e){o.dispose(),n.onError(e),i=!1,a++}),(function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,a++}));return new Ee(s,o)}),e)}function jn(e){return e.toArray()}function jn(e){return e.toArray()}it.debounce=function(){if(w(arguments[0]))return Ki(this,arguments[0]);if("number"==typeof arguments[0])return new Yi(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},it.windowWithTime=it.windowTime=function(e,t,n){var r,i=this;return null==t&&(r=e),Ne(n)||(n=Be),"number"==typeof t?r=t:Ne(t)&&(r=e,n=t),new Ro((function(t){var o,a,s=r,u=e,c=[],l=new Se,d=0;return o=new ge(l),a=new De(o),c.push(new Lo),t.onNext(pe(c[0],a)),function e(){var i=new ke,o=!1,p=!1;l.setDisposable(i),u===s?(o=!0,p=!0):u<s?o=!0:p=!0;var f=o?u:s,h=f-d;d=f,o&&(u+=r),p&&(s+=r),i.setDisposable(n.scheduleFuture(null,h,(function(){if(p){var n=new Lo;c.push(n),t.onNext(pe(n,a))}o&&c.shift().onCompleted(),e()})))}(),o.add(i.subscribe((function(e){for(var t=0,n=c.length;t<n;t++)c[t].onNext(e)}),(function(e){for(var n=0,r=c.length;n<r;n++)c[n].onError(e);t.onError(e)}),(function(){for(var e=0,n=c.length;e<n;e++)c[e].onCompleted();t.onCompleted()}))),a}),i)},it.windowWithTimeOrCount=it.windowTimeOrCount=function(e,t,n){var r=this;return Ne(n)||(n=Be),new Ro((function(i){var o=new Se,a=new ge(o),s=new De(a),u=0,c=0,l=new Lo;function d(t){var r=new ke;o.setDisposable(r),r.setDisposable(n.scheduleFuture(null,e,(function(){if(t===c){u=0;var e=++c;l.onCompleted(),l=new Lo,i.onNext(pe(l,s)),d(e)}})))}return i.onNext(pe(l,s)),d(0),a.add(r.subscribe((function(e){var n=0,r=!1;l.onNext(e),++u===t&&(r=!0,u=0,n=++c,l.onCompleted(),l=new Lo,i.onNext(pe(l,s))),r&&d(n)}),(function(e){l.onError(e),i.onError(e)}),(function(){l.onCompleted(),i.onCompleted()}))),s}),r)},it.bufferWithTime=it.bufferTime=function(e,t,n){return this.windowWithTime(e,t,n).flatMap(jn)},it.bufferWithTimeOrCount=it.bufferTimeOrCount=function(e,t,n){return this.windowWithTimeOrCount(e,t,n).flatMap(jn)};var Zi=function(e){function t(t,n){this.source=t,this._s=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Qi(e,this._s))},t}(dt),Qi=function(e){function t(t,n){this._o=t,this._s=n,this._l=n.now(),e.call(this)}return le(t,e),t.prototype.next=function(e){var t=this._s.now(),n=t-this._l;this._l=t,this._o.onNext({value:e,interval:n})},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.timeInterval=function(e){return Ne(e)||(e=Be),new Zi(this,e)};var eo=function(e){function t(t,n){this.source=t,this._s=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new to(e,this._s))},t}(dt),to=function(e){function t(t,n){this._o=t,this._s=n,e.call(this)}return le(t,e),t.prototype.next=function(e){this._o.onNext({value:e,timestamp:this._s.now()})},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.timestamp=function(e){return Ne(e)||(e=Be),new eo(this,e)};var no=function(e){function t(t,n){this.source=t,this._sampler=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t={o:e,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new ke};return t.sourceSubscription.setDisposable(this.source.subscribe(new io(t))),new Ee(t.sourceSubscription,this._sampler.subscribe(new ro(t)))},t}(dt),ro=function(e){function t(t){this._s=t,e.call(this)}return le(t,e),t.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},t.prototype.next=function(){this._handleMessage()},t.prototype.error=function(e){this._s.onError(e)},t.prototype.completed=function(){this._handleMessage()},t}(ot),io=function(e){function t(t){this._s=t,e.call(this)}return le(t,e),t.prototype.next=function(e){this._s.hasValue=!0,this._s.value=e},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},t}(ot);it.sample=function(e,t){return Ne(t)||(t=Be),new no(this,"number"==typeof e?Hi(e,t):e)};var oo=p.TimeoutError=function(e){this.message=e||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};function ao(e,t,n,r){return w(t)&&(r=n,n=t,t=Vt()),lt.isObservable(r)||(r=Xt(new oo)),new Ro((function(i){var o=new Se,a=new Se,s=new ke;o.setDisposable(s);var u=0,c=!1;function l(e){var t=u,n=new ke;function s(){return c=t===u}a.setDisposable(n),n.setDisposable(e.subscribe((function(){s()&&o.setDisposable(r.subscribe(i)),n.dispose()}),(function(e){s()&&i.onError(e)}),(function(){s()&&o.setDisposable(r.subscribe(i))})))}function d(){var e=!c;return e&&u++,e}return l(t),s.setDisposable(e.subscribe((function(e){if(d()){i.onNext(e);var t=C(n)(e);if(t===_)return i.onError(t.e);l(y(t)?xt(t):t)}}),(function(e){d()&&i.onError(e)}),(function(){d()&&i.onCompleted()}))),new Ee(o,a)}),e)}function so(e,t,n,r){return Ne(n)&&(r=n,n=Xt(new oo)),n instanceof Error&&(n=Xt(n)),Ne(r)||(r=Be),lt.isObservable(n)||(n=Xt(new oo)),new Ro((function(i){var o=0,a=new ke,s=new Se,u=!1,c=new Se;function l(){var e=o;c.setDisposable(r.scheduleFuture(null,t,(function(){(u=o===e)&&(y(n)&&(n=xt(n)),s.setDisposable(n.subscribe(i)))})))}return s.setDisposable(a),l(),a.setDisposable(e.subscribe((function(e){u||(o++,i.onNext(e),l())}),(function(e){u||(o++,i.onError(e))}),(function(){u||(o++,i.onCompleted())}))),new Ee(s,c)}),e)}oo.prototype=Object.create(Error.prototype),it.timeout=function(){var e=arguments[0];if(e instanceof Date||"number"==typeof e)return so(this,e,arguments[1],arguments[2]);if(lt.isObservable(e)||w(e))return ao(this,e,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var uo=function(e){function t(t,n,r,i,o,a){this._state=t,this._cndFn=n,this._itrFn=r,this._resFn=i,this._timeFn=o,this._s=a,e.call(this)}function n(e,t){if(e.hasResult&&e.o.onNext(e.result),e.first)e.first=!1;else if(e.newState=C(e.self._itrFn)(e.newState),e.newState===_)return e.o.onError(e.newState.e);if(e.hasResult=C(e.self._cndFn)(e.newState),e.hasResult===_)return e.o.onError(e.hasResult.e);if(e.hasResult){if(e.result=C(e.self._resFn)(e.newState),e.result===_)return e.o.onError(e.result.e);var n=C(e.self._timeFn)(e.newState);if(n===_)return e.o.onError(n.e);t(e,n)}else e.o.onCompleted()}return le(t,e),t.prototype.subscribeCore=function(e){var t={o:e,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(t,new Date(this._s.now()),n)},t}(dt);lt.generateWithAbsoluteTime=function(e,t,n,r,i,o){return Ne(o)||(o=Be),new uo(e,t,n,r,i,o)};var co=function(e){function t(t,n,r,i,o,a){this._state=t,this._cndFn=n,this._itrFn=r,this._resFn=i,this._timeFn=o,this._s=a,e.call(this)}function n(e,t){if(e.hasResult&&e.o.onNext(e.result),e.first)e.first=!1;else if(e.newState=C(e.self._itrFn)(e.newState),e.newState===_)return e.o.onError(e.newState.e);if(e.hasResult=C(e.self._cndFn)(e.newState),e.hasResult===_)return e.o.onError(e.hasResult.e);if(e.hasResult){if(e.result=C(e.self._resFn)(e.newState),e.result===_)return e.o.onError(e.result.e);var n=C(e.self._timeFn)(e.newState);if(n===_)return e.o.onError(n.e);t(e,n)}else e.o.onCompleted()}return le(t,e),t.prototype.subscribeCore=function(e){var t={o:e,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(t,0,n)},t}(dt);lt.generateWithRelativeTime=function(e,t,n,r,i,o){return Ne(o)||(o=Be),new co(e,t,n,r,i,o)};var lo=function(e){function t(t,n,r){this.source=t,this._dt=n,this._s=r,e.call(this)}function n(e,t){var n=t[0],r=t[1];t[2].setDisposable(n.subscribe(r))}return le(t,e),t.prototype.subscribeCore=function(e){var t=new Se;return t.setDisposable(this._s.scheduleFuture([this.source,e,t],this._dt,n)),t},t}(dt);it.delaySubscription=function(e,t){return Ne(t)||(t=Be),new lo(this,e,t)};var po=function(e){function t(t,n,r){this.source=t,this._d=n,this._s=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new fo(e,this))},t}(dt),fo=function(e){function t(t,n){this._o=t,this._s=n._s,this._d=n._d,this._q=[],e.call(this)}return le(t,e),t.prototype.next=function(e){var t=this._s.now();for(this._q.push({interval:t,value:e});this._q.length>0&&t-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){for(var e=this._s.now();this._q.length>0&&e-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},t}(ot);it.skipLastWithTime=function(e,t){return Ne(t)||(t=Be),new po(this,e,t)};var ho=function(e){function t(t,n,r){this.source=t,this._d=n,this._s=r,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new vo(e,this._d,this._s))},t}(dt),vo=function(e){function t(t,n,r){this._o=t,this._d=n,this._s=r,this._q=[],e.call(this)}return le(t,e),t.prototype.next=function(e){var t=this._s.now();for(this._q.push({interval:t,value:e});this._q.length>0&&t-this._q[0].interval>=this._d;)this._q.shift()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){for(var e=this._s.now();this._q.length>0;){var t=this._q.shift();e-t.interval<=this._d&&this._o.onNext(t.value)}this._o.onCompleted()},t}(ot);it.takeLastWithTime=function(e,t){return Ne(t)||(t=Be),new ho(this,e,t)},it.takeLastBufferWithTime=function(e,t){var n=this;return Ne(t)||(t=Be),new Ro((function(r){var i=[];return n.subscribe((function(n){var r=t.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=e;)i.shift()}),(function(e){r.onError(e)}),(function(){for(var n=t.now(),o=[];i.length>0;){var a=i.shift();n-a.interval<=e&&o.push(a.value)}r.onNext(o),r.onCompleted()}))}),n)};var mo=function(e){function t(t,n,r){this.source=t,this._d=n,this._s=r,e.call(this)}function n(e,t){t.onCompleted()}return le(t,e),t.prototype.subscribeCore=function(e){return new Ee(this._s.scheduleFuture(e,this._d,n),this.source.subscribe(e))},t}(dt);it.takeWithTime=function(e,t){return Ne(t)||(t=Be),new mo(this,e,t)};var go=function(e){function t(t,n,r){this.source=t,this._d=n,this._s=r,this._open=!1,e.call(this)}function n(e,t){t._open=!0}return le(t,e),t.prototype.subscribeCore=function(e){return new Ee(this._s.scheduleFuture(this,this._d,n),this.source.subscribe(new bo(e,this)))},t}(dt),bo=function(e){function t(t,n){this._o=t,this._p=n,e.call(this)}return le(t,e),t.prototype.next=function(e){this._p._open&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.skipWithTime=function(e,t){return Ne(t)||(t=Be),new go(this,e,t)};var yo=function(e){function t(t,n,r){this.source=t,this._st=n,this._s=r,e.call(this)}function n(e,t){t._open=!0}return le(t,e),t.prototype.subscribeCore=function(e){return this._open=!1,new Ee(this._s.scheduleFuture(this,this._st,n),this.source.subscribe(new wo(e,this)))},t}(dt),wo=function(e){function t(t,n){this._o=t,this._p=n,e.call(this)}return le(t,e),t.prototype.next=function(e){this._p._open&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(ot);it.skipUntilWithTime=function(e,t){return Ne(t)||(t=Be),new yo(this,e,t)},it.takeUntilWithTime=function(e,t){Ne(t)||(t=Be);var n=this;return new Ro((function(r){return new Ee(t.scheduleFuture(r,e,(function(e,t){t.onCompleted()})),n.subscribe(r))}),n)},it.throttle=function(e,t){Ne(t)||(t=Be);var n=+e||0;if(n<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new Ro((function(e){var i=0;return r.subscribe((function(r){var o=t.now();(0===i||o-i>=n)&&(i=o,e.onNext(r))}),(function(t){e.onError(t)}),(function(){e.onCompleted()}))}),r)};var $o=function(e){function t(t,n){this._o=t,this._xform=n,e.call(this)}return le(t,e),t.prototype.next=function(e){var t=C(this._xform["@@transducer/step"]).call(this._xform,this._o,e);t===_&&this._o.onError(t.e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},t}(ot);it.transduce=function(e){var t=this;return new Ro((function(n){var r=e(function(e){return{"@@transducer/init":function(){return e},"@@transducer/step":function(e,t){return e.onNext(t)},"@@transducer/result":function(e){return e.onCompleted()}}}(n));return t.subscribe(new $o(n,r))}),t)};var _o=function(e){function t(t){this.source=t,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){var t=new ke,n=new ge,r={hasCurrent:!1,isStopped:!1,o:e,g:n};return n.add(t),t.setDisposable(this.source.subscribe(new Co(r))),n},t}(dt),Co=function(e){function t(t){this._s=t,e.call(this)}function n(t,n){this._s=t,this._i=n,e.call(this)}return le(t,e),t.prototype.next=function(e){if(!this._s.hasCurrent){this._s.hasCurrent=!0,y(e)&&(e=xt(e));var t=new ke;this._s.g.add(t),t.setDisposable(e.subscribe(new n(this._s,t)))}},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},le(n,e),n.prototype.next=function(e){this._s.o.onNext(e)},n.prototype.error=function(e){this._s.o.onError(e)},n.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},t}(ot);it.switchFirst=function(){return new _o(this)},it.flatMapFirst=it.exhaustMap=function(e,t,n){return new pt(this,e,t,n).switchFirst()},it.flatMapWithMaxConcurrent=it.flatMapMaxConcurrent=function(e,t,n,r){return new pt(this,t,n,r).merge(e)};var xo=p.VirtualTimeScheduler=function(e){function t(t,n){this.clock=t,this.comparer=n,this.isEnabled=!1,this.queue=new ve(1024),e.call(this)}le(t,e);var n=t.prototype;return n.now=function(){return this.toAbsoluteTime(this.clock)},n.schedule=function(e,t){return this.scheduleAbsolute(e,this.clock,t)},n.scheduleFuture=function(e,t,n){var r=t instanceof Date?this.toRelativeTime(t-this.now()):this.toRelativeTime(t);return this.scheduleRelative(e,r,n)},n.add=L,n.toAbsoluteTime=L,n.toRelativeTime=L,n.schedulePeriodic=function(e,t,n){return new Le(this,e,t,n).start()},n.scheduleRelative=function(e,t,n){var r=this.add(this.clock,t);return this.scheduleAbsolute(e,r,n)},n.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var e=this.getNext();null!==e?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1}while(this.isEnabled)}},n.stop=function(){this.isEnabled=!1},n.advanceTo=function(e){var t=this.comparer(this.clock,e);if(this.comparer(this.clock,e)>0)throw new N;if(0!==t&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,e)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=e}},n.advanceBy=function(e){var t=this.add(this.clock,e),n=this.comparer(this.clock,t);if(n>0)throw new N;0!==n&&this.advanceTo(t)},n.sleep=function(e){var t=this.add(this.clock,e);if(this.comparer(this.clock,t)>=0)throw new N;this.clock=t},n.getNext=function(){for(;this.queue.length>0;){var e=this.queue.peek();if(!e.isCancelled())return e;this.queue.dequeue()}return null},n.scheduleAbsolute=function(e,t,n){var r=this;var i=new Pe(this,e,(function(e,t){return r.queue.remove(i),n(e,t)}),t,this.comparer);return this.queue.enqueue(i),i.disposable},t}(Me);function ko(e){this.predicate=e}function So(e){this.predicate=e}p.HistoricalScheduler=function(e){function t(t,n){var r=null==t?0:t,i=n||g;e.call(this,r,i)}le(t,e);var n=t.prototype;return n.add=function(e,t){return e+t},n.toAbsoluteTime=function(e){return new Date(e).getTime()},n.toRelativeTime=function(e){return e},t}(p.VirtualTimeScheduler),ko.prototype.equals=function(e){return e===this||null!=e&&("N"===e.kind&&this.predicate(e.value))},So.prototype.equals=function(e){return e===this||null!=e&&("E"===e.kind&&this.predicate(e.error))};var Eo=p.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(e,t){return new To(e,"function"==typeof t?new ko(t):Ye.createOnNext(t))},onError:function(e,t){return new To(e,"function"==typeof t?new So(t):Ye.createOnError(t))},onCompleted:function(e){return new To(e,Ye.createOnCompleted())},subscribe:function(e,t){return new Do(e,t)}},To=p.Recorded=function(e,t,n){this.time=e,this.value=t,this.comparer=n||m};To.prototype.equals=function(e){return this.time===e.time&&this.comparer(this.value,e.value)},To.prototype.toString=function(){return this.value.toString()+"@"+this.time};var Do=p.Subscription=function(e,t){this.subscribe=e,this.unsubscribe=t||Number.MAX_VALUE};Do.prototype.equals=function(e){return this.subscribe===e.subscribe&&this.unsubscribe===e.unsubscribe},Do.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"},(p.MockDisposable=function(e){this.scheduler=e,this.disposes=[],this.disposes.push(this.scheduler.clock)}).prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var Ao=function(e){function t(t){e.call(this),this.scheduler=t,this.messages=[]}le(t,e);var n=t.prototype;return n.onNext=function(e){this.messages.push(new To(this.scheduler.clock,Ye.createOnNext(e)))},n.onError=function(e){this.messages.push(new To(this.scheduler.clock,Ye.createOnError(e)))},n.onCompleted=function(){this.messages.push(new To(this.scheduler.clock,Ye.createOnCompleted()))},t}(nt);function Oo(e,t){var n=this;this.scheduler=e,this.messages=t,this.subscriptions=[],this.observers=[];for(var r=0,i=this.messages.length;r<i;r++){var o=this.messages[r];!function(t){e.scheduleAbsolute(null,o.time,(function(){for(var e=n.observers.slice(0),r=0,i=e.length;r<i;r++)t.accept(e[r]);return $e}))}(o.value)}}Oo.prototype.then=function(t,n){var r=this;this.subscriptions.push(new Do(this.scheduler.clock));var i,o=this.subscriptions.length-1,a=p.Observer.create((function(n){var s=t(n);if(s&&"function"==typeof s.then)i=s;else{var u=r.scheduler.clock;i=new Oo(r.scheduler,[p.ReactiveTest.onNext(u,e),p.ReactiveTest.onCompleted(u)])}var c=r.observers.indexOf(a);r.observers.splice(c,1),r.subscriptions[o]=new Do(r.subscriptions[o].subscribe,r.scheduler.clock)}),(function(e){n(e);var t=r.observers.indexOf(a);r.observers.splice(t,1),r.subscriptions[o]=new Do(r.subscriptions[o].subscribe,r.scheduler.clock)}));return this.observers.push(a),i||new Oo(this.scheduler,this.messages)};var Po=function(e){function t(t,n){e.call(this);var r,i=this;this.scheduler=t,this.messages=n,this.subscriptions=[],this.observers=[];for(var o=0,a=this.messages.length;o<a;o++)!function(e){t.scheduleAbsolute(null,r.time,(function(){for(var t=i.observers.slice(0),n=0,r=t.length;n<r;n++)e.accept(t[n]);return $e}))}((r=this.messages[o]).value)}return le(t,e),t.prototype._subscribe=function(e){var t=this;this.observers.push(e),this.subscriptions.push(new Do(this.scheduler.clock));var n=this.subscriptions.length-1;return we((function(){var r=t.observers.indexOf(e);t.observers.splice(r,1),t.subscriptions[n]=new Do(t.subscriptions[n].subscribe,t.scheduler.clock)}))},t}(lt),Mo=function(e){function t(t,n){e.call(this),this.scheduler=t,this.messages=n,this.subscriptions=[]}return le(t,e),t.prototype._subscribe=function(e){var t,n=this;this.subscriptions.push(new Do(this.scheduler.clock));for(var r=this.subscriptions.length-1,i=new ge,o=0,a=this.messages.length;o<a;o++)!function(r){i.add(n.scheduler.scheduleRelative(null,t.time,(function(){return r.accept(e),$e})))}((t=this.messages[o]).value);return we((function(){n.subscriptions[r]=new Do(n.subscriptions[r].subscribe,n.scheduler.clock),i.dispose()}))},t}(lt);p.TestScheduler=function(e){function t(e,t){return e>t?1:e<t?-1:0}function n(){e.call(this,0,t)}return le(n,e),n.prototype.scheduleAbsolute=function(t,n,r){return n<=this.clock&&(n=this.clock+1),e.prototype.scheduleAbsolute.call(this,t,n,r)},n.prototype.add=function(e,t){return e+t},n.prototype.toAbsoluteTime=function(e){return new Date(e).getTime()},n.prototype.toRelativeTime=function(e){return e},n.prototype.startScheduler=function(e,t){t||(t={}),null==t.created&&(t.created=Eo.created),null==t.subscribed&&(t.subscribed=Eo.subscribed),null==t.disposed&&(t.disposed=Eo.disposed);var n,r,i=this.createObserver();return this.scheduleAbsolute(null,t.created,(function(){return n=e(),$e})),this.scheduleAbsolute(null,t.subscribed,(function(){return r=n.subscribe(i),$e})),this.scheduleAbsolute(null,t.disposed,(function(){return r.dispose(),$e})),this.start(),i},n.prototype.createHotObservable=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var n=0;n<t;n++)e[n]=arguments[n]}return new Po(this,e)},n.prototype.createColdObservable=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var n=0;n<t;n++)e[n]=arguments[n]}return new Mo(this,e)},n.prototype.createResolvedPromise=function(e,t){return new Oo(this,[p.ReactiveTest.onNext(e,t),p.ReactiveTest.onCompleted(e)])},n.prototype.createRejectedPromise=function(e,t){return new Oo(this,[p.ReactiveTest.onError(e,t)])},n.prototype.createObserver=function(){return new Ao(this)},n}(xo);var Ro=p.AnonymousObservable=function(e){function t(e,t){var n,r=t[0],i=t[1],o=C(i.__subscribe).call(i,r);o!==_||r.fail(_.e)||x(_.e),r.setDisposable((n=o)&&w(n.dispose)?n:w(n)?we(n):$e)}function n(t,n){this.source=n,this.__subscribe=t,e.call(this)}return le(n,e),n.prototype._subscribe=function(e){var n=new No(e),r=[n,this];return Je.scheduleRequired()?Je.schedule(r,t):t(0,r),n},n}(lt),No=function(e){function t(t){e.call(this),this.observer=t,this.m=new ke}le(t,e);var n=t.prototype;return n.next=function(e){var t=C(this.observer.onNext).call(this.observer,e);t===_&&(this.dispose(),x(t.e))},n.error=function(e){var t=C(this.observer.onError).call(this.observer,e);this.dispose(),t===_&&x(t.e)},n.completed=function(){var e=C(this.observer.onCompleted).call(this.observer);this.dispose(),e===_&&x(e.e)},n.setDisposable=function(e){this.m.setDisposable(e)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){e.prototype.dispose.call(this),this.m.dispose()},t}(ot),jo=function(e){function t(t,n){this._m=t,this._u=n,e.call(this)}return le(t,e),t.prototype.subscribeCore=function(e){return new Ee(this._m.getDisposable(),this._u.subscribe(e))},t}(dt),Io=function(e){function t(t,n,r){e.call(this),this.key=t,this.underlyingObservable=r?new jo(r,n):n}return le(t,e),t.prototype._subscribe=function(e){return this.underlyingObservable.subscribe(e)},t}(lt),Lo=p.Subject=function(e){function t(){e.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return le(t,e),de(t.prototype,nt.prototype,{_subscribe:function(e){return Ce(this),this.isStopped?this.hasError?(e.onError(this.error),$e):(e.onCompleted(),$e):(this.observers.push(e),new $i(this,e))},hasObservers:function(){return Ce(this),this.observers.length>0},onCompleted:function(){if(Ce(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=$(this.observers),n=t.length;e<n;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(Ce(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(Ce(this),!this.isStopped)for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onNext(e)},dispose:function(){this.isDisposed=!0,this.observers=null}}),t.create=function(e,t){return new Jo(e,t)},t}(lt),Uo=p.AsyncSubject=function(e){function t(){e.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return le(t,e),de(t.prototype,nt.prototype,{_subscribe:function(e){return Ce(this),this.isStopped?(this.hasError?e.onError(this.error):this.hasValue?(e.onNext(this.value),e.onCompleted()):e.onCompleted(),$e):(this.observers.push(e),new $i(this,e))},hasObservers:function(){return Ce(this),this.observers.length>0},onCompleted:function(){var e;if(Ce(this),!this.isStopped){this.isStopped=!0;var t=$(this.observers),n=t.length;if(this.hasValue)for(e=0;e<n;e++){var r=t[e];r.onNext(this.value),r.onCompleted()}else for(e=0;e<n;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(Ce(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){Ce(this),this.isStopped||(this.value=e,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),t}(lt),qo=p.BehaviorSubject=function(e){function t(t){e.call(this),this.value=t,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return le(t,e),de(t.prototype,nt.prototype,{_subscribe:function(e){return Ce(this),this.isStopped?(this.hasError?e.onError(this.error):e.onCompleted(),$e):(this.observers.push(e),e.onNext(this.value),new $i(this,e))},getValue:function(){return Ce(this),this.hasError&&x(this.error),this.value},hasObservers:function(){return Ce(this),this.observers.length>0},onCompleted:function(){if(Ce(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=$(this.observers),n=t.length;e<n;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(Ce(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(Ce(this),!this.isStopped){this.value=e;for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onNext(e)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),t}(lt),Fo=p.ReplaySubject=function(e){var t=Math.pow(2,53)-1;function n(n,r,i){this.bufferSize=null==n?t:n,this.windowSize=null==r?t:r,this.scheduler=i||Je,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,e.call(this)}return le(n,e),de(n.prototype,nt.prototype,{_subscribe:function(e){Ce(this);var t,n,r=new ut(this.scheduler,e),i=(t=this,n=r,we((function(){n.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(n),1)})));this._trim(this.scheduler.now()),this.observers.push(r);for(var o=0,a=this.q.length;o<a;o++)r.onNext(this.q[o].value);return this.hasError?r.onError(this.error):this.isStopped&&r.onCompleted(),r.ensureActive(),i},hasObservers:function(){return Ce(this),this.observers.length>0},_trim:function(e){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&e-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(e){if(Ce(this),!this.isStopped){var t=this.scheduler.now();this.q.push({interval:t,value:e}),this._trim(t);for(var n=0,r=$(this.observers),i=r.length;n<i;n++){var o=r[n];o.onNext(e),o.ensureActive()}}},onError:function(e){if(Ce(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;var t=this.scheduler.now();this._trim(t);for(var n=0,r=$(this.observers),i=r.length;n<i;n++){var o=r[n];o.onError(e),o.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Ce(this),!this.isStopped){this.isStopped=!0;var e=this.scheduler.now();this._trim(e);for(var t=0,n=$(this.observers),r=n.length;t<r;t++){var i=n[t];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),n}(lt),Jo=p.AnonymousSubject=function(e){function t(t,n){this.observer=t,this.observable=n,e.call(this)}return le(t,e),de(t.prototype,nt.prototype,{_subscribe:function(e){return this.observable.subscribe(e)},onCompleted:function(){this.observer.onCompleted()},onError:function(e){this.observer.onError(e)},onNext:function(e){this.observer.onNext(e)}}),t}(lt);p.Pauser=function(e){function t(){e.call(this)}return le(t,e),t.prototype.pause=function(){this.onNext(!1)},t.prototype.resume=function(){this.onNext(!0)},t}(Lo),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(d.Rx=p,define((function(){return p}))):i&&o?c?(o.exports=p).Rx=p:i.Rx=p:d.Rx=p;var Vo=O()}.call(this);